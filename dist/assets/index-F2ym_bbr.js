var Q_=t=>{throw TypeError(t)};var Rp=(t,e,n)=>e.has(t)||Q_("Cannot "+n);var $=(t,e,n)=>(Rp(t,e,"read from private field"),n?n.call(t):e.get(t)),Ce=(t,e,n)=>e.has(t)?Q_("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),pe=(t,e,n,r)=>(Rp(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),jt=(t,e,n)=>(Rp(t,e,"access private method"),n);var Mu=(t,e,n,r)=>({set _(s){pe(t,e,s,n)},get _(){return $(t,e,r)}});function Mk(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function uS(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var dS={exports:{}},Jh={},hS={exports:{}},Ee={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nu=Symbol.for("react.element"),jk=Symbol.for("react.portal"),Vk=Symbol.for("react.fragment"),Fk=Symbol.for("react.strict_mode"),Uk=Symbol.for("react.profiler"),$k=Symbol.for("react.provider"),Bk=Symbol.for("react.context"),zk=Symbol.for("react.forward_ref"),Wk=Symbol.for("react.suspense"),Hk=Symbol.for("react.memo"),qk=Symbol.for("react.lazy"),Y_=Symbol.iterator;function Gk(t){return t===null||typeof t!="object"?null:(t=Y_&&t[Y_]||t["@@iterator"],typeof t=="function"?t:null)}var fS={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},pS=Object.assign,mS={};function tl(t,e,n){this.props=t,this.context=e,this.refs=mS,this.updater=n||fS}tl.prototype.isReactComponent={};tl.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};tl.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function gS(){}gS.prototype=tl.prototype;function ky(t,e,n){this.props=t,this.context=e,this.refs=mS,this.updater=n||fS}var Oy=ky.prototype=new gS;Oy.constructor=ky;pS(Oy,tl.prototype);Oy.isPureReactComponent=!0;var X_=Array.isArray,yS=Object.prototype.hasOwnProperty,Dy={current:null},vS={key:!0,ref:!0,__self:!0,__source:!0};function wS(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)yS.call(e,r)&&!vS.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];s.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:nu,type:t,key:i,ref:o,props:s,_owner:Dy.current}}function Kk(t,e){return{$$typeof:nu,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Ly(t){return typeof t=="object"&&t!==null&&t.$$typeof===nu}function Qk(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var J_=/\/+/g;function Pp(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Qk(""+t.key):e.toString(36)}function vd(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case nu:case jk:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+Pp(o,0):r,X_(s)?(n="",t!=null&&(n=t.replace(J_,"$&/")+"/"),vd(s,e,n,"",function(u){return u})):s!=null&&(Ly(s)&&(s=Kk(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(J_,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",X_(t))for(var a=0;a<t.length;a++){i=t[a];var l=r+Pp(i,a);o+=vd(i,e,n,l,s)}else if(l=Gk(t),typeof l=="function")for(t=l.call(t),a=0;!(i=t.next()).done;)i=i.value,l=r+Pp(i,a++),o+=vd(i,e,n,l,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function ju(t,e,n){if(t==null)return t;var r=[],s=0;return vd(t,r,"","",function(i){return e.call(n,i,s++)}),r}function Yk(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var tn={current:null},wd={transition:null},Xk={ReactCurrentDispatcher:tn,ReactCurrentBatchConfig:wd,ReactCurrentOwner:Dy};function _S(){throw Error("act(...) is not supported in production builds of React.")}Ee.Children={map:ju,forEach:function(t,e,n){ju(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return ju(t,function(){e++}),e},toArray:function(t){return ju(t,function(e){return e})||[]},only:function(t){if(!Ly(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Ee.Component=tl;Ee.Fragment=Vk;Ee.Profiler=Uk;Ee.PureComponent=ky;Ee.StrictMode=Fk;Ee.Suspense=Wk;Ee.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Xk;Ee.act=_S;Ee.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=pS({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=Dy.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)yS.call(e,l)&&!vS.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:nu,type:t.type,key:s,ref:i,props:r,_owner:o}};Ee.createContext=function(t){return t={$$typeof:Bk,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:$k,_context:t},t.Consumer=t};Ee.createElement=wS;Ee.createFactory=function(t){var e=wS.bind(null,t);return e.type=t,e};Ee.createRef=function(){return{current:null}};Ee.forwardRef=function(t){return{$$typeof:zk,render:t}};Ee.isValidElement=Ly;Ee.lazy=function(t){return{$$typeof:qk,_payload:{_status:-1,_result:t},_init:Yk}};Ee.memo=function(t,e){return{$$typeof:Hk,type:t,compare:e===void 0?null:e}};Ee.startTransition=function(t){var e=wd.transition;wd.transition={};try{t()}finally{wd.transition=e}};Ee.unstable_act=_S;Ee.useCallback=function(t,e){return tn.current.useCallback(t,e)};Ee.useContext=function(t){return tn.current.useContext(t)};Ee.useDebugValue=function(){};Ee.useDeferredValue=function(t){return tn.current.useDeferredValue(t)};Ee.useEffect=function(t,e){return tn.current.useEffect(t,e)};Ee.useId=function(){return tn.current.useId()};Ee.useImperativeHandle=function(t,e,n){return tn.current.useImperativeHandle(t,e,n)};Ee.useInsertionEffect=function(t,e){return tn.current.useInsertionEffect(t,e)};Ee.useLayoutEffect=function(t,e){return tn.current.useLayoutEffect(t,e)};Ee.useMemo=function(t,e){return tn.current.useMemo(t,e)};Ee.useReducer=function(t,e,n){return tn.current.useReducer(t,e,n)};Ee.useRef=function(t){return tn.current.useRef(t)};Ee.useState=function(t){return tn.current.useState(t)};Ee.useSyncExternalStore=function(t,e,n){return tn.current.useSyncExternalStore(t,e,n)};Ee.useTransition=function(){return tn.current.useTransition()};Ee.version="18.3.1";hS.exports=Ee;var y=hS.exports;const K=uS(y),My=Mk({__proto__:null,default:K},[y]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jk=y,Zk=Symbol.for("react.element"),e2=Symbol.for("react.fragment"),t2=Object.prototype.hasOwnProperty,n2=Jk.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,r2={key:!0,ref:!0,__self:!0,__source:!0};function ES(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)t2.call(e,r)&&!r2.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:Zk,type:t,key:i,ref:o,props:s,_owner:n2.current}}Jh.Fragment=e2;Jh.jsx=ES;Jh.jsxs=ES;dS.exports=Jh;var h=dS.exports,xS={exports:{}},On={},TS={exports:{}},SS={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(M,F){var H=M.length;M.push(F);e:for(;0<H;){var re=H-1>>>1,Z=M[re];if(0<s(Z,F))M[re]=F,M[H]=Z,H=re;else break e}}function n(M){return M.length===0?null:M[0]}function r(M){if(M.length===0)return null;var F=M[0],H=M.pop();if(H!==F){M[0]=H;e:for(var re=0,Z=M.length,ce=Z>>>1;re<ce;){var oe=2*(re+1)-1,Ne=M[oe],Me=oe+1,J=M[Me];if(0>s(Ne,H))Me<Z&&0>s(J,Ne)?(M[re]=J,M[Me]=H,re=Me):(M[re]=Ne,M[oe]=H,re=oe);else if(Me<Z&&0>s(J,H))M[re]=J,M[Me]=H,re=Me;else break e}}return F}function s(M,F){var H=M.sortIndex-F.sortIndex;return H!==0?H:M.id-F.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],d=1,f=null,p=3,g=!1,S=!1,v=!1,x=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function T(M){for(var F=n(u);F!==null;){if(F.callback===null)r(u);else if(F.startTime<=M)r(u),F.sortIndex=F.expirationTime,e(l,F);else break;F=n(u)}}function C(M){if(v=!1,T(M),!S)if(n(l)!==null)S=!0,q(D);else{var F=n(u);F!==null&&B(C,F.startTime-M)}}function D(M,F){S=!1,v&&(v=!1,E(b),b=-1),g=!0;var H=p;try{for(T(F),f=n(l);f!==null&&(!(f.expirationTime>F)||M&&!P());){var re=f.callback;if(typeof re=="function"){f.callback=null,p=f.priorityLevel;var Z=re(f.expirationTime<=F);F=t.unstable_now(),typeof Z=="function"?f.callback=Z:f===n(l)&&r(l),T(F)}else r(l);f=n(l)}if(f!==null)var ce=!0;else{var oe=n(u);oe!==null&&B(C,oe.startTime-F),ce=!1}return ce}finally{f=null,p=H,g=!1}}var L=!1,I=null,b=-1,R=5,k=-1;function P(){return!(t.unstable_now()-k<R)}function O(){if(I!==null){var M=t.unstable_now();k=M;var F=!0;try{F=I(!0,M)}finally{F?N():(L=!1,I=null)}}else L=!1}var N;if(typeof w=="function")N=function(){w(O)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,Q=V.port2;V.port1.onmessage=O,N=function(){Q.postMessage(null)}}else N=function(){x(O,0)};function q(M){I=M,L||(L=!0,N())}function B(M,F){b=x(function(){M(t.unstable_now())},F)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(M){M.callback=null},t.unstable_continueExecution=function(){S||g||(S=!0,q(D))},t.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<M?Math.floor(1e3/M):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(M){switch(p){case 1:case 2:case 3:var F=3;break;default:F=p}var H=p;p=F;try{return M()}finally{p=H}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(M,F){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var H=p;p=M;try{return F()}finally{p=H}},t.unstable_scheduleCallback=function(M,F,H){var re=t.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?re+H:re):H=re,M){case 1:var Z=-1;break;case 2:Z=250;break;case 5:Z=1073741823;break;case 4:Z=1e4;break;default:Z=5e3}return Z=H+Z,M={id:d++,callback:F,priorityLevel:M,startTime:H,expirationTime:Z,sortIndex:-1},H>re?(M.sortIndex=H,e(u,M),n(l)===null&&M===n(u)&&(v?(E(b),b=-1):v=!0,B(C,H-re))):(M.sortIndex=Z,e(l,M),S||g||(S=!0,q(D))),M},t.unstable_shouldYield=P,t.unstable_wrapCallback=function(M){var F=p;return function(){var H=p;p=F;try{return M.apply(this,arguments)}finally{p=H}}}})(SS);TS.exports=SS;var s2=TS.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var i2=y,Nn=s2;function G(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var bS=new Set,wc={};function Do(t,e){ja(t,e),ja(t+"Capture",e)}function ja(t,e){for(wc[t]=e,t=0;t<e.length;t++)bS.add(e[t])}var ms=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Mm=Object.prototype.hasOwnProperty,o2=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Z_={},e0={};function a2(t){return Mm.call(e0,t)?!0:Mm.call(Z_,t)?!1:o2.test(t)?e0[t]=!0:(Z_[t]=!0,!1)}function l2(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function c2(t,e,n,r){if(e===null||typeof e>"u"||l2(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function nn(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var Dt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Dt[t]=new nn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Dt[e]=new nn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Dt[t]=new nn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Dt[t]=new nn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Dt[t]=new nn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Dt[t]=new nn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Dt[t]=new nn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Dt[t]=new nn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Dt[t]=new nn(t,5,!1,t.toLowerCase(),null,!1,!1)});var jy=/[\-:]([a-z])/g;function Vy(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(jy,Vy);Dt[e]=new nn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(jy,Vy);Dt[e]=new nn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(jy,Vy);Dt[e]=new nn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Dt[t]=new nn(t,1,!1,t.toLowerCase(),null,!1,!1)});Dt.xlinkHref=new nn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Dt[t]=new nn(t,1,!1,t.toLowerCase(),null,!0,!0)});function Fy(t,e,n,r){var s=Dt.hasOwnProperty(e)?Dt[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(c2(e,n,s,r)&&(n=null),r||s===null?a2(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Cs=i2.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Vu=Symbol.for("react.element"),sa=Symbol.for("react.portal"),ia=Symbol.for("react.fragment"),Uy=Symbol.for("react.strict_mode"),jm=Symbol.for("react.profiler"),IS=Symbol.for("react.provider"),CS=Symbol.for("react.context"),$y=Symbol.for("react.forward_ref"),Vm=Symbol.for("react.suspense"),Fm=Symbol.for("react.suspense_list"),By=Symbol.for("react.memo"),qs=Symbol.for("react.lazy"),AS=Symbol.for("react.offscreen"),t0=Symbol.iterator;function Nl(t){return t===null||typeof t!="object"?null:(t=t0&&t[t0]||t["@@iterator"],typeof t=="function"?t:null)}var et=Object.assign,Np;function Bl(t){if(Np===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Np=e&&e[1]||""}return`
`+Np+t}var kp=!1;function Op(t,e){if(!t||kp)return"";kp=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{kp=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Bl(t):""}function u2(t){switch(t.tag){case 5:return Bl(t.type);case 16:return Bl("Lazy");case 13:return Bl("Suspense");case 19:return Bl("SuspenseList");case 0:case 2:case 15:return t=Op(t.type,!1),t;case 11:return t=Op(t.type.render,!1),t;case 1:return t=Op(t.type,!0),t;default:return""}}function Um(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ia:return"Fragment";case sa:return"Portal";case jm:return"Profiler";case Uy:return"StrictMode";case Vm:return"Suspense";case Fm:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case CS:return(t.displayName||"Context")+".Consumer";case IS:return(t._context.displayName||"Context")+".Provider";case $y:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case By:return e=t.displayName||null,e!==null?e:Um(t.type)||"Memo";case qs:e=t._payload,t=t._init;try{return Um(t(e))}catch{}}return null}function d2(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Um(e);case 8:return e===Uy?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Si(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function RS(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function h2(t){var e=RS(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Fu(t){t._valueTracker||(t._valueTracker=h2(t))}function PS(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=RS(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function qd(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function $m(t,e){var n=e.checked;return et({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function n0(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Si(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function NS(t,e){e=e.checked,e!=null&&Fy(t,"checked",e,!1)}function Bm(t,e){NS(t,e);var n=Si(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?zm(t,e.type,n):e.hasOwnProperty("defaultValue")&&zm(t,e.type,Si(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function r0(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function zm(t,e,n){(e!=="number"||qd(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var zl=Array.isArray;function ga(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Si(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function Wm(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(G(91));return et({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function s0(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(G(92));if(zl(n)){if(1<n.length)throw Error(G(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Si(n)}}function kS(t,e){var n=Si(e.value),r=Si(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function i0(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function OS(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Hm(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?OS(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Uu,DS=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Uu=Uu||document.createElement("div"),Uu.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Uu.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function _c(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var tc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},f2=["Webkit","ms","Moz","O"];Object.keys(tc).forEach(function(t){f2.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),tc[e]=tc[t]})});function LS(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||tc.hasOwnProperty(t)&&tc[t]?(""+e).trim():e+"px"}function MS(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=LS(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var p2=et({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function qm(t,e){if(e){if(p2[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(G(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(G(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(G(61))}if(e.style!=null&&typeof e.style!="object")throw Error(G(62))}}function Gm(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Km=null;function zy(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Qm=null,ya=null,va=null;function o0(t){if(t=iu(t)){if(typeof Qm!="function")throw Error(G(280));var e=t.stateNode;e&&(e=rf(e),Qm(t.stateNode,t.type,e))}}function jS(t){ya?va?va.push(t):va=[t]:ya=t}function VS(){if(ya){var t=ya,e=va;if(va=ya=null,o0(t),e)for(t=0;t<e.length;t++)o0(e[t])}}function FS(t,e){return t(e)}function US(){}var Dp=!1;function $S(t,e,n){if(Dp)return t(e,n);Dp=!0;try{return FS(t,e,n)}finally{Dp=!1,(ya!==null||va!==null)&&(US(),VS())}}function Ec(t,e){var n=t.stateNode;if(n===null)return null;var r=rf(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(G(231,e,typeof n));return n}var Ym=!1;if(ms)try{var kl={};Object.defineProperty(kl,"passive",{get:function(){Ym=!0}}),window.addEventListener("test",kl,kl),window.removeEventListener("test",kl,kl)}catch{Ym=!1}function m2(t,e,n,r,s,i,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(d){this.onError(d)}}var nc=!1,Gd=null,Kd=!1,Xm=null,g2={onError:function(t){nc=!0,Gd=t}};function y2(t,e,n,r,s,i,o,a,l){nc=!1,Gd=null,m2.apply(g2,arguments)}function v2(t,e,n,r,s,i,o,a,l){if(y2.apply(this,arguments),nc){if(nc){var u=Gd;nc=!1,Gd=null}else throw Error(G(198));Kd||(Kd=!0,Xm=u)}}function Lo(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function BS(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function a0(t){if(Lo(t)!==t)throw Error(G(188))}function w2(t){var e=t.alternate;if(!e){if(e=Lo(t),e===null)throw Error(G(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return a0(s),t;if(i===r)return a0(s),e;i=i.sibling}throw Error(G(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(G(189))}}if(n.alternate!==r)throw Error(G(190))}if(n.tag!==3)throw Error(G(188));return n.stateNode.current===n?t:e}function zS(t){return t=w2(t),t!==null?WS(t):null}function WS(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=WS(t);if(e!==null)return e;t=t.sibling}return null}var HS=Nn.unstable_scheduleCallback,l0=Nn.unstable_cancelCallback,_2=Nn.unstable_shouldYield,E2=Nn.unstable_requestPaint,lt=Nn.unstable_now,x2=Nn.unstable_getCurrentPriorityLevel,Wy=Nn.unstable_ImmediatePriority,qS=Nn.unstable_UserBlockingPriority,Qd=Nn.unstable_NormalPriority,T2=Nn.unstable_LowPriority,GS=Nn.unstable_IdlePriority,Zh=null,$r=null;function S2(t){if($r&&typeof $r.onCommitFiberRoot=="function")try{$r.onCommitFiberRoot(Zh,t,void 0,(t.current.flags&128)===128)}catch{}}var hr=Math.clz32?Math.clz32:C2,b2=Math.log,I2=Math.LN2;function C2(t){return t>>>=0,t===0?32:31-(b2(t)/I2|0)|0}var $u=64,Bu=4194304;function Wl(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Yd(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=Wl(a):(i&=o,i!==0&&(r=Wl(i)))}else o=n&~s,o!==0?r=Wl(o):i!==0&&(r=Wl(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-hr(e),s=1<<n,r|=t[n],e&=~s;return r}function A2(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function R2(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-hr(i),a=1<<o,l=s[o];l===-1?(!(a&n)||a&r)&&(s[o]=A2(a,e)):l<=e&&(t.expiredLanes|=a),i&=~a}}function Jm(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function KS(){var t=$u;return $u<<=1,!($u&4194240)&&($u=64),t}function Lp(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function ru(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-hr(e),t[e]=n}function P2(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-hr(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function Hy(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-hr(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var Le=0;function QS(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var YS,qy,XS,JS,ZS,Zm=!1,zu=[],ui=null,di=null,hi=null,xc=new Map,Tc=new Map,Ks=[],N2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function c0(t,e){switch(t){case"focusin":case"focusout":ui=null;break;case"dragenter":case"dragleave":di=null;break;case"mouseover":case"mouseout":hi=null;break;case"pointerover":case"pointerout":xc.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Tc.delete(e.pointerId)}}function Ol(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=iu(e),e!==null&&qy(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function k2(t,e,n,r,s){switch(e){case"focusin":return ui=Ol(ui,t,e,n,r,s),!0;case"dragenter":return di=Ol(di,t,e,n,r,s),!0;case"mouseover":return hi=Ol(hi,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return xc.set(i,Ol(xc.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Tc.set(i,Ol(Tc.get(i)||null,t,e,n,r,s)),!0}return!1}function eb(t){var e=Zi(t.target);if(e!==null){var n=Lo(e);if(n!==null){if(e=n.tag,e===13){if(e=BS(n),e!==null){t.blockedOn=e,ZS(t.priority,function(){XS(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function _d(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=eg(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Km=r,n.target.dispatchEvent(r),Km=null}else return e=iu(n),e!==null&&qy(e),t.blockedOn=n,!1;e.shift()}return!0}function u0(t,e,n){_d(t)&&n.delete(e)}function O2(){Zm=!1,ui!==null&&_d(ui)&&(ui=null),di!==null&&_d(di)&&(di=null),hi!==null&&_d(hi)&&(hi=null),xc.forEach(u0),Tc.forEach(u0)}function Dl(t,e){t.blockedOn===e&&(t.blockedOn=null,Zm||(Zm=!0,Nn.unstable_scheduleCallback(Nn.unstable_NormalPriority,O2)))}function Sc(t){function e(s){return Dl(s,t)}if(0<zu.length){Dl(zu[0],t);for(var n=1;n<zu.length;n++){var r=zu[n];r.blockedOn===t&&(r.blockedOn=null)}}for(ui!==null&&Dl(ui,t),di!==null&&Dl(di,t),hi!==null&&Dl(hi,t),xc.forEach(e),Tc.forEach(e),n=0;n<Ks.length;n++)r=Ks[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Ks.length&&(n=Ks[0],n.blockedOn===null);)eb(n),n.blockedOn===null&&Ks.shift()}var wa=Cs.ReactCurrentBatchConfig,Xd=!0;function D2(t,e,n,r){var s=Le,i=wa.transition;wa.transition=null;try{Le=1,Gy(t,e,n,r)}finally{Le=s,wa.transition=i}}function L2(t,e,n,r){var s=Le,i=wa.transition;wa.transition=null;try{Le=4,Gy(t,e,n,r)}finally{Le=s,wa.transition=i}}function Gy(t,e,n,r){if(Xd){var s=eg(t,e,n,r);if(s===null)Hp(t,e,r,Jd,n),c0(t,r);else if(k2(s,t,e,n,r))r.stopPropagation();else if(c0(t,r),e&4&&-1<N2.indexOf(t)){for(;s!==null;){var i=iu(s);if(i!==null&&YS(i),i=eg(t,e,n,r),i===null&&Hp(t,e,r,Jd,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else Hp(t,e,r,null,n)}}var Jd=null;function eg(t,e,n,r){if(Jd=null,t=zy(r),t=Zi(t),t!==null)if(e=Lo(t),e===null)t=null;else if(n=e.tag,n===13){if(t=BS(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Jd=t,null}function tb(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(x2()){case Wy:return 1;case qS:return 4;case Qd:case T2:return 16;case GS:return 536870912;default:return 16}default:return 16}}var oi=null,Ky=null,Ed=null;function nb(){if(Ed)return Ed;var t,e=Ky,n=e.length,r,s="value"in oi?oi.value:oi.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return Ed=s.slice(t,1<r?1-r:void 0)}function xd(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Wu(){return!0}function d0(){return!1}function Dn(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Wu:d0,this.isPropagationStopped=d0,this}return et(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Wu)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Wu)},persist:function(){},isPersistent:Wu}),e}var nl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Qy=Dn(nl),su=et({},nl,{view:0,detail:0}),M2=Dn(su),Mp,jp,Ll,ef=et({},su,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Yy,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ll&&(Ll&&t.type==="mousemove"?(Mp=t.screenX-Ll.screenX,jp=t.screenY-Ll.screenY):jp=Mp=0,Ll=t),Mp)},movementY:function(t){return"movementY"in t?t.movementY:jp}}),h0=Dn(ef),j2=et({},ef,{dataTransfer:0}),V2=Dn(j2),F2=et({},su,{relatedTarget:0}),Vp=Dn(F2),U2=et({},nl,{animationName:0,elapsedTime:0,pseudoElement:0}),$2=Dn(U2),B2=et({},nl,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),z2=Dn(B2),W2=et({},nl,{data:0}),f0=Dn(W2),H2={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},q2={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},G2={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function K2(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=G2[t])?!!e[t]:!1}function Yy(){return K2}var Q2=et({},su,{key:function(t){if(t.key){var e=H2[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=xd(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?q2[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Yy,charCode:function(t){return t.type==="keypress"?xd(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?xd(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Y2=Dn(Q2),X2=et({},ef,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),p0=Dn(X2),J2=et({},su,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Yy}),Z2=Dn(J2),eO=et({},nl,{propertyName:0,elapsedTime:0,pseudoElement:0}),tO=Dn(eO),nO=et({},ef,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),rO=Dn(nO),sO=[9,13,27,32],Xy=ms&&"CompositionEvent"in window,rc=null;ms&&"documentMode"in document&&(rc=document.documentMode);var iO=ms&&"TextEvent"in window&&!rc,rb=ms&&(!Xy||rc&&8<rc&&11>=rc),m0=" ",g0=!1;function sb(t,e){switch(t){case"keyup":return sO.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ib(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var oa=!1;function oO(t,e){switch(t){case"compositionend":return ib(e);case"keypress":return e.which!==32?null:(g0=!0,m0);case"textInput":return t=e.data,t===m0&&g0?null:t;default:return null}}function aO(t,e){if(oa)return t==="compositionend"||!Xy&&sb(t,e)?(t=nb(),Ed=Ky=oi=null,oa=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return rb&&e.locale!=="ko"?null:e.data;default:return null}}var lO={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function y0(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!lO[t.type]:e==="textarea"}function ob(t,e,n,r){jS(r),e=Zd(e,"onChange"),0<e.length&&(n=new Qy("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var sc=null,bc=null;function cO(t){yb(t,0)}function tf(t){var e=ca(t);if(PS(e))return t}function uO(t,e){if(t==="change")return e}var ab=!1;if(ms){var Fp;if(ms){var Up="oninput"in document;if(!Up){var v0=document.createElement("div");v0.setAttribute("oninput","return;"),Up=typeof v0.oninput=="function"}Fp=Up}else Fp=!1;ab=Fp&&(!document.documentMode||9<document.documentMode)}function w0(){sc&&(sc.detachEvent("onpropertychange",lb),bc=sc=null)}function lb(t){if(t.propertyName==="value"&&tf(bc)){var e=[];ob(e,bc,t,zy(t)),$S(cO,e)}}function dO(t,e,n){t==="focusin"?(w0(),sc=e,bc=n,sc.attachEvent("onpropertychange",lb)):t==="focusout"&&w0()}function hO(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return tf(bc)}function fO(t,e){if(t==="click")return tf(e)}function pO(t,e){if(t==="input"||t==="change")return tf(e)}function mO(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var yr=typeof Object.is=="function"?Object.is:mO;function Ic(t,e){if(yr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Mm.call(e,s)||!yr(t[s],e[s]))return!1}return!0}function _0(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function E0(t,e){var n=_0(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=_0(n)}}function cb(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?cb(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function ub(){for(var t=window,e=qd();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=qd(t.document)}return e}function Jy(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function gO(t){var e=ub(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&cb(n.ownerDocument.documentElement,n)){if(r!==null&&Jy(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=E0(n,i);var o=E0(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var yO=ms&&"documentMode"in document&&11>=document.documentMode,aa=null,tg=null,ic=null,ng=!1;function x0(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;ng||aa==null||aa!==qd(r)||(r=aa,"selectionStart"in r&&Jy(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ic&&Ic(ic,r)||(ic=r,r=Zd(tg,"onSelect"),0<r.length&&(e=new Qy("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=aa)))}function Hu(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var la={animationend:Hu("Animation","AnimationEnd"),animationiteration:Hu("Animation","AnimationIteration"),animationstart:Hu("Animation","AnimationStart"),transitionend:Hu("Transition","TransitionEnd")},$p={},db={};ms&&(db=document.createElement("div").style,"AnimationEvent"in window||(delete la.animationend.animation,delete la.animationiteration.animation,delete la.animationstart.animation),"TransitionEvent"in window||delete la.transitionend.transition);function nf(t){if($p[t])return $p[t];if(!la[t])return t;var e=la[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in db)return $p[t]=e[n];return t}var hb=nf("animationend"),fb=nf("animationiteration"),pb=nf("animationstart"),mb=nf("transitionend"),gb=new Map,T0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Mi(t,e){gb.set(t,e),Do(e,[t])}for(var Bp=0;Bp<T0.length;Bp++){var zp=T0[Bp],vO=zp.toLowerCase(),wO=zp[0].toUpperCase()+zp.slice(1);Mi(vO,"on"+wO)}Mi(hb,"onAnimationEnd");Mi(fb,"onAnimationIteration");Mi(pb,"onAnimationStart");Mi("dblclick","onDoubleClick");Mi("focusin","onFocus");Mi("focusout","onBlur");Mi(mb,"onTransitionEnd");ja("onMouseEnter",["mouseout","mouseover"]);ja("onMouseLeave",["mouseout","mouseover"]);ja("onPointerEnter",["pointerout","pointerover"]);ja("onPointerLeave",["pointerout","pointerover"]);Do("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Do("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Do("onBeforeInput",["compositionend","keypress","textInput","paste"]);Do("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Do("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Do("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Hl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),_O=new Set("cancel close invalid load scroll toggle".split(" ").concat(Hl));function S0(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,v2(r,e,void 0,t),t.currentTarget=null}function yb(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;S0(s,a,u),i=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;S0(s,a,u),i=l}}}if(Kd)throw t=Xm,Kd=!1,Xm=null,t}function Ge(t,e){var n=e[ag];n===void 0&&(n=e[ag]=new Set);var r=t+"__bubble";n.has(r)||(vb(e,t,2,!1),n.add(r))}function Wp(t,e,n){var r=0;e&&(r|=4),vb(n,t,r,e)}var qu="_reactListening"+Math.random().toString(36).slice(2);function Cc(t){if(!t[qu]){t[qu]=!0,bS.forEach(function(n){n!=="selectionchange"&&(_O.has(n)||Wp(n,!1,t),Wp(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[qu]||(e[qu]=!0,Wp("selectionchange",!1,e))}}function vb(t,e,n,r){switch(tb(e)){case 1:var s=D2;break;case 4:s=L2;break;default:s=Gy}n=s.bind(null,e,n,t),s=void 0,!Ym||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function Hp(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=Zi(a),o===null)return;if(l=o.tag,l===5||l===6){r=i=o;continue e}a=a.parentNode}}r=r.return}$S(function(){var u=i,d=zy(n),f=[];e:{var p=gb.get(t);if(p!==void 0){var g=Qy,S=t;switch(t){case"keypress":if(xd(n)===0)break e;case"keydown":case"keyup":g=Y2;break;case"focusin":S="focus",g=Vp;break;case"focusout":S="blur",g=Vp;break;case"beforeblur":case"afterblur":g=Vp;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=h0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=V2;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=Z2;break;case hb:case fb:case pb:g=$2;break;case mb:g=tO;break;case"scroll":g=M2;break;case"wheel":g=rO;break;case"copy":case"cut":case"paste":g=z2;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=p0}var v=(e&4)!==0,x=!v&&t==="scroll",E=v?p!==null?p+"Capture":null:p;v=[];for(var w=u,T;w!==null;){T=w;var C=T.stateNode;if(T.tag===5&&C!==null&&(T=C,E!==null&&(C=Ec(w,E),C!=null&&v.push(Ac(w,C,T)))),x)break;w=w.return}0<v.length&&(p=new g(p,S,null,n,d),f.push({event:p,listeners:v}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",p&&n!==Km&&(S=n.relatedTarget||n.fromElement)&&(Zi(S)||S[gs]))break e;if((g||p)&&(p=d.window===d?d:(p=d.ownerDocument)?p.defaultView||p.parentWindow:window,g?(S=n.relatedTarget||n.toElement,g=u,S=S?Zi(S):null,S!==null&&(x=Lo(S),S!==x||S.tag!==5&&S.tag!==6)&&(S=null)):(g=null,S=u),g!==S)){if(v=h0,C="onMouseLeave",E="onMouseEnter",w="mouse",(t==="pointerout"||t==="pointerover")&&(v=p0,C="onPointerLeave",E="onPointerEnter",w="pointer"),x=g==null?p:ca(g),T=S==null?p:ca(S),p=new v(C,w+"leave",g,n,d),p.target=x,p.relatedTarget=T,C=null,Zi(d)===u&&(v=new v(E,w+"enter",S,n,d),v.target=T,v.relatedTarget=x,C=v),x=C,g&&S)t:{for(v=g,E=S,w=0,T=v;T;T=Yo(T))w++;for(T=0,C=E;C;C=Yo(C))T++;for(;0<w-T;)v=Yo(v),w--;for(;0<T-w;)E=Yo(E),T--;for(;w--;){if(v===E||E!==null&&v===E.alternate)break t;v=Yo(v),E=Yo(E)}v=null}else v=null;g!==null&&b0(f,p,g,v,!1),S!==null&&x!==null&&b0(f,x,S,v,!0)}}e:{if(p=u?ca(u):window,g=p.nodeName&&p.nodeName.toLowerCase(),g==="select"||g==="input"&&p.type==="file")var D=uO;else if(y0(p))if(ab)D=pO;else{D=hO;var L=dO}else(g=p.nodeName)&&g.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(D=fO);if(D&&(D=D(t,u))){ob(f,D,n,d);break e}L&&L(t,p,u),t==="focusout"&&(L=p._wrapperState)&&L.controlled&&p.type==="number"&&zm(p,"number",p.value)}switch(L=u?ca(u):window,t){case"focusin":(y0(L)||L.contentEditable==="true")&&(aa=L,tg=u,ic=null);break;case"focusout":ic=tg=aa=null;break;case"mousedown":ng=!0;break;case"contextmenu":case"mouseup":case"dragend":ng=!1,x0(f,n,d);break;case"selectionchange":if(yO)break;case"keydown":case"keyup":x0(f,n,d)}var I;if(Xy)e:{switch(t){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else oa?sb(t,n)&&(b="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(b="onCompositionStart");b&&(rb&&n.locale!=="ko"&&(oa||b!=="onCompositionStart"?b==="onCompositionEnd"&&oa&&(I=nb()):(oi=d,Ky="value"in oi?oi.value:oi.textContent,oa=!0)),L=Zd(u,b),0<L.length&&(b=new f0(b,t,null,n,d),f.push({event:b,listeners:L}),I?b.data=I:(I=ib(n),I!==null&&(b.data=I)))),(I=iO?oO(t,n):aO(t,n))&&(u=Zd(u,"onBeforeInput"),0<u.length&&(d=new f0("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:u}),d.data=I))}yb(f,e)})}function Ac(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Zd(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Ec(t,n),i!=null&&r.unshift(Ac(t,i,s)),i=Ec(t,e),i!=null&&r.push(Ac(t,i,s))),t=t.return}return r}function Yo(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function b0(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,s?(l=Ec(n,i),l!=null&&o.unshift(Ac(n,l,a))):s||(l=Ec(n,i),l!=null&&o.push(Ac(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var EO=/\r\n?/g,xO=/\u0000|\uFFFD/g;function I0(t){return(typeof t=="string"?t:""+t).replace(EO,`
`).replace(xO,"")}function Gu(t,e,n){if(e=I0(e),I0(t)!==e&&n)throw Error(G(425))}function eh(){}var rg=null,sg=null;function ig(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var og=typeof setTimeout=="function"?setTimeout:void 0,TO=typeof clearTimeout=="function"?clearTimeout:void 0,C0=typeof Promise=="function"?Promise:void 0,SO=typeof queueMicrotask=="function"?queueMicrotask:typeof C0<"u"?function(t){return C0.resolve(null).then(t).catch(bO)}:og;function bO(t){setTimeout(function(){throw t})}function qp(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),Sc(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Sc(e)}function fi(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function A0(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var rl=Math.random().toString(36).slice(2),Mr="__reactFiber$"+rl,Rc="__reactProps$"+rl,gs="__reactContainer$"+rl,ag="__reactEvents$"+rl,IO="__reactListeners$"+rl,CO="__reactHandles$"+rl;function Zi(t){var e=t[Mr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[gs]||n[Mr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=A0(t);t!==null;){if(n=t[Mr])return n;t=A0(t)}return e}t=n,n=t.parentNode}return null}function iu(t){return t=t[Mr]||t[gs],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function ca(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(G(33))}function rf(t){return t[Rc]||null}var lg=[],ua=-1;function ji(t){return{current:t}}function Qe(t){0>ua||(t.current=lg[ua],lg[ua]=null,ua--)}function Be(t,e){ua++,lg[ua]=t.current,t.current=e}var bi={},Gt=ji(bi),fn=ji(!1),vo=bi;function Va(t,e){var n=t.type.contextTypes;if(!n)return bi;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function pn(t){return t=t.childContextTypes,t!=null}function th(){Qe(fn),Qe(Gt)}function R0(t,e,n){if(Gt.current!==bi)throw Error(G(168));Be(Gt,e),Be(fn,n)}function wb(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(G(108,d2(t)||"Unknown",s));return et({},n,r)}function nh(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||bi,vo=Gt.current,Be(Gt,t),Be(fn,fn.current),!0}function P0(t,e,n){var r=t.stateNode;if(!r)throw Error(G(169));n?(t=wb(t,e,vo),r.__reactInternalMemoizedMergedChildContext=t,Qe(fn),Qe(Gt),Be(Gt,t)):Qe(fn),Be(fn,n)}var os=null,sf=!1,Gp=!1;function _b(t){os===null?os=[t]:os.push(t)}function AO(t){sf=!0,_b(t)}function Vi(){if(!Gp&&os!==null){Gp=!0;var t=0,e=Le;try{var n=os;for(Le=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}os=null,sf=!1}catch(s){throw os!==null&&(os=os.slice(t+1)),HS(Wy,Vi),s}finally{Le=e,Gp=!1}}return null}var da=[],ha=0,rh=null,sh=0,Fn=[],Un=0,wo=null,cs=1,us="";function Yi(t,e){da[ha++]=sh,da[ha++]=rh,rh=t,sh=e}function Eb(t,e,n){Fn[Un++]=cs,Fn[Un++]=us,Fn[Un++]=wo,wo=t;var r=cs;t=us;var s=32-hr(r)-1;r&=~(1<<s),n+=1;var i=32-hr(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,cs=1<<32-hr(e)+s|n<<s|r,us=i+t}else cs=1<<i|n<<s|r,us=t}function Zy(t){t.return!==null&&(Yi(t,1),Eb(t,1,0))}function ev(t){for(;t===rh;)rh=da[--ha],da[ha]=null,sh=da[--ha],da[ha]=null;for(;t===wo;)wo=Fn[--Un],Fn[Un]=null,us=Fn[--Un],Fn[Un]=null,cs=Fn[--Un],Fn[Un]=null}var In=null,Sn=null,Ye=!1,cr=null;function xb(t,e){var n=zn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function N0(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,In=t,Sn=fi(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,In=t,Sn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=wo!==null?{id:cs,overflow:us}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=zn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,In=t,Sn=null,!0):!1;default:return!1}}function cg(t){return(t.mode&1)!==0&&(t.flags&128)===0}function ug(t){if(Ye){var e=Sn;if(e){var n=e;if(!N0(t,e)){if(cg(t))throw Error(G(418));e=fi(n.nextSibling);var r=In;e&&N0(t,e)?xb(r,n):(t.flags=t.flags&-4097|2,Ye=!1,In=t)}}else{if(cg(t))throw Error(G(418));t.flags=t.flags&-4097|2,Ye=!1,In=t}}}function k0(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;In=t}function Ku(t){if(t!==In)return!1;if(!Ye)return k0(t),Ye=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!ig(t.type,t.memoizedProps)),e&&(e=Sn)){if(cg(t))throw Tb(),Error(G(418));for(;e;)xb(t,e),e=fi(e.nextSibling)}if(k0(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(G(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Sn=fi(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Sn=null}}else Sn=In?fi(t.stateNode.nextSibling):null;return!0}function Tb(){for(var t=Sn;t;)t=fi(t.nextSibling)}function Fa(){Sn=In=null,Ye=!1}function tv(t){cr===null?cr=[t]:cr.push(t)}var RO=Cs.ReactCurrentBatchConfig;function Ml(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(G(309));var r=n.stateNode}if(!r)throw Error(G(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(G(284));if(!n._owner)throw Error(G(290,t))}return t}function Qu(t,e){throw t=Object.prototype.toString.call(e),Error(G(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function O0(t){var e=t._init;return e(t._payload)}function Sb(t){function e(E,w){if(t){var T=E.deletions;T===null?(E.deletions=[w],E.flags|=16):T.push(w)}}function n(E,w){if(!t)return null;for(;w!==null;)e(E,w),w=w.sibling;return null}function r(E,w){for(E=new Map;w!==null;)w.key!==null?E.set(w.key,w):E.set(w.index,w),w=w.sibling;return E}function s(E,w){return E=yi(E,w),E.index=0,E.sibling=null,E}function i(E,w,T){return E.index=T,t?(T=E.alternate,T!==null?(T=T.index,T<w?(E.flags|=2,w):T):(E.flags|=2,w)):(E.flags|=1048576,w)}function o(E){return t&&E.alternate===null&&(E.flags|=2),E}function a(E,w,T,C){return w===null||w.tag!==6?(w=em(T,E.mode,C),w.return=E,w):(w=s(w,T),w.return=E,w)}function l(E,w,T,C){var D=T.type;return D===ia?d(E,w,T.props.children,C,T.key):w!==null&&(w.elementType===D||typeof D=="object"&&D!==null&&D.$$typeof===qs&&O0(D)===w.type)?(C=s(w,T.props),C.ref=Ml(E,w,T),C.return=E,C):(C=Rd(T.type,T.key,T.props,null,E.mode,C),C.ref=Ml(E,w,T),C.return=E,C)}function u(E,w,T,C){return w===null||w.tag!==4||w.stateNode.containerInfo!==T.containerInfo||w.stateNode.implementation!==T.implementation?(w=tm(T,E.mode,C),w.return=E,w):(w=s(w,T.children||[]),w.return=E,w)}function d(E,w,T,C,D){return w===null||w.tag!==7?(w=fo(T,E.mode,C,D),w.return=E,w):(w=s(w,T),w.return=E,w)}function f(E,w,T){if(typeof w=="string"&&w!==""||typeof w=="number")return w=em(""+w,E.mode,T),w.return=E,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Vu:return T=Rd(w.type,w.key,w.props,null,E.mode,T),T.ref=Ml(E,null,w),T.return=E,T;case sa:return w=tm(w,E.mode,T),w.return=E,w;case qs:var C=w._init;return f(E,C(w._payload),T)}if(zl(w)||Nl(w))return w=fo(w,E.mode,T,null),w.return=E,w;Qu(E,w)}return null}function p(E,w,T,C){var D=w!==null?w.key:null;if(typeof T=="string"&&T!==""||typeof T=="number")return D!==null?null:a(E,w,""+T,C);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case Vu:return T.key===D?l(E,w,T,C):null;case sa:return T.key===D?u(E,w,T,C):null;case qs:return D=T._init,p(E,w,D(T._payload),C)}if(zl(T)||Nl(T))return D!==null?null:d(E,w,T,C,null);Qu(E,T)}return null}function g(E,w,T,C,D){if(typeof C=="string"&&C!==""||typeof C=="number")return E=E.get(T)||null,a(w,E,""+C,D);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case Vu:return E=E.get(C.key===null?T:C.key)||null,l(w,E,C,D);case sa:return E=E.get(C.key===null?T:C.key)||null,u(w,E,C,D);case qs:var L=C._init;return g(E,w,T,L(C._payload),D)}if(zl(C)||Nl(C))return E=E.get(T)||null,d(w,E,C,D,null);Qu(w,C)}return null}function S(E,w,T,C){for(var D=null,L=null,I=w,b=w=0,R=null;I!==null&&b<T.length;b++){I.index>b?(R=I,I=null):R=I.sibling;var k=p(E,I,T[b],C);if(k===null){I===null&&(I=R);break}t&&I&&k.alternate===null&&e(E,I),w=i(k,w,b),L===null?D=k:L.sibling=k,L=k,I=R}if(b===T.length)return n(E,I),Ye&&Yi(E,b),D;if(I===null){for(;b<T.length;b++)I=f(E,T[b],C),I!==null&&(w=i(I,w,b),L===null?D=I:L.sibling=I,L=I);return Ye&&Yi(E,b),D}for(I=r(E,I);b<T.length;b++)R=g(I,E,b,T[b],C),R!==null&&(t&&R.alternate!==null&&I.delete(R.key===null?b:R.key),w=i(R,w,b),L===null?D=R:L.sibling=R,L=R);return t&&I.forEach(function(P){return e(E,P)}),Ye&&Yi(E,b),D}function v(E,w,T,C){var D=Nl(T);if(typeof D!="function")throw Error(G(150));if(T=D.call(T),T==null)throw Error(G(151));for(var L=D=null,I=w,b=w=0,R=null,k=T.next();I!==null&&!k.done;b++,k=T.next()){I.index>b?(R=I,I=null):R=I.sibling;var P=p(E,I,k.value,C);if(P===null){I===null&&(I=R);break}t&&I&&P.alternate===null&&e(E,I),w=i(P,w,b),L===null?D=P:L.sibling=P,L=P,I=R}if(k.done)return n(E,I),Ye&&Yi(E,b),D;if(I===null){for(;!k.done;b++,k=T.next())k=f(E,k.value,C),k!==null&&(w=i(k,w,b),L===null?D=k:L.sibling=k,L=k);return Ye&&Yi(E,b),D}for(I=r(E,I);!k.done;b++,k=T.next())k=g(I,E,b,k.value,C),k!==null&&(t&&k.alternate!==null&&I.delete(k.key===null?b:k.key),w=i(k,w,b),L===null?D=k:L.sibling=k,L=k);return t&&I.forEach(function(O){return e(E,O)}),Ye&&Yi(E,b),D}function x(E,w,T,C){if(typeof T=="object"&&T!==null&&T.type===ia&&T.key===null&&(T=T.props.children),typeof T=="object"&&T!==null){switch(T.$$typeof){case Vu:e:{for(var D=T.key,L=w;L!==null;){if(L.key===D){if(D=T.type,D===ia){if(L.tag===7){n(E,L.sibling),w=s(L,T.props.children),w.return=E,E=w;break e}}else if(L.elementType===D||typeof D=="object"&&D!==null&&D.$$typeof===qs&&O0(D)===L.type){n(E,L.sibling),w=s(L,T.props),w.ref=Ml(E,L,T),w.return=E,E=w;break e}n(E,L);break}else e(E,L);L=L.sibling}T.type===ia?(w=fo(T.props.children,E.mode,C,T.key),w.return=E,E=w):(C=Rd(T.type,T.key,T.props,null,E.mode,C),C.ref=Ml(E,w,T),C.return=E,E=C)}return o(E);case sa:e:{for(L=T.key;w!==null;){if(w.key===L)if(w.tag===4&&w.stateNode.containerInfo===T.containerInfo&&w.stateNode.implementation===T.implementation){n(E,w.sibling),w=s(w,T.children||[]),w.return=E,E=w;break e}else{n(E,w);break}else e(E,w);w=w.sibling}w=tm(T,E.mode,C),w.return=E,E=w}return o(E);case qs:return L=T._init,x(E,w,L(T._payload),C)}if(zl(T))return S(E,w,T,C);if(Nl(T))return v(E,w,T,C);Qu(E,T)}return typeof T=="string"&&T!==""||typeof T=="number"?(T=""+T,w!==null&&w.tag===6?(n(E,w.sibling),w=s(w,T),w.return=E,E=w):(n(E,w),w=em(T,E.mode,C),w.return=E,E=w),o(E)):n(E,w)}return x}var Ua=Sb(!0),bb=Sb(!1),ih=ji(null),oh=null,fa=null,nv=null;function rv(){nv=fa=oh=null}function sv(t){var e=ih.current;Qe(ih),t._currentValue=e}function dg(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function _a(t,e){oh=t,nv=fa=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(dn=!0),t.firstContext=null)}function qn(t){var e=t._currentValue;if(nv!==t)if(t={context:t,memoizedValue:e,next:null},fa===null){if(oh===null)throw Error(G(308));fa=t,oh.dependencies={lanes:0,firstContext:t}}else fa=fa.next=t;return e}var eo=null;function iv(t){eo===null?eo=[t]:eo.push(t)}function Ib(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,iv(e)):(n.next=s.next,s.next=n),e.interleaved=n,ys(t,r)}function ys(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Gs=!1;function ov(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Cb(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function fs(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function pi(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Pe&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,ys(t,n)}return s=r.interleaved,s===null?(e.next=e,iv(r)):(e.next=s.next,s.next=e),r.interleaved=e,ys(t,n)}function Td(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Hy(t,n)}}function D0(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function ah(t,e,n,r){var s=t.updateQueue;Gs=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?i=u:o.next=u,o=l;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=u:a.next=u,d.lastBaseUpdate=l))}if(i!==null){var f=s.baseState;o=0,d=u=l=null,a=i;do{var p=a.lane,g=a.eventTime;if((r&p)===p){d!==null&&(d=d.next={eventTime:g,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var S=t,v=a;switch(p=e,g=n,v.tag){case 1:if(S=v.payload,typeof S=="function"){f=S.call(g,f,p);break e}f=S;break e;case 3:S.flags=S.flags&-65537|128;case 0:if(S=v.payload,p=typeof S=="function"?S.call(g,f,p):S,p==null)break e;f=et({},f,p);break e;case 2:Gs=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,p=s.effects,p===null?s.effects=[a]:p.push(a))}else g={eventTime:g,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(u=d=g,l=f):d=d.next=g,o|=p;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;p=a,a=p.next,p.next=null,s.lastBaseUpdate=p,s.shared.pending=null}}while(!0);if(d===null&&(l=f),s.baseState=l,s.firstBaseUpdate=u,s.lastBaseUpdate=d,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);Eo|=o,t.lanes=o,t.memoizedState=f}}function L0(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(G(191,s));s.call(r)}}}var ou={},Br=ji(ou),Pc=ji(ou),Nc=ji(ou);function to(t){if(t===ou)throw Error(G(174));return t}function av(t,e){switch(Be(Nc,e),Be(Pc,t),Be(Br,ou),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Hm(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Hm(e,t)}Qe(Br),Be(Br,e)}function $a(){Qe(Br),Qe(Pc),Qe(Nc)}function Ab(t){to(Nc.current);var e=to(Br.current),n=Hm(e,t.type);e!==n&&(Be(Pc,t),Be(Br,n))}function lv(t){Pc.current===t&&(Qe(Br),Qe(Pc))}var Xe=ji(0);function lh(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Kp=[];function cv(){for(var t=0;t<Kp.length;t++)Kp[t]._workInProgressVersionPrimary=null;Kp.length=0}var Sd=Cs.ReactCurrentDispatcher,Qp=Cs.ReactCurrentBatchConfig,_o=0,Ze=null,vt=null,It=null,ch=!1,oc=!1,kc=0,PO=0;function Vt(){throw Error(G(321))}function uv(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!yr(t[n],e[n]))return!1;return!0}function dv(t,e,n,r,s,i){if(_o=i,Ze=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Sd.current=t===null||t.memoizedState===null?DO:LO,t=n(r,s),oc){i=0;do{if(oc=!1,kc=0,25<=i)throw Error(G(301));i+=1,It=vt=null,e.updateQueue=null,Sd.current=MO,t=n(r,s)}while(oc)}if(Sd.current=uh,e=vt!==null&&vt.next!==null,_o=0,It=vt=Ze=null,ch=!1,e)throw Error(G(300));return t}function hv(){var t=kc!==0;return kc=0,t}function Pr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return It===null?Ze.memoizedState=It=t:It=It.next=t,It}function Gn(){if(vt===null){var t=Ze.alternate;t=t!==null?t.memoizedState:null}else t=vt.next;var e=It===null?Ze.memoizedState:It.next;if(e!==null)It=e,vt=t;else{if(t===null)throw Error(G(310));vt=t,t={memoizedState:vt.memoizedState,baseState:vt.baseState,baseQueue:vt.baseQueue,queue:vt.queue,next:null},It===null?Ze.memoizedState=It=t:It=It.next=t}return It}function Oc(t,e){return typeof e=="function"?e(t):e}function Yp(t){var e=Gn(),n=e.queue;if(n===null)throw Error(G(311));n.lastRenderedReducer=t;var r=vt,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,l=null,u=i;do{var d=u.lane;if((_o&d)===d)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=f,o=r):l=l.next=f,Ze.lanes|=d,Eo|=d}u=u.next}while(u!==null&&u!==i);l===null?o=r:l.next=a,yr(r,e.memoizedState)||(dn=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,Ze.lanes|=i,Eo|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Xp(t){var e=Gn(),n=e.queue;if(n===null)throw Error(G(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);yr(i,e.memoizedState)||(dn=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function Rb(){}function Pb(t,e){var n=Ze,r=Gn(),s=e(),i=!yr(r.memoizedState,s);if(i&&(r.memoizedState=s,dn=!0),r=r.queue,fv(Ob.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||It!==null&&It.memoizedState.tag&1){if(n.flags|=2048,Dc(9,kb.bind(null,n,r,s,e),void 0,null),At===null)throw Error(G(349));_o&30||Nb(n,e,s)}return s}function Nb(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Ze.updateQueue,e===null?(e={lastEffect:null,stores:null},Ze.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function kb(t,e,n,r){e.value=n,e.getSnapshot=r,Db(e)&&Lb(t)}function Ob(t,e,n){return n(function(){Db(e)&&Lb(t)})}function Db(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!yr(t,n)}catch{return!0}}function Lb(t){var e=ys(t,1);e!==null&&fr(e,t,1,-1)}function M0(t){var e=Pr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Oc,lastRenderedState:t},e.queue=t,t=t.dispatch=OO.bind(null,Ze,t),[e.memoizedState,t]}function Dc(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Ze.updateQueue,e===null?(e={lastEffect:null,stores:null},Ze.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function Mb(){return Gn().memoizedState}function bd(t,e,n,r){var s=Pr();Ze.flags|=t,s.memoizedState=Dc(1|e,n,void 0,r===void 0?null:r)}function of(t,e,n,r){var s=Gn();r=r===void 0?null:r;var i=void 0;if(vt!==null){var o=vt.memoizedState;if(i=o.destroy,r!==null&&uv(r,o.deps)){s.memoizedState=Dc(e,n,i,r);return}}Ze.flags|=t,s.memoizedState=Dc(1|e,n,i,r)}function j0(t,e){return bd(8390656,8,t,e)}function fv(t,e){return of(2048,8,t,e)}function jb(t,e){return of(4,2,t,e)}function Vb(t,e){return of(4,4,t,e)}function Fb(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Ub(t,e,n){return n=n!=null?n.concat([t]):null,of(4,4,Fb.bind(null,e,t),n)}function pv(){}function $b(t,e){var n=Gn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&uv(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Bb(t,e){var n=Gn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&uv(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function zb(t,e,n){return _o&21?(yr(n,e)||(n=KS(),Ze.lanes|=n,Eo|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,dn=!0),t.memoizedState=n)}function NO(t,e){var n=Le;Le=n!==0&&4>n?n:4,t(!0);var r=Qp.transition;Qp.transition={};try{t(!1),e()}finally{Le=n,Qp.transition=r}}function Wb(){return Gn().memoizedState}function kO(t,e,n){var r=gi(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Hb(t))qb(e,n);else if(n=Ib(t,e,n,r),n!==null){var s=en();fr(n,t,r,s),Gb(n,e,r)}}function OO(t,e,n){var r=gi(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Hb(t))qb(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,yr(a,o)){var l=e.interleaved;l===null?(s.next=s,iv(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}n=Ib(t,e,s,r),n!==null&&(s=en(),fr(n,t,r,s),Gb(n,e,r))}}function Hb(t){var e=t.alternate;return t===Ze||e!==null&&e===Ze}function qb(t,e){oc=ch=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Gb(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Hy(t,n)}}var uh={readContext:qn,useCallback:Vt,useContext:Vt,useEffect:Vt,useImperativeHandle:Vt,useInsertionEffect:Vt,useLayoutEffect:Vt,useMemo:Vt,useReducer:Vt,useRef:Vt,useState:Vt,useDebugValue:Vt,useDeferredValue:Vt,useTransition:Vt,useMutableSource:Vt,useSyncExternalStore:Vt,useId:Vt,unstable_isNewReconciler:!1},DO={readContext:qn,useCallback:function(t,e){return Pr().memoizedState=[t,e===void 0?null:e],t},useContext:qn,useEffect:j0,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,bd(4194308,4,Fb.bind(null,e,t),n)},useLayoutEffect:function(t,e){return bd(4194308,4,t,e)},useInsertionEffect:function(t,e){return bd(4,2,t,e)},useMemo:function(t,e){var n=Pr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Pr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=kO.bind(null,Ze,t),[r.memoizedState,t]},useRef:function(t){var e=Pr();return t={current:t},e.memoizedState=t},useState:M0,useDebugValue:pv,useDeferredValue:function(t){return Pr().memoizedState=t},useTransition:function(){var t=M0(!1),e=t[0];return t=NO.bind(null,t[1]),Pr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Ze,s=Pr();if(Ye){if(n===void 0)throw Error(G(407));n=n()}else{if(n=e(),At===null)throw Error(G(349));_o&30||Nb(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,j0(Ob.bind(null,r,i,t),[t]),r.flags|=2048,Dc(9,kb.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=Pr(),e=At.identifierPrefix;if(Ye){var n=us,r=cs;n=(r&~(1<<32-hr(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=kc++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=PO++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},LO={readContext:qn,useCallback:$b,useContext:qn,useEffect:fv,useImperativeHandle:Ub,useInsertionEffect:jb,useLayoutEffect:Vb,useMemo:Bb,useReducer:Yp,useRef:Mb,useState:function(){return Yp(Oc)},useDebugValue:pv,useDeferredValue:function(t){var e=Gn();return zb(e,vt.memoizedState,t)},useTransition:function(){var t=Yp(Oc)[0],e=Gn().memoizedState;return[t,e]},useMutableSource:Rb,useSyncExternalStore:Pb,useId:Wb,unstable_isNewReconciler:!1},MO={readContext:qn,useCallback:$b,useContext:qn,useEffect:fv,useImperativeHandle:Ub,useInsertionEffect:jb,useLayoutEffect:Vb,useMemo:Bb,useReducer:Xp,useRef:Mb,useState:function(){return Xp(Oc)},useDebugValue:pv,useDeferredValue:function(t){var e=Gn();return vt===null?e.memoizedState=t:zb(e,vt.memoizedState,t)},useTransition:function(){var t=Xp(Oc)[0],e=Gn().memoizedState;return[t,e]},useMutableSource:Rb,useSyncExternalStore:Pb,useId:Wb,unstable_isNewReconciler:!1};function sr(t,e){if(t&&t.defaultProps){e=et({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function hg(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:et({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var af={isMounted:function(t){return(t=t._reactInternals)?Lo(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=en(),s=gi(t),i=fs(r,s);i.payload=e,n!=null&&(i.callback=n),e=pi(t,i,s),e!==null&&(fr(e,t,s,r),Td(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=en(),s=gi(t),i=fs(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=pi(t,i,s),e!==null&&(fr(e,t,s,r),Td(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=en(),r=gi(t),s=fs(n,r);s.tag=2,e!=null&&(s.callback=e),e=pi(t,s,r),e!==null&&(fr(e,t,r,n),Td(e,t,r))}};function V0(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!Ic(n,r)||!Ic(s,i):!0}function Kb(t,e,n){var r=!1,s=bi,i=e.contextType;return typeof i=="object"&&i!==null?i=qn(i):(s=pn(e)?vo:Gt.current,r=e.contextTypes,i=(r=r!=null)?Va(t,s):bi),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=af,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function F0(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&af.enqueueReplaceState(e,e.state,null)}function fg(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},ov(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=qn(i):(i=pn(e)?vo:Gt.current,s.context=Va(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(hg(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&af.enqueueReplaceState(s,s.state,null),ah(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Ba(t,e){try{var n="",r=e;do n+=u2(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function Jp(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function pg(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var jO=typeof WeakMap=="function"?WeakMap:Map;function Qb(t,e,n){n=fs(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){hh||(hh=!0,Sg=r),pg(t,e)},n}function Yb(t,e,n){n=fs(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){pg(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){pg(t,e),typeof r!="function"&&(mi===null?mi=new Set([this]):mi.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function U0(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new jO;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=XO.bind(null,t,e,n),e.then(t,t))}function $0(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function B0(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=fs(-1,1),e.tag=2,pi(n,e,1))),n.lanes|=1),t)}var VO=Cs.ReactCurrentOwner,dn=!1;function Jt(t,e,n,r){e.child=t===null?bb(e,null,n,r):Ua(e,t.child,n,r)}function z0(t,e,n,r,s){n=n.render;var i=e.ref;return _a(e,s),r=dv(t,e,n,r,i,s),n=hv(),t!==null&&!dn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,vs(t,e,s)):(Ye&&n&&Zy(e),e.flags|=1,Jt(t,e,r,s),e.child)}function W0(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!xv(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,Xb(t,e,i,r,s)):(t=Rd(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Ic,n(o,r)&&t.ref===e.ref)return vs(t,e,s)}return e.flags|=1,t=yi(i,r),t.ref=e.ref,t.return=e,e.child=t}function Xb(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(Ic(i,r)&&t.ref===e.ref)if(dn=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(dn=!0);else return e.lanes=t.lanes,vs(t,e,s)}return mg(t,e,n,r,s)}function Jb(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Be(ma,En),En|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Be(ma,En),En|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,Be(ma,En),En|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,Be(ma,En),En|=r;return Jt(t,e,s,n),e.child}function Zb(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function mg(t,e,n,r,s){var i=pn(n)?vo:Gt.current;return i=Va(e,i),_a(e,s),n=dv(t,e,n,r,i,s),r=hv(),t!==null&&!dn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,vs(t,e,s)):(Ye&&r&&Zy(e),e.flags|=1,Jt(t,e,n,s),e.child)}function H0(t,e,n,r,s){if(pn(n)){var i=!0;nh(e)}else i=!1;if(_a(e,s),e.stateNode===null)Id(t,e),Kb(e,n,r),fg(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=qn(u):(u=pn(n)?vo:Gt.current,u=Va(e,u));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&F0(e,o,r,u),Gs=!1;var p=e.memoizedState;o.state=p,ah(e,r,o,s),l=e.memoizedState,a!==r||p!==l||fn.current||Gs?(typeof d=="function"&&(hg(e,n,d,r),l=e.memoizedState),(a=Gs||V0(e,n,a,r,p,l,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,Cb(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:sr(e.type,a),o.props=u,f=e.pendingProps,p=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=qn(l):(l=pn(n)?vo:Gt.current,l=Va(e,l));var g=n.getDerivedStateFromProps;(d=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||p!==l)&&F0(e,o,r,l),Gs=!1,p=e.memoizedState,o.state=p,ah(e,r,o,s);var S=e.memoizedState;a!==f||p!==S||fn.current||Gs?(typeof g=="function"&&(hg(e,n,g,r),S=e.memoizedState),(u=Gs||V0(e,n,u,r,p,S,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,S,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,S,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=S),o.props=r,o.state=S,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),r=!1)}return gg(t,e,n,r,i,s)}function gg(t,e,n,r,s,i){Zb(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&P0(e,n,!1),vs(t,e,i);r=e.stateNode,VO.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Ua(e,t.child,null,i),e.child=Ua(e,null,a,i)):Jt(t,e,a,i),e.memoizedState=r.state,s&&P0(e,n,!0),e.child}function eI(t){var e=t.stateNode;e.pendingContext?R0(t,e.pendingContext,e.pendingContext!==e.context):e.context&&R0(t,e.context,!1),av(t,e.containerInfo)}function q0(t,e,n,r,s){return Fa(),tv(s),e.flags|=256,Jt(t,e,n,r),e.child}var yg={dehydrated:null,treeContext:null,retryLane:0};function vg(t){return{baseLanes:t,cachePool:null,transitions:null}}function tI(t,e,n){var r=e.pendingProps,s=Xe.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),Be(Xe,s&1),t===null)return ug(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=uf(o,r,0,null),t=fo(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=vg(n),e.memoizedState=yg,t):mv(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return FO(t,e,o,r,a,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=yi(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=yi(a,i):(i=fo(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?vg(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=yg,r}return i=t.child,t=i.sibling,r=yi(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function mv(t,e){return e=uf({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Yu(t,e,n,r){return r!==null&&tv(r),Ua(e,t.child,null,n),t=mv(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function FO(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=Jp(Error(G(422))),Yu(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=uf({mode:"visible",children:r.children},s,0,null),i=fo(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&Ua(e,t.child,null,o),e.child.memoizedState=vg(o),e.memoizedState=yg,i);if(!(e.mode&1))return Yu(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(G(419)),r=Jp(i,r,void 0),Yu(t,e,o,r)}if(a=(o&t.childLanes)!==0,dn||a){if(r=At,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,ys(t,s),fr(r,t,s,-1))}return Ev(),r=Jp(Error(G(421))),Yu(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=JO.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,Sn=fi(s.nextSibling),In=e,Ye=!0,cr=null,t!==null&&(Fn[Un++]=cs,Fn[Un++]=us,Fn[Un++]=wo,cs=t.id,us=t.overflow,wo=e),e=mv(e,r.children),e.flags|=4096,e)}function G0(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),dg(t.return,e,n)}function Zp(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function nI(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(Jt(t,e,r.children,n),r=Xe.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&G0(t,n,e);else if(t.tag===19)G0(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Be(Xe,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&lh(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),Zp(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&lh(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}Zp(e,!0,n,null,i);break;case"together":Zp(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Id(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function vs(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Eo|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(G(153));if(e.child!==null){for(t=e.child,n=yi(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=yi(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function UO(t,e,n){switch(e.tag){case 3:eI(e),Fa();break;case 5:Ab(e);break;case 1:pn(e.type)&&nh(e);break;case 4:av(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;Be(ih,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Be(Xe,Xe.current&1),e.flags|=128,null):n&e.child.childLanes?tI(t,e,n):(Be(Xe,Xe.current&1),t=vs(t,e,n),t!==null?t.sibling:null);Be(Xe,Xe.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return nI(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Be(Xe,Xe.current),r)break;return null;case 22:case 23:return e.lanes=0,Jb(t,e,n)}return vs(t,e,n)}var rI,wg,sI,iI;rI=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};wg=function(){};sI=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,to(Br.current);var i=null;switch(n){case"input":s=$m(t,s),r=$m(t,r),i=[];break;case"select":s=et({},s,{value:void 0}),r=et({},r,{value:void 0}),i=[];break;case"textarea":s=Wm(t,s),r=Wm(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=eh)}qm(n,r);var o;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var a=s[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(wc.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var l=r[u];if(a=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(wc.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Ge("scroll",t),i||a===l||(i=[])):(i=i||[]).push(u,l))}n&&(i=i||[]).push("style",n);var u=i;(e.updateQueue=u)&&(e.flags|=4)}};iI=function(t,e,n,r){n!==r&&(e.flags|=4)};function jl(t,e){if(!Ye)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Ft(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function $O(t,e,n){var r=e.pendingProps;switch(ev(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ft(e),null;case 1:return pn(e.type)&&th(),Ft(e),null;case 3:return r=e.stateNode,$a(),Qe(fn),Qe(Gt),cv(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Ku(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,cr!==null&&(Cg(cr),cr=null))),wg(t,e),Ft(e),null;case 5:lv(e);var s=to(Nc.current);if(n=e.type,t!==null&&e.stateNode!=null)sI(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(G(166));return Ft(e),null}if(t=to(Br.current),Ku(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[Mr]=e,r[Rc]=i,t=(e.mode&1)!==0,n){case"dialog":Ge("cancel",r),Ge("close",r);break;case"iframe":case"object":case"embed":Ge("load",r);break;case"video":case"audio":for(s=0;s<Hl.length;s++)Ge(Hl[s],r);break;case"source":Ge("error",r);break;case"img":case"image":case"link":Ge("error",r),Ge("load",r);break;case"details":Ge("toggle",r);break;case"input":n0(r,i),Ge("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Ge("invalid",r);break;case"textarea":s0(r,i),Ge("invalid",r)}qm(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&Gu(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&Gu(r.textContent,a,t),s=["children",""+a]):wc.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Ge("scroll",r)}switch(n){case"input":Fu(r),r0(r,i,!0);break;case"textarea":Fu(r),i0(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=eh)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=OS(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Mr]=e,t[Rc]=r,rI(t,e,!1,!1),e.stateNode=t;e:{switch(o=Gm(n,r),n){case"dialog":Ge("cancel",t),Ge("close",t),s=r;break;case"iframe":case"object":case"embed":Ge("load",t),s=r;break;case"video":case"audio":for(s=0;s<Hl.length;s++)Ge(Hl[s],t);s=r;break;case"source":Ge("error",t),s=r;break;case"img":case"image":case"link":Ge("error",t),Ge("load",t),s=r;break;case"details":Ge("toggle",t),s=r;break;case"input":n0(t,r),s=$m(t,r),Ge("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=et({},r,{value:void 0}),Ge("invalid",t);break;case"textarea":s0(t,r),s=Wm(t,r),Ge("invalid",t);break;default:s=r}qm(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?MS(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&DS(t,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&_c(t,l):typeof l=="number"&&_c(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(wc.hasOwnProperty(i)?l!=null&&i==="onScroll"&&Ge("scroll",t):l!=null&&Fy(t,i,l,o))}switch(n){case"input":Fu(t),r0(t,r,!1);break;case"textarea":Fu(t),i0(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Si(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?ga(t,!!r.multiple,i,!1):r.defaultValue!=null&&ga(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=eh)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Ft(e),null;case 6:if(t&&e.stateNode!=null)iI(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(G(166));if(n=to(Nc.current),to(Br.current),Ku(e)){if(r=e.stateNode,n=e.memoizedProps,r[Mr]=e,(i=r.nodeValue!==n)&&(t=In,t!==null))switch(t.tag){case 3:Gu(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Gu(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Mr]=e,e.stateNode=r}return Ft(e),null;case 13:if(Qe(Xe),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ye&&Sn!==null&&e.mode&1&&!(e.flags&128))Tb(),Fa(),e.flags|=98560,i=!1;else if(i=Ku(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(G(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(G(317));i[Mr]=e}else Fa(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Ft(e),i=!1}else cr!==null&&(Cg(cr),cr=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Xe.current&1?wt===0&&(wt=3):Ev())),e.updateQueue!==null&&(e.flags|=4),Ft(e),null);case 4:return $a(),wg(t,e),t===null&&Cc(e.stateNode.containerInfo),Ft(e),null;case 10:return sv(e.type._context),Ft(e),null;case 17:return pn(e.type)&&th(),Ft(e),null;case 19:if(Qe(Xe),i=e.memoizedState,i===null)return Ft(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)jl(i,!1);else{if(wt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=lh(t),o!==null){for(e.flags|=128,jl(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Be(Xe,Xe.current&1|2),e.child}t=t.sibling}i.tail!==null&&lt()>za&&(e.flags|=128,r=!0,jl(i,!1),e.lanes=4194304)}else{if(!r)if(t=lh(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),jl(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Ye)return Ft(e),null}else 2*lt()-i.renderingStartTime>za&&n!==1073741824&&(e.flags|=128,r=!0,jl(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=lt(),e.sibling=null,n=Xe.current,Be(Xe,r?n&1|2:n&1),e):(Ft(e),null);case 22:case 23:return _v(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?En&1073741824&&(Ft(e),e.subtreeFlags&6&&(e.flags|=8192)):Ft(e),null;case 24:return null;case 25:return null}throw Error(G(156,e.tag))}function BO(t,e){switch(ev(e),e.tag){case 1:return pn(e.type)&&th(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return $a(),Qe(fn),Qe(Gt),cv(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return lv(e),null;case 13:if(Qe(Xe),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(G(340));Fa()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Qe(Xe),null;case 4:return $a(),null;case 10:return sv(e.type._context),null;case 22:case 23:return _v(),null;case 24:return null;default:return null}}var Xu=!1,Bt=!1,zO=typeof WeakSet=="function"?WeakSet:Set,ne=null;function pa(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){st(t,e,r)}else n.current=null}function _g(t,e,n){try{n()}catch(r){st(t,e,r)}}var K0=!1;function WO(t,e){if(rg=Xd,t=ub(),Jy(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,d=0,f=t,p=null;t:for(;;){for(var g;f!==n||s!==0&&f.nodeType!==3||(a=o+s),f!==i||r!==0&&f.nodeType!==3||(l=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(g=f.firstChild)!==null;)p=f,f=g;for(;;){if(f===t)break t;if(p===n&&++u===s&&(a=o),p===i&&++d===r&&(l=o),(g=f.nextSibling)!==null)break;f=p,p=f.parentNode}f=g}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(sg={focusedElem:t,selectionRange:n},Xd=!1,ne=e;ne!==null;)if(e=ne,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ne=t;else for(;ne!==null;){e=ne;try{var S=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(S!==null){var v=S.memoizedProps,x=S.memoizedState,E=e.stateNode,w=E.getSnapshotBeforeUpdate(e.elementType===e.type?v:sr(e.type,v),x);E.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var T=e.stateNode.containerInfo;T.nodeType===1?T.textContent="":T.nodeType===9&&T.documentElement&&T.removeChild(T.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(G(163))}}catch(C){st(e,e.return,C)}if(t=e.sibling,t!==null){t.return=e.return,ne=t;break}ne=e.return}return S=K0,K0=!1,S}function ac(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&_g(e,n,i)}s=s.next}while(s!==r)}}function lf(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Eg(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function oI(t){var e=t.alternate;e!==null&&(t.alternate=null,oI(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Mr],delete e[Rc],delete e[ag],delete e[IO],delete e[CO])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function aI(t){return t.tag===5||t.tag===3||t.tag===4}function Q0(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||aI(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function xg(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=eh));else if(r!==4&&(t=t.child,t!==null))for(xg(t,e,n),t=t.sibling;t!==null;)xg(t,e,n),t=t.sibling}function Tg(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Tg(t,e,n),t=t.sibling;t!==null;)Tg(t,e,n),t=t.sibling}var Pt=null,lr=!1;function Us(t,e,n){for(n=n.child;n!==null;)lI(t,e,n),n=n.sibling}function lI(t,e,n){if($r&&typeof $r.onCommitFiberUnmount=="function")try{$r.onCommitFiberUnmount(Zh,n)}catch{}switch(n.tag){case 5:Bt||pa(n,e);case 6:var r=Pt,s=lr;Pt=null,Us(t,e,n),Pt=r,lr=s,Pt!==null&&(lr?(t=Pt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Pt.removeChild(n.stateNode));break;case 18:Pt!==null&&(lr?(t=Pt,n=n.stateNode,t.nodeType===8?qp(t.parentNode,n):t.nodeType===1&&qp(t,n),Sc(t)):qp(Pt,n.stateNode));break;case 4:r=Pt,s=lr,Pt=n.stateNode.containerInfo,lr=!0,Us(t,e,n),Pt=r,lr=s;break;case 0:case 11:case 14:case 15:if(!Bt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&_g(n,e,o),s=s.next}while(s!==r)}Us(t,e,n);break;case 1:if(!Bt&&(pa(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){st(n,e,a)}Us(t,e,n);break;case 21:Us(t,e,n);break;case 22:n.mode&1?(Bt=(r=Bt)||n.memoizedState!==null,Us(t,e,n),Bt=r):Us(t,e,n);break;default:Us(t,e,n)}}function Y0(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new zO),e.forEach(function(r){var s=ZO.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function tr(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Pt=a.stateNode,lr=!1;break e;case 3:Pt=a.stateNode.containerInfo,lr=!0;break e;case 4:Pt=a.stateNode.containerInfo,lr=!0;break e}a=a.return}if(Pt===null)throw Error(G(160));lI(i,o,s),Pt=null,lr=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(u){st(s,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)cI(e,t),e=e.sibling}function cI(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(tr(e,t),Rr(t),r&4){try{ac(3,t,t.return),lf(3,t)}catch(v){st(t,t.return,v)}try{ac(5,t,t.return)}catch(v){st(t,t.return,v)}}break;case 1:tr(e,t),Rr(t),r&512&&n!==null&&pa(n,n.return);break;case 5:if(tr(e,t),Rr(t),r&512&&n!==null&&pa(n,n.return),t.flags&32){var s=t.stateNode;try{_c(s,"")}catch(v){st(t,t.return,v)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&NS(s,i),Gm(a,o);var u=Gm(a,i);for(o=0;o<l.length;o+=2){var d=l[o],f=l[o+1];d==="style"?MS(s,f):d==="dangerouslySetInnerHTML"?DS(s,f):d==="children"?_c(s,f):Fy(s,d,f,u)}switch(a){case"input":Bm(s,i);break;case"textarea":kS(s,i);break;case"select":var p=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var g=i.value;g!=null?ga(s,!!i.multiple,g,!1):p!==!!i.multiple&&(i.defaultValue!=null?ga(s,!!i.multiple,i.defaultValue,!0):ga(s,!!i.multiple,i.multiple?[]:"",!1))}s[Rc]=i}catch(v){st(t,t.return,v)}}break;case 6:if(tr(e,t),Rr(t),r&4){if(t.stateNode===null)throw Error(G(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(v){st(t,t.return,v)}}break;case 3:if(tr(e,t),Rr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Sc(e.containerInfo)}catch(v){st(t,t.return,v)}break;case 4:tr(e,t),Rr(t);break;case 13:tr(e,t),Rr(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(vv=lt())),r&4&&Y0(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(Bt=(u=Bt)||d,tr(e,t),Bt=u):tr(e,t),Rr(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(ne=t,d=t.child;d!==null;){for(f=ne=d;ne!==null;){switch(p=ne,g=p.child,p.tag){case 0:case 11:case 14:case 15:ac(4,p,p.return);break;case 1:pa(p,p.return);var S=p.stateNode;if(typeof S.componentWillUnmount=="function"){r=p,n=p.return;try{e=r,S.props=e.memoizedProps,S.state=e.memoizedState,S.componentWillUnmount()}catch(v){st(r,n,v)}}break;case 5:pa(p,p.return);break;case 22:if(p.memoizedState!==null){J0(f);continue}}g!==null?(g.return=p,ne=g):J0(f)}d=d.sibling}e:for(d=null,f=t;;){if(f.tag===5){if(d===null){d=f;try{s=f.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=f.stateNode,l=f.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=LS("display",o))}catch(v){st(t,t.return,v)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(v){st(t,t.return,v)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:tr(e,t),Rr(t),r&4&&Y0(t);break;case 21:break;default:tr(e,t),Rr(t)}}function Rr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(aI(n)){var r=n;break e}n=n.return}throw Error(G(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(_c(s,""),r.flags&=-33);var i=Q0(t);Tg(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=Q0(t);xg(t,a,o);break;default:throw Error(G(161))}}catch(l){st(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function HO(t,e,n){ne=t,uI(t)}function uI(t,e,n){for(var r=(t.mode&1)!==0;ne!==null;){var s=ne,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||Xu;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||Bt;a=Xu;var u=Bt;if(Xu=o,(Bt=l)&&!u)for(ne=s;ne!==null;)o=ne,l=o.child,o.tag===22&&o.memoizedState!==null?Z0(s):l!==null?(l.return=o,ne=l):Z0(s);for(;i!==null;)ne=i,uI(i),i=i.sibling;ne=s,Xu=a,Bt=u}X0(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,ne=i):X0(t)}}function X0(t){for(;ne!==null;){var e=ne;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Bt||lf(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Bt)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:sr(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&L0(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}L0(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Sc(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(G(163))}Bt||e.flags&512&&Eg(e)}catch(p){st(e,e.return,p)}}if(e===t){ne=null;break}if(n=e.sibling,n!==null){n.return=e.return,ne=n;break}ne=e.return}}function J0(t){for(;ne!==null;){var e=ne;if(e===t){ne=null;break}var n=e.sibling;if(n!==null){n.return=e.return,ne=n;break}ne=e.return}}function Z0(t){for(;ne!==null;){var e=ne;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{lf(4,e)}catch(l){st(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(l){st(e,s,l)}}var i=e.return;try{Eg(e)}catch(l){st(e,i,l)}break;case 5:var o=e.return;try{Eg(e)}catch(l){st(e,o,l)}}}catch(l){st(e,e.return,l)}if(e===t){ne=null;break}var a=e.sibling;if(a!==null){a.return=e.return,ne=a;break}ne=e.return}}var qO=Math.ceil,dh=Cs.ReactCurrentDispatcher,gv=Cs.ReactCurrentOwner,Wn=Cs.ReactCurrentBatchConfig,Pe=0,At=null,ft=null,Ot=0,En=0,ma=ji(0),wt=0,Lc=null,Eo=0,cf=0,yv=0,lc=null,un=null,vv=0,za=1/0,is=null,hh=!1,Sg=null,mi=null,Ju=!1,ai=null,fh=0,cc=0,bg=null,Cd=-1,Ad=0;function en(){return Pe&6?lt():Cd!==-1?Cd:Cd=lt()}function gi(t){return t.mode&1?Pe&2&&Ot!==0?Ot&-Ot:RO.transition!==null?(Ad===0&&(Ad=KS()),Ad):(t=Le,t!==0||(t=window.event,t=t===void 0?16:tb(t.type)),t):1}function fr(t,e,n,r){if(50<cc)throw cc=0,bg=null,Error(G(185));ru(t,n,r),(!(Pe&2)||t!==At)&&(t===At&&(!(Pe&2)&&(cf|=n),wt===4&&Qs(t,Ot)),mn(t,r),n===1&&Pe===0&&!(e.mode&1)&&(za=lt()+500,sf&&Vi()))}function mn(t,e){var n=t.callbackNode;R2(t,e);var r=Yd(t,t===At?Ot:0);if(r===0)n!==null&&l0(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&l0(n),e===1)t.tag===0?AO(eE.bind(null,t)):_b(eE.bind(null,t)),SO(function(){!(Pe&6)&&Vi()}),n=null;else{switch(QS(r)){case 1:n=Wy;break;case 4:n=qS;break;case 16:n=Qd;break;case 536870912:n=GS;break;default:n=Qd}n=vI(n,dI.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function dI(t,e){if(Cd=-1,Ad=0,Pe&6)throw Error(G(327));var n=t.callbackNode;if(Ea()&&t.callbackNode!==n)return null;var r=Yd(t,t===At?Ot:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=ph(t,r);else{e=r;var s=Pe;Pe|=2;var i=fI();(At!==t||Ot!==e)&&(is=null,za=lt()+500,ho(t,e));do try{QO();break}catch(a){hI(t,a)}while(!0);rv(),dh.current=i,Pe=s,ft!==null?e=0:(At=null,Ot=0,e=wt)}if(e!==0){if(e===2&&(s=Jm(t),s!==0&&(r=s,e=Ig(t,s))),e===1)throw n=Lc,ho(t,0),Qs(t,r),mn(t,lt()),n;if(e===6)Qs(t,r);else{if(s=t.current.alternate,!(r&30)&&!GO(s)&&(e=ph(t,r),e===2&&(i=Jm(t),i!==0&&(r=i,e=Ig(t,i))),e===1))throw n=Lc,ho(t,0),Qs(t,r),mn(t,lt()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(G(345));case 2:Xi(t,un,is);break;case 3:if(Qs(t,r),(r&130023424)===r&&(e=vv+500-lt(),10<e)){if(Yd(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){en(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=og(Xi.bind(null,t,un,is),e);break}Xi(t,un,is);break;case 4:if(Qs(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-hr(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=lt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*qO(r/1960))-r,10<r){t.timeoutHandle=og(Xi.bind(null,t,un,is),r);break}Xi(t,un,is);break;case 5:Xi(t,un,is);break;default:throw Error(G(329))}}}return mn(t,lt()),t.callbackNode===n?dI.bind(null,t):null}function Ig(t,e){var n=lc;return t.current.memoizedState.isDehydrated&&(ho(t,e).flags|=256),t=ph(t,e),t!==2&&(e=un,un=n,e!==null&&Cg(e)),t}function Cg(t){un===null?un=t:un.push.apply(un,t)}function GO(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!yr(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Qs(t,e){for(e&=~yv,e&=~cf,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-hr(e),r=1<<n;t[n]=-1,e&=~r}}function eE(t){if(Pe&6)throw Error(G(327));Ea();var e=Yd(t,0);if(!(e&1))return mn(t,lt()),null;var n=ph(t,e);if(t.tag!==0&&n===2){var r=Jm(t);r!==0&&(e=r,n=Ig(t,r))}if(n===1)throw n=Lc,ho(t,0),Qs(t,e),mn(t,lt()),n;if(n===6)throw Error(G(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Xi(t,un,is),mn(t,lt()),null}function wv(t,e){var n=Pe;Pe|=1;try{return t(e)}finally{Pe=n,Pe===0&&(za=lt()+500,sf&&Vi())}}function xo(t){ai!==null&&ai.tag===0&&!(Pe&6)&&Ea();var e=Pe;Pe|=1;var n=Wn.transition,r=Le;try{if(Wn.transition=null,Le=1,t)return t()}finally{Le=r,Wn.transition=n,Pe=e,!(Pe&6)&&Vi()}}function _v(){En=ma.current,Qe(ma)}function ho(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,TO(n)),ft!==null)for(n=ft.return;n!==null;){var r=n;switch(ev(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&th();break;case 3:$a(),Qe(fn),Qe(Gt),cv();break;case 5:lv(r);break;case 4:$a();break;case 13:Qe(Xe);break;case 19:Qe(Xe);break;case 10:sv(r.type._context);break;case 22:case 23:_v()}n=n.return}if(At=t,ft=t=yi(t.current,null),Ot=En=e,wt=0,Lc=null,yv=cf=Eo=0,un=lc=null,eo!==null){for(e=0;e<eo.length;e++)if(n=eo[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}eo=null}return t}function hI(t,e){do{var n=ft;try{if(rv(),Sd.current=uh,ch){for(var r=Ze.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}ch=!1}if(_o=0,It=vt=Ze=null,oc=!1,kc=0,gv.current=null,n===null||n.return===null){wt=1,Lc=e,ft=null;break}e:{var i=t,o=n.return,a=n,l=e;if(e=Ot,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,d=a,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var g=$0(o);if(g!==null){g.flags&=-257,B0(g,o,a,i,e),g.mode&1&&U0(i,u,e),e=g,l=u;var S=e.updateQueue;if(S===null){var v=new Set;v.add(l),e.updateQueue=v}else S.add(l);break e}else{if(!(e&1)){U0(i,u,e),Ev();break e}l=Error(G(426))}}else if(Ye&&a.mode&1){var x=$0(o);if(x!==null){!(x.flags&65536)&&(x.flags|=256),B0(x,o,a,i,e),tv(Ba(l,a));break e}}i=l=Ba(l,a),wt!==4&&(wt=2),lc===null?lc=[i]:lc.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var E=Qb(i,l,e);D0(i,E);break e;case 1:a=l;var w=i.type,T=i.stateNode;if(!(i.flags&128)&&(typeof w.getDerivedStateFromError=="function"||T!==null&&typeof T.componentDidCatch=="function"&&(mi===null||!mi.has(T)))){i.flags|=65536,e&=-e,i.lanes|=e;var C=Yb(i,a,e);D0(i,C);break e}}i=i.return}while(i!==null)}mI(n)}catch(D){e=D,ft===n&&n!==null&&(ft=n=n.return);continue}break}while(!0)}function fI(){var t=dh.current;return dh.current=uh,t===null?uh:t}function Ev(){(wt===0||wt===3||wt===2)&&(wt=4),At===null||!(Eo&268435455)&&!(cf&268435455)||Qs(At,Ot)}function ph(t,e){var n=Pe;Pe|=2;var r=fI();(At!==t||Ot!==e)&&(is=null,ho(t,e));do try{KO();break}catch(s){hI(t,s)}while(!0);if(rv(),Pe=n,dh.current=r,ft!==null)throw Error(G(261));return At=null,Ot=0,wt}function KO(){for(;ft!==null;)pI(ft)}function QO(){for(;ft!==null&&!_2();)pI(ft)}function pI(t){var e=yI(t.alternate,t,En);t.memoizedProps=t.pendingProps,e===null?mI(t):ft=e,gv.current=null}function mI(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=BO(n,e),n!==null){n.flags&=32767,ft=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{wt=6,ft=null;return}}else if(n=$O(n,e,En),n!==null){ft=n;return}if(e=e.sibling,e!==null){ft=e;return}ft=e=t}while(e!==null);wt===0&&(wt=5)}function Xi(t,e,n){var r=Le,s=Wn.transition;try{Wn.transition=null,Le=1,YO(t,e,n,r)}finally{Wn.transition=s,Le=r}return null}function YO(t,e,n,r){do Ea();while(ai!==null);if(Pe&6)throw Error(G(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(G(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(P2(t,i),t===At&&(ft=At=null,Ot=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Ju||(Ju=!0,vI(Qd,function(){return Ea(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Wn.transition,Wn.transition=null;var o=Le;Le=1;var a=Pe;Pe|=4,gv.current=null,WO(t,n),cI(n,t),gO(sg),Xd=!!rg,sg=rg=null,t.current=n,HO(n),E2(),Pe=a,Le=o,Wn.transition=i}else t.current=n;if(Ju&&(Ju=!1,ai=t,fh=s),i=t.pendingLanes,i===0&&(mi=null),S2(n.stateNode),mn(t,lt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(hh)throw hh=!1,t=Sg,Sg=null,t;return fh&1&&t.tag!==0&&Ea(),i=t.pendingLanes,i&1?t===bg?cc++:(cc=0,bg=t):cc=0,Vi(),null}function Ea(){if(ai!==null){var t=QS(fh),e=Wn.transition,n=Le;try{if(Wn.transition=null,Le=16>t?16:t,ai===null)var r=!1;else{if(t=ai,ai=null,fh=0,Pe&6)throw Error(G(331));var s=Pe;for(Pe|=4,ne=t.current;ne!==null;){var i=ne,o=i.child;if(ne.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(ne=u;ne!==null;){var d=ne;switch(d.tag){case 0:case 11:case 15:ac(8,d,i)}var f=d.child;if(f!==null)f.return=d,ne=f;else for(;ne!==null;){d=ne;var p=d.sibling,g=d.return;if(oI(d),d===u){ne=null;break}if(p!==null){p.return=g,ne=p;break}ne=g}}}var S=i.alternate;if(S!==null){var v=S.child;if(v!==null){S.child=null;do{var x=v.sibling;v.sibling=null,v=x}while(v!==null)}}ne=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,ne=o;else e:for(;ne!==null;){if(i=ne,i.flags&2048)switch(i.tag){case 0:case 11:case 15:ac(9,i,i.return)}var E=i.sibling;if(E!==null){E.return=i.return,ne=E;break e}ne=i.return}}var w=t.current;for(ne=w;ne!==null;){o=ne;var T=o.child;if(o.subtreeFlags&2064&&T!==null)T.return=o,ne=T;else e:for(o=w;ne!==null;){if(a=ne,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:lf(9,a)}}catch(D){st(a,a.return,D)}if(a===o){ne=null;break e}var C=a.sibling;if(C!==null){C.return=a.return,ne=C;break e}ne=a.return}}if(Pe=s,Vi(),$r&&typeof $r.onPostCommitFiberRoot=="function")try{$r.onPostCommitFiberRoot(Zh,t)}catch{}r=!0}return r}finally{Le=n,Wn.transition=e}}return!1}function tE(t,e,n){e=Ba(n,e),e=Qb(t,e,1),t=pi(t,e,1),e=en(),t!==null&&(ru(t,1,e),mn(t,e))}function st(t,e,n){if(t.tag===3)tE(t,t,n);else for(;e!==null;){if(e.tag===3){tE(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(mi===null||!mi.has(r))){t=Ba(n,t),t=Yb(e,t,1),e=pi(e,t,1),t=en(),e!==null&&(ru(e,1,t),mn(e,t));break}}e=e.return}}function XO(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=en(),t.pingedLanes|=t.suspendedLanes&n,At===t&&(Ot&n)===n&&(wt===4||wt===3&&(Ot&130023424)===Ot&&500>lt()-vv?ho(t,0):yv|=n),mn(t,e)}function gI(t,e){e===0&&(t.mode&1?(e=Bu,Bu<<=1,!(Bu&130023424)&&(Bu=4194304)):e=1);var n=en();t=ys(t,e),t!==null&&(ru(t,e,n),mn(t,n))}function JO(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),gI(t,n)}function ZO(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(G(314))}r!==null&&r.delete(e),gI(t,n)}var yI;yI=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||fn.current)dn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return dn=!1,UO(t,e,n);dn=!!(t.flags&131072)}else dn=!1,Ye&&e.flags&1048576&&Eb(e,sh,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Id(t,e),t=e.pendingProps;var s=Va(e,Gt.current);_a(e,n),s=dv(null,e,r,t,s,n);var i=hv();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,pn(r)?(i=!0,nh(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,ov(e),s.updater=af,e.stateNode=s,s._reactInternals=e,fg(e,r,t,n),e=gg(null,e,r,!0,i,n)):(e.tag=0,Ye&&i&&Zy(e),Jt(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Id(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=tD(r),t=sr(r,t),s){case 0:e=mg(null,e,r,t,n);break e;case 1:e=H0(null,e,r,t,n);break e;case 11:e=z0(null,e,r,t,n);break e;case 14:e=W0(null,e,r,sr(r.type,t),n);break e}throw Error(G(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:sr(r,s),mg(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:sr(r,s),H0(t,e,r,s,n);case 3:e:{if(eI(e),t===null)throw Error(G(387));r=e.pendingProps,i=e.memoizedState,s=i.element,Cb(t,e),ah(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=Ba(Error(G(423)),e),e=q0(t,e,r,n,s);break e}else if(r!==s){s=Ba(Error(G(424)),e),e=q0(t,e,r,n,s);break e}else for(Sn=fi(e.stateNode.containerInfo.firstChild),In=e,Ye=!0,cr=null,n=bb(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Fa(),r===s){e=vs(t,e,n);break e}Jt(t,e,r,n)}e=e.child}return e;case 5:return Ab(e),t===null&&ug(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,ig(r,s)?o=null:i!==null&&ig(r,i)&&(e.flags|=32),Zb(t,e),Jt(t,e,o,n),e.child;case 6:return t===null&&ug(e),null;case 13:return tI(t,e,n);case 4:return av(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Ua(e,null,r,n):Jt(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:sr(r,s),z0(t,e,r,s,n);case 7:return Jt(t,e,e.pendingProps,n),e.child;case 8:return Jt(t,e,e.pendingProps.children,n),e.child;case 12:return Jt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,Be(ih,r._currentValue),r._currentValue=o,i!==null)if(yr(i.value,o)){if(i.children===s.children&&!fn.current){e=vs(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=fs(-1,n&-n),l.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?l.next=l:(l.next=d.next,d.next=l),u.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),dg(i.return,n,e),a.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(G(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),dg(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Jt(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,_a(e,n),s=qn(s),r=r(s),e.flags|=1,Jt(t,e,r,n),e.child;case 14:return r=e.type,s=sr(r,e.pendingProps),s=sr(r.type,s),W0(t,e,r,s,n);case 15:return Xb(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:sr(r,s),Id(t,e),e.tag=1,pn(r)?(t=!0,nh(e)):t=!1,_a(e,n),Kb(e,r,s),fg(e,r,s,n),gg(null,e,r,!0,t,n);case 19:return nI(t,e,n);case 22:return Jb(t,e,n)}throw Error(G(156,e.tag))};function vI(t,e){return HS(t,e)}function eD(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function zn(t,e,n,r){return new eD(t,e,n,r)}function xv(t){return t=t.prototype,!(!t||!t.isReactComponent)}function tD(t){if(typeof t=="function")return xv(t)?1:0;if(t!=null){if(t=t.$$typeof,t===$y)return 11;if(t===By)return 14}return 2}function yi(t,e){var n=t.alternate;return n===null?(n=zn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Rd(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")xv(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case ia:return fo(n.children,s,i,e);case Uy:o=8,s|=8;break;case jm:return t=zn(12,n,e,s|2),t.elementType=jm,t.lanes=i,t;case Vm:return t=zn(13,n,e,s),t.elementType=Vm,t.lanes=i,t;case Fm:return t=zn(19,n,e,s),t.elementType=Fm,t.lanes=i,t;case AS:return uf(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case IS:o=10;break e;case CS:o=9;break e;case $y:o=11;break e;case By:o=14;break e;case qs:o=16,r=null;break e}throw Error(G(130,t==null?t:typeof t,""))}return e=zn(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function fo(t,e,n,r){return t=zn(7,t,r,e),t.lanes=n,t}function uf(t,e,n,r){return t=zn(22,t,r,e),t.elementType=AS,t.lanes=n,t.stateNode={isHidden:!1},t}function em(t,e,n){return t=zn(6,t,null,e),t.lanes=n,t}function tm(t,e,n){return e=zn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function nD(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Lp(0),this.expirationTimes=Lp(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Lp(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Tv(t,e,n,r,s,i,o,a,l){return t=new nD(t,e,n,a,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=zn(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},ov(i),t}function rD(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:sa,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function wI(t){if(!t)return bi;t=t._reactInternals;e:{if(Lo(t)!==t||t.tag!==1)throw Error(G(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(pn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(G(171))}if(t.tag===1){var n=t.type;if(pn(n))return wb(t,n,e)}return e}function _I(t,e,n,r,s,i,o,a,l){return t=Tv(n,r,!0,t,s,i,o,a,l),t.context=wI(null),n=t.current,r=en(),s=gi(n),i=fs(r,s),i.callback=e??null,pi(n,i,s),t.current.lanes=s,ru(t,s,r),mn(t,r),t}function df(t,e,n,r){var s=e.current,i=en(),o=gi(s);return n=wI(n),e.context===null?e.context=n:e.pendingContext=n,e=fs(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=pi(s,e,o),t!==null&&(fr(t,s,o,i),Td(t,s,o)),o}function mh(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function nE(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Sv(t,e){nE(t,e),(t=t.alternate)&&nE(t,e)}function sD(){return null}var EI=typeof reportError=="function"?reportError:function(t){console.error(t)};function bv(t){this._internalRoot=t}hf.prototype.render=bv.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(G(409));df(t,e,null,null)};hf.prototype.unmount=bv.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;xo(function(){df(null,t,null,null)}),e[gs]=null}};function hf(t){this._internalRoot=t}hf.prototype.unstable_scheduleHydration=function(t){if(t){var e=JS();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Ks.length&&e!==0&&e<Ks[n].priority;n++);Ks.splice(n,0,t),n===0&&eb(t)}};function Iv(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function ff(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function rE(){}function iD(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var u=mh(o);i.call(u)}}var o=_I(e,r,t,0,null,!1,!1,"",rE);return t._reactRootContainer=o,t[gs]=o.current,Cc(t.nodeType===8?t.parentNode:t),xo(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var u=mh(l);a.call(u)}}var l=Tv(t,0,!1,null,null,!1,!1,"",rE);return t._reactRootContainer=l,t[gs]=l.current,Cc(t.nodeType===8?t.parentNode:t),xo(function(){df(e,l,n,r)}),l}function pf(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=mh(o);a.call(l)}}df(e,o,t,s)}else o=iD(n,e,t,s,r);return mh(o)}YS=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Wl(e.pendingLanes);n!==0&&(Hy(e,n|1),mn(e,lt()),!(Pe&6)&&(za=lt()+500,Vi()))}break;case 13:xo(function(){var r=ys(t,1);if(r!==null){var s=en();fr(r,t,1,s)}}),Sv(t,1)}};qy=function(t){if(t.tag===13){var e=ys(t,134217728);if(e!==null){var n=en();fr(e,t,134217728,n)}Sv(t,134217728)}};XS=function(t){if(t.tag===13){var e=gi(t),n=ys(t,e);if(n!==null){var r=en();fr(n,t,e,r)}Sv(t,e)}};JS=function(){return Le};ZS=function(t,e){var n=Le;try{return Le=t,e()}finally{Le=n}};Qm=function(t,e,n){switch(e){case"input":if(Bm(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=rf(r);if(!s)throw Error(G(90));PS(r),Bm(r,s)}}}break;case"textarea":kS(t,n);break;case"select":e=n.value,e!=null&&ga(t,!!n.multiple,e,!1)}};FS=wv;US=xo;var oD={usingClientEntryPoint:!1,Events:[iu,ca,rf,jS,VS,wv]},Vl={findFiberByHostInstance:Zi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},aD={bundleType:Vl.bundleType,version:Vl.version,rendererPackageName:Vl.rendererPackageName,rendererConfig:Vl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Cs.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=zS(t),t===null?null:t.stateNode},findFiberByHostInstance:Vl.findFiberByHostInstance||sD,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Zu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Zu.isDisabled&&Zu.supportsFiber)try{Zh=Zu.inject(aD),$r=Zu}catch{}}On.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=oD;On.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Iv(e))throw Error(G(200));return rD(t,e,null,n)};On.createRoot=function(t,e){if(!Iv(t))throw Error(G(299));var n=!1,r="",s=EI;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=Tv(t,1,!1,null,null,n,!1,r,s),t[gs]=e.current,Cc(t.nodeType===8?t.parentNode:t),new bv(e)};On.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(G(188)):(t=Object.keys(t).join(","),Error(G(268,t)));return t=zS(e),t=t===null?null:t.stateNode,t};On.flushSync=function(t){return xo(t)};On.hydrate=function(t,e,n){if(!ff(e))throw Error(G(200));return pf(null,t,e,!0,n)};On.hydrateRoot=function(t,e,n){if(!Iv(t))throw Error(G(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=EI;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=_I(e,null,t,1,n??null,s,!1,i,o),t[gs]=e.current,Cc(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new hf(e)};On.render=function(t,e,n){if(!ff(e))throw Error(G(200));return pf(null,t,e,!1,n)};On.unmountComponentAtNode=function(t){if(!ff(t))throw Error(G(40));return t._reactRootContainer?(xo(function(){pf(null,null,t,!1,function(){t._reactRootContainer=null,t[gs]=null})}),!0):!1};On.unstable_batchedUpdates=wv;On.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!ff(n))throw Error(G(200));if(t==null||t._reactInternals===void 0)throw Error(G(38));return pf(t,e,n,!1,r)};On.version="18.3.1-next-f1338f8080-20240426";function xI(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(xI)}catch(t){console.error(t)}}xI(),xS.exports=On;var Mo=xS.exports;const TI=uS(Mo);var SI,sE=Mo;SI=sE.createRoot,sE.hydrateRoot;const bI=y.createContext(null);function lD({children:t,defaultTheme:e="system",value:n,...r}){const[s,i]=y.useState(()=>{if(typeof window<"u"){const a=localStorage.getItem("theme");return a&&(a==="dark"||a==="light"||a==="system")?a:e}return e});y.useEffect(()=>{const a=window.document.documentElement;if(a.classList.remove("light","dark"),s==="system"){const l=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";a.classList.add(l);return}a.classList.add(s)},[s]);const o={theme:s,setTheme:a=>{localStorage.setItem("theme",a),i(a)}};return h.jsx(bI.Provider,{value:o,...r,children:t})}const cD=()=>{const t=y.useContext(bI);if(!t)throw new Error("useTheme must be used within a ThemeProvider");return t};var mf=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},uD={setTimeout:(t,e)=>setTimeout(t,e),clearTimeout:t=>clearTimeout(t),setInterval:(t,e)=>setInterval(t,e),clearInterval:t=>clearInterval(t)},ei,Ny,tS,dD=(tS=class{constructor(){Ce(this,ei,uD);Ce(this,Ny,!1)}setTimeoutProvider(t){pe(this,ei,t)}setTimeout(t,e){return $(this,ei).setTimeout(t,e)}clearTimeout(t){$(this,ei).clearTimeout(t)}setInterval(t,e){return $(this,ei).setInterval(t,e)}clearInterval(t){$(this,ei).clearInterval(t)}},ei=new WeakMap,Ny=new WeakMap,tS),Ag=new dD;function hD(t){setTimeout(t,0)}var gf=typeof window>"u"||"Deno"in globalThis;function ir(){}function fD(t,e){return typeof t=="function"?t(e):t}function pD(t){return typeof t=="number"&&t>=0&&t!==1/0}function mD(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Rg(t,e){return typeof t=="function"?t(e):t}function gD(t,e){return typeof t=="function"?t(e):t}function iE(t,e){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:o,stale:a}=t;if(o){if(r){if(e.queryHash!==Cv(o,e.options))return!1}else if(!jc(e.queryKey,o))return!1}if(n!=="all"){const l=e.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||s&&s!==e.state.fetchStatus||i&&!i(e))}function oE(t,e){const{exact:n,status:r,predicate:s,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(n){if(Mc(e.options.mutationKey)!==Mc(i))return!1}else if(!jc(e.options.mutationKey,i))return!1}return!(r&&e.state.status!==r||s&&!s(e))}function Cv(t,e){return((e==null?void 0:e.queryKeyHashFn)||Mc)(t)}function Mc(t){return JSON.stringify(t,(e,n)=>Pg(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function jc(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>jc(t[n],e[n])):!1}var yD=Object.prototype.hasOwnProperty;function II(t,e){if(t===e)return t;const n=aE(t)&&aE(e);if(!n&&!(Pg(t)&&Pg(e)))return e;const s=(n?t:Object.keys(t)).length,i=n?e:Object.keys(e),o=i.length,a=n?new Array(o):{};let l=0;for(let u=0;u<o;u++){const d=n?u:i[u],f=t[d],p=e[d];if(f===p){a[d]=f,(n?u<s:yD.call(t,d))&&l++;continue}if(f===null||p===null||typeof f!="object"||typeof p!="object"){a[d]=p;continue}const g=II(f,p);a[d]=g,g===f&&l++}return s===o&&l===s?t:a}function aE(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function Pg(t){if(!lE(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!lE(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function lE(t){return Object.prototype.toString.call(t)==="[object Object]"}function vD(t){return new Promise(e=>{Ag.setTimeout(e,t)})}function wD(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?II(t,e):e}function _D(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function ED(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var Av=Symbol();function CI(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===Av?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var io,ti,Ra,nS,xD=(nS=class extends mf{constructor(){super();Ce(this,io);Ce(this,ti);Ce(this,Ra);pe(this,Ra,e=>{if(!gf&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){$(this,ti)||this.setEventListener($(this,Ra))}onUnsubscribe(){var e;this.hasListeners()||((e=$(this,ti))==null||e.call(this),pe(this,ti,void 0))}setEventListener(e){var n;pe(this,Ra,e),(n=$(this,ti))==null||n.call(this),pe(this,ti,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){$(this,io)!==e&&(pe(this,io,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof $(this,io)=="boolean"?$(this,io):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},io=new WeakMap,ti=new WeakMap,Ra=new WeakMap,nS),AI=new xD;function TD(){let t,e;const n=new Promise((s,i)=>{t=s,e=i});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),t(s)},n.reject=s=>{r({status:"rejected",reason:s}),e(s)},n}var SD=hD;function bD(){let t=[],e=0,n=a=>{a()},r=a=>{a()},s=SD;const i=a=>{e?t.push(a):s(()=>{n(a)})},o=()=>{const a=t;t=[],a.length&&s(()=>{r(()=>{a.forEach(l=>{n(l)})})})};return{batch:a=>{let l;e++;try{l=a()}finally{e--,e||o()}return l},batchCalls:a=>(...l)=>{i(()=>{a(...l)})},schedule:i,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{s=a}}}var Zt=bD(),Pa,ni,Na,rS,ID=(rS=class extends mf{constructor(){super();Ce(this,Pa,!0);Ce(this,ni);Ce(this,Na);pe(this,Na,e=>{if(!gf&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){$(this,ni)||this.setEventListener($(this,Na))}onUnsubscribe(){var e;this.hasListeners()||((e=$(this,ni))==null||e.call(this),pe(this,ni,void 0))}setEventListener(e){var n;pe(this,Na,e),(n=$(this,ni))==null||n.call(this),pe(this,ni,e(this.setOnline.bind(this)))}setOnline(e){$(this,Pa)!==e&&(pe(this,Pa,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return $(this,Pa)}},Pa=new WeakMap,ni=new WeakMap,Na=new WeakMap,rS),gh=new ID;function CD(t){return Math.min(1e3*2**t,3e4)}function RI(t){return(t??"online")==="online"?gh.isOnline():!0}var Ng=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function PI(t){let e=!1,n=0,r;const s=TD(),i=()=>s.status!=="pending",o=v=>{var x;if(!i()){const E=new Ng(v);p(E),(x=t.onCancel)==null||x.call(t,E)}},a=()=>{e=!0},l=()=>{e=!1},u=()=>AI.isFocused()&&(t.networkMode==="always"||gh.isOnline())&&t.canRun(),d=()=>RI(t.networkMode)&&t.canRun(),f=v=>{i()||(r==null||r(),s.resolve(v))},p=v=>{i()||(r==null||r(),s.reject(v))},g=()=>new Promise(v=>{var x;r=E=>{(i()||u())&&v(E)},(x=t.onPause)==null||x.call(t)}).then(()=>{var v;r=void 0,i()||(v=t.onContinue)==null||v.call(t)}),S=()=>{if(i())return;let v;const x=n===0?t.initialPromise:void 0;try{v=x??t.fn()}catch(E){v=Promise.reject(E)}Promise.resolve(v).then(f).catch(E=>{var L;if(i())return;const w=t.retry??(gf?0:3),T=t.retryDelay??CD,C=typeof T=="function"?T(n,E):T,D=w===!0||typeof w=="number"&&n<w||typeof w=="function"&&w(n,E);if(e||!D){p(E);return}n++,(L=t.onFail)==null||L.call(t,n,E),vD(C).then(()=>u()?void 0:g()).then(()=>{e?p(E):S()})})};return{promise:s,status:()=>s.status,cancel:o,continue:()=>(r==null||r(),s),cancelRetry:a,continueRetry:l,canStart:d,start:()=>(d()?S():g().then(S),s)}}var oo,sS,NI=(sS=class{constructor(){Ce(this,oo)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),pD(this.gcTime)&&pe(this,oo,Ag.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(gf?1/0:5*60*1e3))}clearGcTimeout(){$(this,oo)&&(Ag.clearTimeout($(this,oo)),pe(this,oo,void 0))}},oo=new WeakMap,sS),ao,ka,Vn,lo,St,Zc,co,or,rs,iS,AD=(iS=class extends NI{constructor(n){super();Ce(this,or);Ce(this,ao);Ce(this,ka);Ce(this,Vn);Ce(this,lo);Ce(this,St);Ce(this,Zc);Ce(this,co);pe(this,co,!1),pe(this,Zc,n.defaultOptions),this.setOptions(n.options),this.observers=[],pe(this,lo,n.client),pe(this,Vn,$(this,lo).getQueryCache()),this.queryKey=n.queryKey,this.queryHash=n.queryHash,pe(this,ao,cE(this.options)),this.state=n.state??$(this,ao),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var n;return(n=$(this,St))==null?void 0:n.promise}setOptions(n){if(this.options={...$(this,Zc),...n},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const r=cE(this.options);r.data!==void 0&&(this.setData(r.data,{updatedAt:r.dataUpdatedAt,manual:!0}),pe(this,ao,r))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&$(this,Vn).remove(this)}setData(n,r){const s=wD(this.state.data,n,this.options);return jt(this,or,rs).call(this,{data:s,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),s}setState(n,r){jt(this,or,rs).call(this,{type:"setState",state:n,setStateOptions:r})}cancel(n){var s,i;const r=(s=$(this,St))==null?void 0:s.promise;return(i=$(this,St))==null||i.cancel(n),r?r.then(ir).catch(ir):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState($(this,ao))}isActive(){return this.observers.some(n=>gD(n.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Av||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(n=>Rg(n.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(n=>n.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(n=0){return this.state.data===void 0?!0:n==="static"?!1:this.state.isInvalidated?!0:!mD(this.state.dataUpdatedAt,n)}onFocus(){var r;const n=this.observers.find(s=>s.shouldFetchOnWindowFocus());n==null||n.refetch({cancelRefetch:!1}),(r=$(this,St))==null||r.continue()}onOnline(){var r;const n=this.observers.find(s=>s.shouldFetchOnReconnect());n==null||n.refetch({cancelRefetch:!1}),(r=$(this,St))==null||r.continue()}addObserver(n){this.observers.includes(n)||(this.observers.push(n),this.clearGcTimeout(),$(this,Vn).notify({type:"observerAdded",query:this,observer:n}))}removeObserver(n){this.observers.includes(n)&&(this.observers=this.observers.filter(r=>r!==n),this.observers.length||($(this,St)&&($(this,co)?$(this,St).cancel({revert:!0}):$(this,St).cancelRetry()),this.scheduleGc()),$(this,Vn).notify({type:"observerRemoved",query:this,observer:n}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||jt(this,or,rs).call(this,{type:"invalidate"})}async fetch(n,r){var u,d,f,p,g,S,v,x,E,w,T,C;if(this.state.fetchStatus!=="idle"&&((u=$(this,St))==null?void 0:u.status())!=="rejected"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if($(this,St))return $(this,St).continueRetry(),$(this,St).promise}if(n&&this.setOptions(n),!this.options.queryFn){const D=this.observers.find(L=>L.options.queryFn);D&&this.setOptions(D.options)}const s=new AbortController,i=D=>{Object.defineProperty(D,"signal",{enumerable:!0,get:()=>(pe(this,co,!0),s.signal)})},o=()=>{const D=CI(this.options,r),I=(()=>{const b={client:$(this,lo),queryKey:this.queryKey,meta:this.meta};return i(b),b})();return pe(this,co,!1),this.options.persister?this.options.persister(D,I,this):D(I)},l=(()=>{const D={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:$(this,lo),state:this.state,fetchFn:o};return i(D),D})();(d=this.options.behavior)==null||d.onFetch(l,this),pe(this,ka,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((f=l.fetchOptions)==null?void 0:f.meta))&&jt(this,or,rs).call(this,{type:"fetch",meta:(p=l.fetchOptions)==null?void 0:p.meta}),pe(this,St,PI({initialPromise:r==null?void 0:r.initialPromise,fn:l.fetchFn,onCancel:D=>{D instanceof Ng&&D.revert&&this.setState({...$(this,ka),fetchStatus:"idle"}),s.abort()},onFail:(D,L)=>{jt(this,or,rs).call(this,{type:"failed",failureCount:D,error:L})},onPause:()=>{jt(this,or,rs).call(this,{type:"pause"})},onContinue:()=>{jt(this,or,rs).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0}));try{const D=await $(this,St).start();if(D===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(D),(S=(g=$(this,Vn).config).onSuccess)==null||S.call(g,D,this),(x=(v=$(this,Vn).config).onSettled)==null||x.call(v,D,this.state.error,this),D}catch(D){if(D instanceof Ng){if(D.silent)return $(this,St).promise;if(D.revert){if(this.state.data===void 0)throw D;return this.state.data}}throw jt(this,or,rs).call(this,{type:"error",error:D}),(w=(E=$(this,Vn).config).onError)==null||w.call(E,D,this),(C=(T=$(this,Vn).config).onSettled)==null||C.call(T,this.state.data,D,this),D}finally{this.scheduleGc()}}},ao=new WeakMap,ka=new WeakMap,Vn=new WeakMap,lo=new WeakMap,St=new WeakMap,Zc=new WeakMap,co=new WeakMap,or=new WeakSet,rs=function(n){const r=s=>{switch(n.type){case"failed":return{...s,fetchFailureCount:n.failureCount,fetchFailureReason:n.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...RD(s.data,this.options),fetchMeta:n.meta??null};case"success":const i={...s,data:n.data,dataUpdateCount:s.dataUpdateCount+1,dataUpdatedAt:n.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!n.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return pe(this,ka,n.manual?i:void 0),i;case"error":const o=n.error;return{...s,error:o,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:o,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...n.state}}};this.state=r(this.state),Zt.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),$(this,Vn).notify({query:this,type:"updated",action:n})})},iS);function RD(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:RI(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function cE(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}function uE(t){return{onFetch:(e,n)=>{var d,f,p,g,S;const r=e.options,s=(p=(f=(d=e.fetchOptions)==null?void 0:d.meta)==null?void 0:f.fetchMore)==null?void 0:p.direction,i=((g=e.state.data)==null?void 0:g.pages)||[],o=((S=e.state.data)==null?void 0:S.pageParams)||[];let a={pages:[],pageParams:[]},l=0;const u=async()=>{let v=!1;const x=T=>{Object.defineProperty(T,"signal",{enumerable:!0,get:()=>(e.signal.aborted?v=!0:e.signal.addEventListener("abort",()=>{v=!0}),e.signal)})},E=CI(e.options,e.fetchOptions),w=async(T,C,D)=>{if(v)return Promise.reject();if(C==null&&T.pages.length)return Promise.resolve(T);const I=(()=>{const P={client:e.client,queryKey:e.queryKey,pageParam:C,direction:D?"backward":"forward",meta:e.options.meta};return x(P),P})(),b=await E(I),{maxPages:R}=e.options,k=D?ED:_D;return{pages:k(T.pages,b,R),pageParams:k(T.pageParams,C,R)}};if(s&&i.length){const T=s==="backward",C=T?PD:dE,D={pages:i,pageParams:o},L=C(r,D);a=await w(D,L,T)}else{const T=t??i.length;do{const C=l===0?o[0]??r.initialPageParam:dE(r,a);if(l>0&&C==null)break;a=await w(a,C),l++}while(l<T)}return a};e.options.persister?e.fetchFn=()=>{var v,x;return(x=(v=e.options).persister)==null?void 0:x.call(v,u,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=u}}}function dE(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function PD(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var eu,kr,Xt,uo,Or,Ws,oS,ND=(oS=class extends NI{constructor(n){super();Ce(this,Or);Ce(this,eu);Ce(this,kr);Ce(this,Xt);Ce(this,uo);pe(this,eu,n.client),this.mutationId=n.mutationId,pe(this,Xt,n.mutationCache),pe(this,kr,[]),this.state=n.state||kD(),this.setOptions(n.options),this.scheduleGc()}setOptions(n){this.options=n,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(n){$(this,kr).includes(n)||($(this,kr).push(n),this.clearGcTimeout(),$(this,Xt).notify({type:"observerAdded",mutation:this,observer:n}))}removeObserver(n){pe(this,kr,$(this,kr).filter(r=>r!==n)),this.scheduleGc(),$(this,Xt).notify({type:"observerRemoved",mutation:this,observer:n})}optionalRemove(){$(this,kr).length||(this.state.status==="pending"?this.scheduleGc():$(this,Xt).remove(this))}continue(){var n;return((n=$(this,uo))==null?void 0:n.continue())??this.execute(this.state.variables)}async execute(n){var a,l,u,d,f,p,g,S,v,x,E,w,T,C,D,L,I,b,R,k;const r=()=>{jt(this,Or,Ws).call(this,{type:"continue"})},s={client:$(this,eu),meta:this.options.meta,mutationKey:this.options.mutationKey};pe(this,uo,PI({fn:()=>this.options.mutationFn?this.options.mutationFn(n,s):Promise.reject(new Error("No mutationFn found")),onFail:(P,O)=>{jt(this,Or,Ws).call(this,{type:"failed",failureCount:P,error:O})},onPause:()=>{jt(this,Or,Ws).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>$(this,Xt).canRun(this)}));const i=this.state.status==="pending",o=!$(this,uo).canStart();try{if(i)r();else{jt(this,Or,Ws).call(this,{type:"pending",variables:n,isPaused:o}),await((l=(a=$(this,Xt).config).onMutate)==null?void 0:l.call(a,n,this,s));const O=await((d=(u=this.options).onMutate)==null?void 0:d.call(u,n,s));O!==this.state.context&&jt(this,Or,Ws).call(this,{type:"pending",context:O,variables:n,isPaused:o})}const P=await $(this,uo).start();return await((p=(f=$(this,Xt).config).onSuccess)==null?void 0:p.call(f,P,n,this.state.context,this,s)),await((S=(g=this.options).onSuccess)==null?void 0:S.call(g,P,n,this.state.context,s)),await((x=(v=$(this,Xt).config).onSettled)==null?void 0:x.call(v,P,null,this.state.variables,this.state.context,this,s)),await((w=(E=this.options).onSettled)==null?void 0:w.call(E,P,null,n,this.state.context,s)),jt(this,Or,Ws).call(this,{type:"success",data:P}),P}catch(P){try{throw await((C=(T=$(this,Xt).config).onError)==null?void 0:C.call(T,P,n,this.state.context,this,s)),await((L=(D=this.options).onError)==null?void 0:L.call(D,P,n,this.state.context,s)),await((b=(I=$(this,Xt).config).onSettled)==null?void 0:b.call(I,void 0,P,this.state.variables,this.state.context,this,s)),await((k=(R=this.options).onSettled)==null?void 0:k.call(R,void 0,P,n,this.state.context,s)),P}finally{jt(this,Or,Ws).call(this,{type:"error",error:P})}}finally{$(this,Xt).runNext(this)}}},eu=new WeakMap,kr=new WeakMap,Xt=new WeakMap,uo=new WeakMap,Or=new WeakSet,Ws=function(n){const r=s=>{switch(n.type){case"failed":return{...s,failureCount:n.failureCount,failureReason:n.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:n.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:n.isPaused,status:"pending",variables:n.variables,submittedAt:Date.now()};case"success":return{...s,data:n.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:n.error,failureCount:s.failureCount+1,failureReason:n.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Zt.batch(()=>{$(this,kr).forEach(s=>{s.onMutationUpdate(n)}),$(this,Xt).notify({mutation:this,type:"updated",action:n})})},oS);function kD(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var ls,ar,tu,aS,OD=(aS=class extends mf{constructor(e={}){super();Ce(this,ls);Ce(this,ar);Ce(this,tu);this.config=e,pe(this,ls,new Set),pe(this,ar,new Map),pe(this,tu,0)}build(e,n,r){const s=new ND({client:e,mutationCache:this,mutationId:++Mu(this,tu)._,options:e.defaultMutationOptions(n),state:r});return this.add(s),s}add(e){$(this,ls).add(e);const n=ed(e);if(typeof n=="string"){const r=$(this,ar).get(n);r?r.push(e):$(this,ar).set(n,[e])}this.notify({type:"added",mutation:e})}remove(e){if($(this,ls).delete(e)){const n=ed(e);if(typeof n=="string"){const r=$(this,ar).get(n);if(r)if(r.length>1){const s=r.indexOf(e);s!==-1&&r.splice(s,1)}else r[0]===e&&$(this,ar).delete(n)}}this.notify({type:"removed",mutation:e})}canRun(e){const n=ed(e);if(typeof n=="string"){const r=$(this,ar).get(n),s=r==null?void 0:r.find(i=>i.state.status==="pending");return!s||s===e}else return!0}runNext(e){var r;const n=ed(e);if(typeof n=="string"){const s=(r=$(this,ar).get(n))==null?void 0:r.find(i=>i!==e&&i.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Zt.batch(()=>{$(this,ls).forEach(e=>{this.notify({type:"removed",mutation:e})}),$(this,ls).clear(),$(this,ar).clear()})}getAll(){return Array.from($(this,ls))}find(e){const n={exact:!0,...e};return this.getAll().find(r=>oE(n,r))}findAll(e={}){return this.getAll().filter(n=>oE(e,n))}notify(e){Zt.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return Zt.batch(()=>Promise.all(e.map(n=>n.continue().catch(ir))))}},ls=new WeakMap,ar=new WeakMap,tu=new WeakMap,aS);function ed(t){var e;return(e=t.options.scope)==null?void 0:e.id}var Dr,lS,DD=(lS=class extends mf{constructor(e={}){super();Ce(this,Dr);this.config=e,pe(this,Dr,new Map)}build(e,n,r){const s=n.queryKey,i=n.queryHash??Cv(s,n);let o=this.get(i);return o||(o=new AD({client:e,queryKey:s,queryHash:i,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(s)}),this.add(o)),o}add(e){$(this,Dr).has(e.queryHash)||($(this,Dr).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=$(this,Dr).get(e.queryHash);n&&(e.destroy(),n===e&&$(this,Dr).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Zt.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return $(this,Dr).get(e)}getAll(){return[...$(this,Dr).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>iE(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>iE(e,r)):n}notify(e){Zt.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){Zt.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Zt.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Dr=new WeakMap,lS),rt,ri,si,Oa,Da,ii,La,Ma,cS,LD=(cS=class{constructor(t={}){Ce(this,rt);Ce(this,ri);Ce(this,si);Ce(this,Oa);Ce(this,Da);Ce(this,ii);Ce(this,La);Ce(this,Ma);pe(this,rt,t.queryCache||new DD),pe(this,ri,t.mutationCache||new OD),pe(this,si,t.defaultOptions||{}),pe(this,Oa,new Map),pe(this,Da,new Map),pe(this,ii,0)}mount(){Mu(this,ii)._++,$(this,ii)===1&&(pe(this,La,AI.subscribe(async t=>{t&&(await this.resumePausedMutations(),$(this,rt).onFocus())})),pe(this,Ma,gh.subscribe(async t=>{t&&(await this.resumePausedMutations(),$(this,rt).onOnline())})))}unmount(){var t,e;Mu(this,ii)._--,$(this,ii)===0&&((t=$(this,La))==null||t.call(this),pe(this,La,void 0),(e=$(this,Ma))==null||e.call(this),pe(this,Ma,void 0))}isFetching(t){return $(this,rt).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return $(this,ri).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=$(this,rt).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=$(this,rt).build(this,e),r=n.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(Rg(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return $(this,rt).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),s=$(this,rt).get(r.queryHash),i=s==null?void 0:s.state.data,o=fD(e,i);if(o!==void 0)return $(this,rt).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return Zt.batch(()=>$(this,rt).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=$(this,rt).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=$(this,rt);Zt.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=$(this,rt);return Zt.batch(()=>(n.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},r=Zt.batch(()=>$(this,rt).findAll(t).map(s=>s.cancel(n)));return Promise.all(r).then(ir).catch(ir)}invalidateQueries(t,e={}){return Zt.batch(()=>($(this,rt).findAll(t).forEach(n=>{n.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},r=Zt.batch(()=>$(this,rt).findAll(t).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(ir)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(ir)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=$(this,rt).build(this,e);return n.isStaleByTime(Rg(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(ir).catch(ir)}fetchInfiniteQuery(t){return t.behavior=uE(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(ir).catch(ir)}ensureInfiniteQueryData(t){return t.behavior=uE(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return gh.isOnline()?$(this,ri).resumePausedMutations():Promise.resolve()}getQueryCache(){return $(this,rt)}getMutationCache(){return $(this,ri)}getDefaultOptions(){return $(this,si)}setDefaultOptions(t){pe(this,si,t)}setQueryDefaults(t,e){$(this,Oa).set(Mc(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...$(this,Oa).values()],n={};return e.forEach(r=>{jc(t,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(t,e){$(this,Da).set(Mc(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...$(this,Da).values()],n={};return e.forEach(r=>{jc(t,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...$(this,si).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=Cv(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===Av&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...$(this,si).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){$(this,rt).clear(),$(this,ri).clear()}},rt=new WeakMap,ri=new WeakMap,si=new WeakMap,Oa=new WeakMap,Da=new WeakMap,ii=new WeakMap,La=new WeakMap,Ma=new WeakMap,cS),MD=y.createContext(void 0),jD=({client:t,children:e})=>(y.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),h.jsx(MD.Provider,{value:t,children:e}));function ue(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t==null||t(s),n===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function hE(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function kI(...t){return e=>{let n=!1;const r=t.map(s=>{const i=hE(s,e);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():hE(t[s],null)}}}}function ze(...t){return y.useCallback(kI(...t),t)}function VD(t,e){const n=y.createContext(e),r=i=>{const{children:o,...a}=i,l=y.useMemo(()=>a,Object.values(a));return h.jsx(n.Provider,{value:l,children:o})};r.displayName=t+"Provider";function s(i){const o=y.useContext(n);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${i}\` must be used within \`${t}\``)}return[r,s]}function Fi(t,e=[]){let n=[];function r(i,o){const a=y.createContext(o),l=n.length;n=[...n,o];const u=f=>{var E;const{scope:p,children:g,...S}=f,v=((E=p==null?void 0:p[t])==null?void 0:E[l])||a,x=y.useMemo(()=>S,Object.values(S));return h.jsx(v.Provider,{value:x,children:g})};u.displayName=i+"Provider";function d(f,p){var v;const g=((v=p==null?void 0:p[t])==null?void 0:v[l])||a,S=y.useContext(g);if(S)return S;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[u,d]}const s=()=>{const i=n.map(o=>y.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return y.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,FD(s,...e)]}function FD(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:u})=>{const f=l(i)[`__scope${u}`];return{...a,...f}},{});return y.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function Wa(t){const e=$D(t),n=y.forwardRef((r,s)=>{const{children:i,...o}=r,a=y.Children.toArray(i),l=a.find(zD);if(l){const u=l.props.children,d=a.map(f=>f===l?y.Children.count(u)>1?y.Children.only(null):y.isValidElement(u)?u.props.children:null:f);return h.jsx(e,{...o,ref:s,children:y.isValidElement(u)?y.cloneElement(u,void 0,d):null})}return h.jsx(e,{...o,ref:s,children:i})});return n.displayName=`${t}.Slot`,n}var UD=Wa("Slot");function $D(t){const e=y.forwardRef((n,r)=>{const{children:s,...i}=n;if(y.isValidElement(s)){const o=HD(s),a=WD(i,s.props);return s.type!==y.Fragment&&(a.ref=r?kI(r,o):o),y.cloneElement(s,a)}return y.Children.count(s)>1?y.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var OI=Symbol("radix.slottable");function BD(t){const e=({children:n})=>h.jsx(h.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=OI,e}function zD(t){return y.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===OI}function WD(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...a)=>{const l=i(...a);return s(...a),l}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function HD(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var qD=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],_e=qD.reduce((t,e)=>{const n=Wa(`Primitive.${e}`),r=y.forwardRef((s,i)=>{const{asChild:o,...a}=s,l=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),h.jsx(l,{...a,ref:i})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function DI(t,e){t&&Mo.flushSync(()=>t.dispatchEvent(e))}function Kn(t){const e=y.useRef(t);return y.useEffect(()=>{e.current=t}),y.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function GD(t,e=globalThis==null?void 0:globalThis.document){const n=Kn(t);y.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var KD="DismissableLayer",kg="dismissableLayer.update",QD="dismissableLayer.pointerDownOutside",YD="dismissableLayer.focusOutside",fE,LI=y.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),au=y.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:a,...l}=t,u=y.useContext(LI),[d,f]=y.useState(null),p=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,g]=y.useState({}),S=ze(e,I=>f(I)),v=Array.from(u.layers),[x]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),E=v.indexOf(x),w=d?v.indexOf(d):-1,T=u.layersWithOutsidePointerEventsDisabled.size>0,C=w>=E,D=JD(I=>{const b=I.target,R=[...u.branches].some(k=>k.contains(b));!C||R||(s==null||s(I),o==null||o(I),I.defaultPrevented||a==null||a())},p),L=ZD(I=>{const b=I.target;[...u.branches].some(k=>k.contains(b))||(i==null||i(I),o==null||o(I),I.defaultPrevented||a==null||a())},p);return GD(I=>{w===u.layers.size-1&&(r==null||r(I),!I.defaultPrevented&&a&&(I.preventDefault(),a()))},p),y.useEffect(()=>{if(d)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(fE=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),pE(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=fE)}},[d,p,n,u]),y.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),pE())},[d,u]),y.useEffect(()=>{const I=()=>g({});return document.addEventListener(kg,I),()=>document.removeEventListener(kg,I)},[]),h.jsx(_e.div,{...l,ref:S,style:{pointerEvents:T?C?"auto":"none":void 0,...t.style},onFocusCapture:ue(t.onFocusCapture,L.onFocusCapture),onBlurCapture:ue(t.onBlurCapture,L.onBlurCapture),onPointerDownCapture:ue(t.onPointerDownCapture,D.onPointerDownCapture)})});au.displayName=KD;var XD="DismissableLayerBranch",MI=y.forwardRef((t,e)=>{const n=y.useContext(LI),r=y.useRef(null),s=ze(e,r);return y.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),h.jsx(_e.div,{...t,ref:s})});MI.displayName=XD;function JD(t,e=globalThis==null?void 0:globalThis.document){const n=Kn(t),r=y.useRef(!1),s=y.useRef(()=>{});return y.useEffect(()=>{const i=a=>{if(a.target&&!r.current){let l=function(){jI(QD,n,u,{discrete:!0})};const u={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=l,e.addEventListener("click",s.current,{once:!0})):l()}else e.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function ZD(t,e=globalThis==null?void 0:globalThis.document){const n=Kn(t),r=y.useRef(!1);return y.useEffect(()=>{const s=i=>{i.target&&!r.current&&jI(YD,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function pE(){const t=new CustomEvent(kg);document.dispatchEvent(t)}function jI(t,e,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?DI(s,i):s.dispatchEvent(i)}var eL=au,tL=MI,Lt=globalThis!=null&&globalThis.document?y.useLayoutEffect:()=>{},nL=My[" useId ".trim().toString()]||(()=>{}),rL=0;function vi(t){const[e,n]=y.useState(nL());return Lt(()=>{n(r=>r??String(rL++))},[t]),e?`radix-${e}`:""}const sL=["top","right","bottom","left"],Ii=Math.min,xn=Math.max,yh=Math.round,td=Math.floor,zr=t=>({x:t,y:t}),iL={left:"right",right:"left",bottom:"top",top:"bottom"},oL={start:"end",end:"start"};function Og(t,e,n){return xn(t,Ii(e,n))}function ws(t,e){return typeof t=="function"?t(e):t}function _s(t){return t.split("-")[0]}function sl(t){return t.split("-")[1]}function Rv(t){return t==="x"?"y":"x"}function Pv(t){return t==="y"?"height":"width"}const aL=new Set(["top","bottom"]);function Fr(t){return aL.has(_s(t))?"y":"x"}function Nv(t){return Rv(Fr(t))}function lL(t,e,n){n===void 0&&(n=!1);const r=sl(t),s=Nv(t),i=Pv(s);let o=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(o=vh(o)),[o,vh(o)]}function cL(t){const e=vh(t);return[Dg(t),e,Dg(e)]}function Dg(t){return t.replace(/start|end/g,e=>oL[e])}const mE=["left","right"],gE=["right","left"],uL=["top","bottom"],dL=["bottom","top"];function hL(t,e,n){switch(t){case"top":case"bottom":return n?e?gE:mE:e?mE:gE;case"left":case"right":return e?uL:dL;default:return[]}}function fL(t,e,n,r){const s=sl(t);let i=hL(_s(t),n==="start",r);return s&&(i=i.map(o=>o+"-"+s),e&&(i=i.concat(i.map(Dg)))),i}function vh(t){return t.replace(/left|right|bottom|top/g,e=>iL[e])}function pL(t){return{top:0,right:0,bottom:0,left:0,...t}}function VI(t){return typeof t!="number"?pL(t):{top:t,right:t,bottom:t,left:t}}function wh(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function yE(t,e,n){let{reference:r,floating:s}=t;const i=Fr(e),o=Nv(e),a=Pv(o),l=_s(e),u=i==="y",d=r.x+r.width/2-s.width/2,f=r.y+r.height/2-s.height/2,p=r[a]/2-s[a]/2;let g;switch(l){case"top":g={x:d,y:r.y-s.height};break;case"bottom":g={x:d,y:r.y+r.height};break;case"right":g={x:r.x+r.width,y:f};break;case"left":g={x:r.x-s.width,y:f};break;default:g={x:r.x,y:r.y}}switch(sl(e)){case"start":g[o]-=p*(n&&u?-1:1);break;case"end":g[o]+=p*(n&&u?-1:1);break}return g}const mL=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:o}=n,a=i.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let u=await o.getElementRects({reference:t,floating:e,strategy:s}),{x:d,y:f}=yE(u,r,l),p=r,g={},S=0;for(let v=0;v<a.length;v++){const{name:x,fn:E}=a[v],{x:w,y:T,data:C,reset:D}=await E({x:d,y:f,initialPlacement:r,placement:p,strategy:s,middlewareData:g,rects:u,platform:o,elements:{reference:t,floating:e}});d=w??d,f=T??f,g={...g,[x]:{...g[x],...C}},D&&S<=50&&(S++,typeof D=="object"&&(D.placement&&(p=D.placement),D.rects&&(u=D.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:s}):D.rects),{x:d,y:f}=yE(u,p,l)),v=-1)}return{x:d,y:f,placement:p,strategy:s,middlewareData:g}};async function Vc(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:i,rects:o,elements:a,strategy:l}=t,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:p=!1,padding:g=0}=ws(e,t),S=VI(g),x=a[p?f==="floating"?"reference":"floating":f],E=wh(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(x)))==null||n?x:x.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(a.floating)),boundary:u,rootBoundary:d,strategy:l})),w=f==="floating"?{x:r,y:s,width:o.floating.width,height:o.floating.height}:o.reference,T=await(i.getOffsetParent==null?void 0:i.getOffsetParent(a.floating)),C=await(i.isElement==null?void 0:i.isElement(T))?await(i.getScale==null?void 0:i.getScale(T))||{x:1,y:1}:{x:1,y:1},D=wh(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:w,offsetParent:T,strategy:l}):w);return{top:(E.top-D.top+S.top)/C.y,bottom:(D.bottom-E.bottom+S.bottom)/C.y,left:(E.left-D.left+S.left)/C.x,right:(D.right-E.right+S.right)/C.x}}const gL=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:s,rects:i,platform:o,elements:a,middlewareData:l}=e,{element:u,padding:d=0}=ws(t,e)||{};if(u==null)return{};const f=VI(d),p={x:n,y:r},g=Nv(s),S=Pv(g),v=await o.getDimensions(u),x=g==="y",E=x?"top":"left",w=x?"bottom":"right",T=x?"clientHeight":"clientWidth",C=i.reference[S]+i.reference[g]-p[g]-i.floating[S],D=p[g]-i.reference[g],L=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let I=L?L[T]:0;(!I||!await(o.isElement==null?void 0:o.isElement(L)))&&(I=a.floating[T]||i.floating[S]);const b=C/2-D/2,R=I/2-v[S]/2-1,k=Ii(f[E],R),P=Ii(f[w],R),O=k,N=I-v[S]-P,V=I/2-v[S]/2+b,Q=Og(O,V,N),q=!l.arrow&&sl(s)!=null&&V!==Q&&i.reference[S]/2-(V<O?k:P)-v[S]/2<0,B=q?V<O?V-O:V-N:0;return{[g]:p[g]+B,data:{[g]:Q,centerOffset:V-Q-B,...q&&{alignmentOffset:B}},reset:q}}}),yL=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:s,middlewareData:i,rects:o,initialPlacement:a,platform:l,elements:u}=e,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:p,fallbackStrategy:g="bestFit",fallbackAxisSideDirection:S="none",flipAlignment:v=!0,...x}=ws(t,e);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const E=_s(s),w=Fr(a),T=_s(a)===a,C=await(l.isRTL==null?void 0:l.isRTL(u.floating)),D=p||(T||!v?[vh(a)]:cL(a)),L=S!=="none";!p&&L&&D.push(...fL(a,v,S,C));const I=[a,...D],b=await Vc(e,x),R=[];let k=((r=i.flip)==null?void 0:r.overflows)||[];if(d&&R.push(b[E]),f){const V=lL(s,o,C);R.push(b[V[0]],b[V[1]])}if(k=[...k,{placement:s,overflows:R}],!R.every(V=>V<=0)){var P,O;const V=(((P=i.flip)==null?void 0:P.index)||0)+1,Q=I[V];if(Q&&(!(f==="alignment"?w!==Fr(Q):!1)||k.every(M=>Fr(M.placement)===w?M.overflows[0]>0:!0)))return{data:{index:V,overflows:k},reset:{placement:Q}};let q=(O=k.filter(B=>B.overflows[0]<=0).sort((B,M)=>B.overflows[1]-M.overflows[1])[0])==null?void 0:O.placement;if(!q)switch(g){case"bestFit":{var N;const B=(N=k.filter(M=>{if(L){const F=Fr(M.placement);return F===w||F==="y"}return!0}).map(M=>[M.placement,M.overflows.filter(F=>F>0).reduce((F,H)=>F+H,0)]).sort((M,F)=>M[1]-F[1])[0])==null?void 0:N[0];B&&(q=B);break}case"initialPlacement":q=a;break}if(s!==q)return{reset:{placement:q}}}return{}}}};function vE(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function wE(t){return sL.some(e=>t[e]>=0)}const vL=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...s}=ws(t,e);switch(r){case"referenceHidden":{const i=await Vc(e,{...s,elementContext:"reference"}),o=vE(i,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:wE(o)}}}case"escaped":{const i=await Vc(e,{...s,altBoundary:!0}),o=vE(i,n.floating);return{data:{escapedOffsets:o,escaped:wE(o)}}}default:return{}}}}},FI=new Set(["left","top"]);async function wL(t,e){const{placement:n,platform:r,elements:s}=t,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),o=_s(n),a=sl(n),l=Fr(n)==="y",u=FI.has(o)?-1:1,d=i&&l?-1:1,f=ws(e,t);let{mainAxis:p,crossAxis:g,alignmentAxis:S}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return a&&typeof S=="number"&&(g=a==="end"?S*-1:S),l?{x:g*d,y:p*u}:{x:p*u,y:g*d}}const _L=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:s,y:i,placement:o,middlewareData:a}=e,l=await wL(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:s+l.x,y:i+l.y,data:{...l,placement:o}}}}},EL=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:s}=e,{mainAxis:i=!0,crossAxis:o=!1,limiter:a={fn:x=>{let{x:E,y:w}=x;return{x:E,y:w}}},...l}=ws(t,e),u={x:n,y:r},d=await Vc(e,l),f=Fr(_s(s)),p=Rv(f);let g=u[p],S=u[f];if(i){const x=p==="y"?"top":"left",E=p==="y"?"bottom":"right",w=g+d[x],T=g-d[E];g=Og(w,g,T)}if(o){const x=f==="y"?"top":"left",E=f==="y"?"bottom":"right",w=S+d[x],T=S-d[E];S=Og(w,S,T)}const v=a.fn({...e,[p]:g,[f]:S});return{...v,data:{x:v.x-n,y:v.y-r,enabled:{[p]:i,[f]:o}}}}}},xL=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:s,rects:i,middlewareData:o}=e,{offset:a=0,mainAxis:l=!0,crossAxis:u=!0}=ws(t,e),d={x:n,y:r},f=Fr(s),p=Rv(f);let g=d[p],S=d[f];const v=ws(a,e),x=typeof v=="number"?{mainAxis:v,crossAxis:0}:{mainAxis:0,crossAxis:0,...v};if(l){const T=p==="y"?"height":"width",C=i.reference[p]-i.floating[T]+x.mainAxis,D=i.reference[p]+i.reference[T]-x.mainAxis;g<C?g=C:g>D&&(g=D)}if(u){var E,w;const T=p==="y"?"width":"height",C=FI.has(_s(s)),D=i.reference[f]-i.floating[T]+(C&&((E=o.offset)==null?void 0:E[f])||0)+(C?0:x.crossAxis),L=i.reference[f]+i.reference[T]+(C?0:((w=o.offset)==null?void 0:w[f])||0)-(C?x.crossAxis:0);S<D?S=D:S>L&&(S=L)}return{[p]:g,[f]:S}}}},TL=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:s,rects:i,platform:o,elements:a}=e,{apply:l=()=>{},...u}=ws(t,e),d=await Vc(e,u),f=_s(s),p=sl(s),g=Fr(s)==="y",{width:S,height:v}=i.floating;let x,E;f==="top"||f==="bottom"?(x=f,E=p===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(E=f,x=p==="end"?"top":"bottom");const w=v-d.top-d.bottom,T=S-d.left-d.right,C=Ii(v-d[x],w),D=Ii(S-d[E],T),L=!e.middlewareData.shift;let I=C,b=D;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(b=T),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(I=w),L&&!p){const k=xn(d.left,0),P=xn(d.right,0),O=xn(d.top,0),N=xn(d.bottom,0);g?b=S-2*(k!==0||P!==0?k+P:xn(d.left,d.right)):I=v-2*(O!==0||N!==0?O+N:xn(d.top,d.bottom))}await l({...e,availableWidth:b,availableHeight:I});const R=await o.getDimensions(a.floating);return S!==R.width||v!==R.height?{reset:{rects:!0}}:{}}}};function yf(){return typeof window<"u"}function il(t){return UI(t)?(t.nodeName||"").toLowerCase():"#document"}function Cn(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Jr(t){var e;return(e=(UI(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function UI(t){return yf()?t instanceof Node||t instanceof Cn(t).Node:!1}function vr(t){return yf()?t instanceof Element||t instanceof Cn(t).Element:!1}function Yr(t){return yf()?t instanceof HTMLElement||t instanceof Cn(t).HTMLElement:!1}function _E(t){return!yf()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Cn(t).ShadowRoot}const SL=new Set(["inline","contents"]);function lu(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=wr(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!SL.has(s)}const bL=new Set(["table","td","th"]);function IL(t){return bL.has(il(t))}const CL=[":popover-open",":modal"];function vf(t){return CL.some(e=>{try{return t.matches(e)}catch{return!1}})}const AL=["transform","translate","scale","rotate","perspective"],RL=["transform","translate","scale","rotate","perspective","filter"],PL=["paint","layout","strict","content"];function kv(t){const e=Ov(),n=vr(t)?wr(t):t;return AL.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||RL.some(r=>(n.willChange||"").includes(r))||PL.some(r=>(n.contain||"").includes(r))}function NL(t){let e=Ci(t);for(;Yr(e)&&!Ha(e);){if(kv(e))return e;if(vf(e))return null;e=Ci(e)}return null}function Ov(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const kL=new Set(["html","body","#document"]);function Ha(t){return kL.has(il(t))}function wr(t){return Cn(t).getComputedStyle(t)}function wf(t){return vr(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Ci(t){if(il(t)==="html")return t;const e=t.assignedSlot||t.parentNode||_E(t)&&t.host||Jr(t);return _E(e)?e.host:e}function $I(t){const e=Ci(t);return Ha(e)?t.ownerDocument?t.ownerDocument.body:t.body:Yr(e)&&lu(e)?e:$I(e)}function Fc(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=$I(t),i=s===((r=t.ownerDocument)==null?void 0:r.body),o=Cn(s);if(i){const a=Lg(o);return e.concat(o,o.visualViewport||[],lu(s)?s:[],a&&n?Fc(a):[])}return e.concat(s,Fc(s,[],n))}function Lg(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function BI(t){const e=wr(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=Yr(t),i=s?t.offsetWidth:n,o=s?t.offsetHeight:r,a=yh(n)!==i||yh(r)!==o;return a&&(n=i,r=o),{width:n,height:r,$:a}}function Dv(t){return vr(t)?t:t.contextElement}function xa(t){const e=Dv(t);if(!Yr(e))return zr(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:i}=BI(e);let o=(i?yh(n.width):n.width)/r,a=(i?yh(n.height):n.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const OL=zr(0);function zI(t){const e=Cn(t);return!Ov()||!e.visualViewport?OL:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function DL(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Cn(t)?!1:e}function To(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),i=Dv(t);let o=zr(1);e&&(r?vr(r)&&(o=xa(r)):o=xa(t));const a=DL(i,n,r)?zI(i):zr(0);let l=(s.left+a.x)/o.x,u=(s.top+a.y)/o.y,d=s.width/o.x,f=s.height/o.y;if(i){const p=Cn(i),g=r&&vr(r)?Cn(r):r;let S=p,v=Lg(S);for(;v&&r&&g!==S;){const x=xa(v),E=v.getBoundingClientRect(),w=wr(v),T=E.left+(v.clientLeft+parseFloat(w.paddingLeft))*x.x,C=E.top+(v.clientTop+parseFloat(w.paddingTop))*x.y;l*=x.x,u*=x.y,d*=x.x,f*=x.y,l+=T,u+=C,S=Cn(v),v=Lg(S)}}return wh({width:d,height:f,x:l,y:u})}function _f(t,e){const n=wf(t).scrollLeft;return e?e.left+n:To(Jr(t)).left+n}function WI(t,e){const n=t.getBoundingClientRect(),r=n.left+e.scrollLeft-_f(t,n),s=n.top+e.scrollTop;return{x:r,y:s}}function LL(t){let{elements:e,rect:n,offsetParent:r,strategy:s}=t;const i=s==="fixed",o=Jr(r),a=e?vf(e.floating):!1;if(r===o||a&&i)return n;let l={scrollLeft:0,scrollTop:0},u=zr(1);const d=zr(0),f=Yr(r);if((f||!f&&!i)&&((il(r)!=="body"||lu(o))&&(l=wf(r)),Yr(r))){const g=To(r);u=xa(r),d.x=g.x+r.clientLeft,d.y=g.y+r.clientTop}const p=o&&!f&&!i?WI(o,l):zr(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-l.scrollLeft*u.x+d.x+p.x,y:n.y*u.y-l.scrollTop*u.y+d.y+p.y}}function ML(t){return Array.from(t.getClientRects())}function jL(t){const e=Jr(t),n=wf(t),r=t.ownerDocument.body,s=xn(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),i=xn(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+_f(t);const a=-n.scrollTop;return wr(r).direction==="rtl"&&(o+=xn(e.clientWidth,r.clientWidth)-s),{width:s,height:i,x:o,y:a}}const EE=25;function VL(t,e){const n=Cn(t),r=Jr(t),s=n.visualViewport;let i=r.clientWidth,o=r.clientHeight,a=0,l=0;if(s){i=s.width,o=s.height;const d=Ov();(!d||d&&e==="fixed")&&(a=s.offsetLeft,l=s.offsetTop)}const u=_f(r);if(u<=0){const d=r.ownerDocument,f=d.body,p=getComputedStyle(f),g=d.compatMode==="CSS1Compat"&&parseFloat(p.marginLeft)+parseFloat(p.marginRight)||0,S=Math.abs(r.clientWidth-f.clientWidth-g);S<=EE&&(i-=S)}else u<=EE&&(i+=u);return{width:i,height:o,x:a,y:l}}const FL=new Set(["absolute","fixed"]);function UL(t,e){const n=To(t,!0,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft,i=Yr(t)?xa(t):zr(1),o=t.clientWidth*i.x,a=t.clientHeight*i.y,l=s*i.x,u=r*i.y;return{width:o,height:a,x:l,y:u}}function xE(t,e,n){let r;if(e==="viewport")r=VL(t,n);else if(e==="document")r=jL(Jr(t));else if(vr(e))r=UL(e,n);else{const s=zI(t);r={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return wh(r)}function HI(t,e){const n=Ci(t);return n===e||!vr(n)||Ha(n)?!1:wr(n).position==="fixed"||HI(n,e)}function $L(t,e){const n=e.get(t);if(n)return n;let r=Fc(t,[],!1).filter(a=>vr(a)&&il(a)!=="body"),s=null;const i=wr(t).position==="fixed";let o=i?Ci(t):t;for(;vr(o)&&!Ha(o);){const a=wr(o),l=kv(o);!l&&a.position==="fixed"&&(s=null),(i?!l&&!s:!l&&a.position==="static"&&!!s&&FL.has(s.position)||lu(o)&&!l&&HI(t,o))?r=r.filter(d=>d!==o):s=a,o=Ci(o)}return e.set(t,r),r}function BL(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const o=[...n==="clippingAncestors"?vf(e)?[]:$L(e,this._c):[].concat(n),r],a=o[0],l=o.reduce((u,d)=>{const f=xE(e,d,s);return u.top=xn(f.top,u.top),u.right=Ii(f.right,u.right),u.bottom=Ii(f.bottom,u.bottom),u.left=xn(f.left,u.left),u},xE(e,a,s));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function zL(t){const{width:e,height:n}=BI(t);return{width:e,height:n}}function WL(t,e,n){const r=Yr(e),s=Jr(e),i=n==="fixed",o=To(t,!0,i,e);let a={scrollLeft:0,scrollTop:0};const l=zr(0);function u(){l.x=_f(s)}if(r||!r&&!i)if((il(e)!=="body"||lu(s))&&(a=wf(e)),r){const g=To(e,!0,i,e);l.x=g.x+e.clientLeft,l.y=g.y+e.clientTop}else s&&u();i&&!r&&s&&u();const d=s&&!r&&!i?WI(s,a):zr(0),f=o.left+a.scrollLeft-l.x-d.x,p=o.top+a.scrollTop-l.y-d.y;return{x:f,y:p,width:o.width,height:o.height}}function nm(t){return wr(t).position==="static"}function TE(t,e){if(!Yr(t)||wr(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Jr(t)===n&&(n=n.ownerDocument.body),n}function qI(t,e){const n=Cn(t);if(vf(t))return n;if(!Yr(t)){let s=Ci(t);for(;s&&!Ha(s);){if(vr(s)&&!nm(s))return s;s=Ci(s)}return n}let r=TE(t,e);for(;r&&IL(r)&&nm(r);)r=TE(r,e);return r&&Ha(r)&&nm(r)&&!kv(r)?n:r||NL(t)||n}const HL=async function(t){const e=this.getOffsetParent||qI,n=this.getDimensions,r=await n(t.floating);return{reference:WL(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function qL(t){return wr(t).direction==="rtl"}const GL={convertOffsetParentRelativeRectToViewportRelativeRect:LL,getDocumentElement:Jr,getClippingRect:BL,getOffsetParent:qI,getElementRects:HL,getClientRects:ML,getDimensions:zL,getScale:xa,isElement:vr,isRTL:qL};function GI(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function KL(t,e){let n=null,r;const s=Jr(t);function i(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),i();const u=t.getBoundingClientRect(),{left:d,top:f,width:p,height:g}=u;if(a||e(),!p||!g)return;const S=td(f),v=td(s.clientWidth-(d+p)),x=td(s.clientHeight-(f+g)),E=td(d),T={rootMargin:-S+"px "+-v+"px "+-x+"px "+-E+"px",threshold:xn(0,Ii(1,l))||1};let C=!0;function D(L){const I=L[0].intersectionRatio;if(I!==l){if(!C)return o();I?o(!1,I):r=setTimeout(()=>{o(!1,1e-7)},1e3)}I===1&&!GI(u,t.getBoundingClientRect())&&o(),C=!1}try{n=new IntersectionObserver(D,{...T,root:s.ownerDocument})}catch{n=new IntersectionObserver(D,T)}n.observe(t)}return o(!0),i}function QL(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,u=Dv(t),d=s||i?[...u?Fc(u):[],...Fc(e)]:[];d.forEach(E=>{s&&E.addEventListener("scroll",n,{passive:!0}),i&&E.addEventListener("resize",n)});const f=u&&a?KL(u,n):null;let p=-1,g=null;o&&(g=new ResizeObserver(E=>{let[w]=E;w&&w.target===u&&g&&(g.unobserve(e),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var T;(T=g)==null||T.observe(e)})),n()}),u&&!l&&g.observe(u),g.observe(e));let S,v=l?To(t):null;l&&x();function x(){const E=To(t);v&&!GI(v,E)&&n(),v=E,S=requestAnimationFrame(x)}return n(),()=>{var E;d.forEach(w=>{s&&w.removeEventListener("scroll",n),i&&w.removeEventListener("resize",n)}),f==null||f(),(E=g)==null||E.disconnect(),g=null,l&&cancelAnimationFrame(S)}}const YL=_L,XL=EL,JL=yL,ZL=TL,eM=vL,SE=gL,tM=xL,nM=(t,e,n)=>{const r=new Map,s={platform:GL,...n},i={...s.platform,_c:r};return mL(t,e,{...s,platform:i})};var rM=typeof document<"u",sM=function(){},Pd=rM?y.useLayoutEffect:sM;function _h(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!_h(t[r],e[r]))return!1;return!0}if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(!(i==="_owner"&&t.$$typeof)&&!_h(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function KI(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function bE(t,e){const n=KI(t);return Math.round(e*n)/n}function rm(t){const e=y.useRef(t);return Pd(()=>{e.current=t}),e}function iM(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:o}={},transform:a=!0,whileElementsMounted:l,open:u}=t,[d,f]=y.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[p,g]=y.useState(r);_h(p,r)||g(r);const[S,v]=y.useState(null),[x,E]=y.useState(null),w=y.useCallback(M=>{M!==L.current&&(L.current=M,v(M))},[]),T=y.useCallback(M=>{M!==I.current&&(I.current=M,E(M))},[]),C=i||S,D=o||x,L=y.useRef(null),I=y.useRef(null),b=y.useRef(d),R=l!=null,k=rm(l),P=rm(s),O=rm(u),N=y.useCallback(()=>{if(!L.current||!I.current)return;const M={placement:e,strategy:n,middleware:p};P.current&&(M.platform=P.current),nM(L.current,I.current,M).then(F=>{const H={...F,isPositioned:O.current!==!1};V.current&&!_h(b.current,H)&&(b.current=H,Mo.flushSync(()=>{f(H)}))})},[p,e,n,P,O]);Pd(()=>{u===!1&&b.current.isPositioned&&(b.current.isPositioned=!1,f(M=>({...M,isPositioned:!1})))},[u]);const V=y.useRef(!1);Pd(()=>(V.current=!0,()=>{V.current=!1}),[]),Pd(()=>{if(C&&(L.current=C),D&&(I.current=D),C&&D){if(k.current)return k.current(C,D,N);N()}},[C,D,N,k,R]);const Q=y.useMemo(()=>({reference:L,floating:I,setReference:w,setFloating:T}),[w,T]),q=y.useMemo(()=>({reference:C,floating:D}),[C,D]),B=y.useMemo(()=>{const M={position:n,left:0,top:0};if(!q.floating)return M;const F=bE(q.floating,d.x),H=bE(q.floating,d.y);return a?{...M,transform:"translate("+F+"px, "+H+"px)",...KI(q.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:F,top:H}},[n,a,q.floating,d.x,d.y]);return y.useMemo(()=>({...d,update:N,refs:Q,elements:q,floatingStyles:B}),[d,N,Q,q,B])}const oM=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:s}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?SE({element:r.current,padding:s}).fn(n):{}:r?SE({element:r,padding:s}).fn(n):{}}}},aM=(t,e)=>({...YL(t),options:[t,e]}),lM=(t,e)=>({...XL(t),options:[t,e]}),cM=(t,e)=>({...tM(t),options:[t,e]}),uM=(t,e)=>({...JL(t),options:[t,e]}),dM=(t,e)=>({...ZL(t),options:[t,e]}),hM=(t,e)=>({...eM(t),options:[t,e]}),fM=(t,e)=>({...oM(t),options:[t,e]});var pM="Arrow",QI=y.forwardRef((t,e)=>{const{children:n,width:r=10,height:s=5,...i}=t;return h.jsx(_e.svg,{...i,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:h.jsx("polygon",{points:"0,0 30,0 15,10"})})});QI.displayName=pM;var mM=QI;function gM(t){const[e,n]=y.useState(void 0);return Lt(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,a;if("borderBoxSize"in i){const l=i.borderBoxSize,u=Array.isArray(l)?l[0]:l;o=u.inlineSize,a=u.blockSize}else o=t.offsetWidth,a=t.offsetHeight;n({width:o,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var Lv="Popper",[YI,Ef]=Fi(Lv),[yM,XI]=YI(Lv),JI=t=>{const{__scopePopper:e,children:n}=t,[r,s]=y.useState(null);return h.jsx(yM,{scope:e,anchor:r,onAnchorChange:s,children:n})};JI.displayName=Lv;var ZI="PopperAnchor",eC=y.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...s}=t,i=XI(ZI,n),o=y.useRef(null),a=ze(e,o),l=y.useRef(null);return y.useEffect(()=>{const u=l.current;l.current=(r==null?void 0:r.current)||o.current,u!==l.current&&i.onAnchorChange(l.current)}),r?null:h.jsx(_e.div,{...s,ref:a})});eC.displayName=ZI;var Mv="PopperContent",[vM,wM]=YI(Mv),tC=y.forwardRef((t,e)=>{var J,Ie,Y,me,ae,le;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:i="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:p=!1,updatePositionStrategy:g="optimized",onPlaced:S,...v}=t,x=XI(Mv,n),[E,w]=y.useState(null),T=ze(e,je=>w(je)),[C,D]=y.useState(null),L=gM(C),I=(L==null?void 0:L.width)??0,b=(L==null?void 0:L.height)??0,R=r+(i!=="center"?"-"+i:""),k=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},P=Array.isArray(u)?u:[u],O=P.length>0,N={padding:k,boundary:P.filter(EM),altBoundary:O},{refs:V,floatingStyles:Q,placement:q,isPositioned:B,middlewareData:M}=iM({strategy:"fixed",placement:R,whileElementsMounted:(...je)=>QL(...je,{animationFrame:g==="always"}),elements:{reference:x.anchor},middleware:[aM({mainAxis:s+b,alignmentAxis:o}),l&&lM({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?cM():void 0,...N}),l&&uM({...N}),dM({...N,apply:({elements:je,rects:Rt,availableWidth:Jn,availableHeight:rn})=>{const{width:yn,height:vn}=Rt.reference,Ve=je.floating.style;Ve.setProperty("--radix-popper-available-width",`${Jn}px`),Ve.setProperty("--radix-popper-available-height",`${rn}px`),Ve.setProperty("--radix-popper-anchor-width",`${yn}px`),Ve.setProperty("--radix-popper-anchor-height",`${vn}px`)}}),C&&fM({element:C,padding:a}),xM({arrowWidth:I,arrowHeight:b}),p&&hM({strategy:"referenceHidden",...N})]}),[F,H]=sC(q),re=Kn(S);Lt(()=>{B&&(re==null||re())},[B,re]);const Z=(J=M.arrow)==null?void 0:J.x,ce=(Ie=M.arrow)==null?void 0:Ie.y,oe=((Y=M.arrow)==null?void 0:Y.centerOffset)!==0,[Ne,Me]=y.useState();return Lt(()=>{E&&Me(window.getComputedStyle(E).zIndex)},[E]),h.jsx("div",{ref:V.setFloating,"data-radix-popper-content-wrapper":"",style:{...Q,transform:B?Q.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Ne,"--radix-popper-transform-origin":[(me=M.transformOrigin)==null?void 0:me.x,(ae=M.transformOrigin)==null?void 0:ae.y].join(" "),...((le=M.hide)==null?void 0:le.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:h.jsx(vM,{scope:n,placedSide:F,onArrowChange:D,arrowX:Z,arrowY:ce,shouldHideArrow:oe,children:h.jsx(_e.div,{"data-side":F,"data-align":H,...v,ref:T,style:{...v.style,animation:B?void 0:"none"}})})})});tC.displayName=Mv;var nC="PopperArrow",_M={top:"bottom",right:"left",bottom:"top",left:"right"},rC=y.forwardRef(function(e,n){const{__scopePopper:r,...s}=e,i=wM(nC,r),o=_M[i.placedSide];return h.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:h.jsx(mM,{...s,ref:n,style:{...s.style,display:"block"}})})});rC.displayName=nC;function EM(t){return t!==null}var xM=t=>({name:"transformOrigin",options:t,fn(e){var x,E,w;const{placement:n,rects:r,middlewareData:s}=e,o=((x=s.arrow)==null?void 0:x.centerOffset)!==0,a=o?0:t.arrowWidth,l=o?0:t.arrowHeight,[u,d]=sC(n),f={start:"0%",center:"50%",end:"100%"}[d],p=(((E=s.arrow)==null?void 0:E.x)??0)+a/2,g=(((w=s.arrow)==null?void 0:w.y)??0)+l/2;let S="",v="";return u==="bottom"?(S=o?f:`${p}px`,v=`${-l}px`):u==="top"?(S=o?f:`${p}px`,v=`${r.floating.height+l}px`):u==="right"?(S=`${-l}px`,v=o?f:`${g}px`):u==="left"&&(S=`${r.floating.width+l}px`,v=o?f:`${g}px`),{data:{x:S,y:v}}}});function sC(t){const[e,n="center"]=t.split("-");return[e,n]}var TM=JI,iC=eC,oC=tC,aC=rC,SM="Portal",xf=y.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[s,i]=y.useState(!1);Lt(()=>i(!0),[]);const o=n||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?TI.createPortal(h.jsx(_e.div,{...r,ref:e}),o):null});xf.displayName=SM;function bM(t,e){return y.useReducer((n,r)=>e[n][r]??n,t)}var jo=t=>{const{present:e,children:n}=t,r=IM(e),s=typeof n=="function"?n({present:r.isPresent}):y.Children.only(n),i=ze(r.ref,CM(s));return typeof n=="function"||r.isPresent?y.cloneElement(s,{ref:i}):null};jo.displayName="Presence";function IM(t){const[e,n]=y.useState(),r=y.useRef(null),s=y.useRef(t),i=y.useRef("none"),o=t?"mounted":"unmounted",[a,l]=bM(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return y.useEffect(()=>{const u=nd(r.current);i.current=a==="mounted"?u:"none"},[a]),Lt(()=>{const u=r.current,d=s.current;if(d!==t){const p=i.current,g=nd(u);t?l("MOUNT"):g==="none"||(u==null?void 0:u.display)==="none"?l("UNMOUNT"):l(d&&p!==g?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,l]),Lt(()=>{if(e){let u;const d=e.ownerDocument.defaultView??window,f=g=>{const v=nd(r.current).includes(CSS.escape(g.animationName));if(g.target===e&&v&&(l("ANIMATION_END"),!s.current)){const x=e.style.animationFillMode;e.style.animationFillMode="forwards",u=d.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=x)})}},p=g=>{g.target===e&&(i.current=nd(r.current))};return e.addEventListener("animationstart",p),e.addEventListener("animationcancel",f),e.addEventListener("animationend",f),()=>{d.clearTimeout(u),e.removeEventListener("animationstart",p),e.removeEventListener("animationcancel",f),e.removeEventListener("animationend",f)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:y.useCallback(u=>{r.current=u?getComputedStyle(u):null,n(u)},[])}}function nd(t){return(t==null?void 0:t.animationName)||"none"}function CM(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var AM=My[" useInsertionEffect ".trim().toString()]||Lt;function qa({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[s,i,o]=RM({defaultProp:e,onChange:n}),a=t!==void 0,l=a?t:s;{const d=y.useRef(t!==void 0);y.useEffect(()=>{const f=d.current;f!==a&&console.warn(`${r} is changing from ${f?"controlled":"uncontrolled"} to ${a?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=a},[a,r])}const u=y.useCallback(d=>{var f;if(a){const p=PM(d)?d(t):d;p!==t&&((f=o.current)==null||f.call(o,p))}else i(d)},[a,t,i,o]);return[l,u]}function RM({defaultProp:t,onChange:e}){const[n,r]=y.useState(t),s=y.useRef(n),i=y.useRef(e);return AM(()=>{i.current=e},[e]),y.useEffect(()=>{var o;s.current!==n&&((o=i.current)==null||o.call(i,n),s.current=n)},[n,s]),[n,r,i]}function PM(t){return typeof t=="function"}var lC=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),NM="VisuallyHidden",Tf=y.forwardRef((t,e)=>h.jsx(_e.span,{...t,ref:e,style:{...lC,...t.style}}));Tf.displayName=NM;var kM=Tf,[Sf]=Fi("Tooltip",[Ef]),jv=Ef(),cC="TooltipProvider",OM=700,IE="tooltip.open",[DM,uC]=Sf(cC),dC=t=>{const{__scopeTooltip:e,delayDuration:n=OM,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:i}=t,o=y.useRef(!0),a=y.useRef(!1),l=y.useRef(0);return y.useEffect(()=>{const u=l.current;return()=>window.clearTimeout(u)},[]),h.jsx(DM,{scope:e,isOpenDelayedRef:o,delayDuration:n,onOpen:y.useCallback(()=>{window.clearTimeout(l.current),o.current=!1},[]),onClose:y.useCallback(()=>{window.clearTimeout(l.current),l.current=window.setTimeout(()=>o.current=!0,r)},[r]),isPointerInTransitRef:a,onPointerInTransitChange:y.useCallback(u=>{a.current=u},[]),disableHoverableContent:s,children:i})};dC.displayName=cC;var hC="Tooltip",[sq,bf]=Sf(hC),Mg="TooltipTrigger",LM=y.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=bf(Mg,n),i=uC(Mg,n),o=jv(n),a=y.useRef(null),l=ze(e,a,s.onTriggerChange),u=y.useRef(!1),d=y.useRef(!1),f=y.useCallback(()=>u.current=!1,[]);return y.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),h.jsx(iC,{asChild:!0,...o,children:h.jsx(_e.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:l,onPointerMove:ue(t.onPointerMove,p=>{p.pointerType!=="touch"&&!d.current&&!i.isPointerInTransitRef.current&&(s.onTriggerEnter(),d.current=!0)}),onPointerLeave:ue(t.onPointerLeave,()=>{s.onTriggerLeave(),d.current=!1}),onPointerDown:ue(t.onPointerDown,()=>{s.open&&s.onClose(),u.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:ue(t.onFocus,()=>{u.current||s.onOpen()}),onBlur:ue(t.onBlur,s.onClose),onClick:ue(t.onClick,s.onClose)})})});LM.displayName=Mg;var MM="TooltipPortal",[iq,jM]=Sf(MM,{forceMount:void 0}),Ga="TooltipContent",fC=y.forwardRef((t,e)=>{const n=jM(Ga,t.__scopeTooltip),{forceMount:r=n.forceMount,side:s="top",...i}=t,o=bf(Ga,t.__scopeTooltip);return h.jsx(jo,{present:r||o.open,children:o.disableHoverableContent?h.jsx(pC,{side:s,...i,ref:e}):h.jsx(VM,{side:s,...i,ref:e})})}),VM=y.forwardRef((t,e)=>{const n=bf(Ga,t.__scopeTooltip),r=uC(Ga,t.__scopeTooltip),s=y.useRef(null),i=ze(e,s),[o,a]=y.useState(null),{trigger:l,onClose:u}=n,d=s.current,{onPointerInTransitChange:f}=r,p=y.useCallback(()=>{a(null),f(!1)},[f]),g=y.useCallback((S,v)=>{const x=S.currentTarget,E={x:S.clientX,y:S.clientY},w=zM(E,x.getBoundingClientRect()),T=WM(E,w),C=HM(v.getBoundingClientRect()),D=GM([...T,...C]);a(D),f(!0)},[f]);return y.useEffect(()=>()=>p(),[p]),y.useEffect(()=>{if(l&&d){const S=x=>g(x,d),v=x=>g(x,l);return l.addEventListener("pointerleave",S),d.addEventListener("pointerleave",v),()=>{l.removeEventListener("pointerleave",S),d.removeEventListener("pointerleave",v)}}},[l,d,g,p]),y.useEffect(()=>{if(o){const S=v=>{const x=v.target,E={x:v.clientX,y:v.clientY},w=(l==null?void 0:l.contains(x))||(d==null?void 0:d.contains(x)),T=!qM(E,o);w?p():T&&(p(),u())};return document.addEventListener("pointermove",S),()=>document.removeEventListener("pointermove",S)}},[l,d,o,u,p]),h.jsx(pC,{...t,ref:i})}),[FM,UM]=Sf(hC,{isInside:!1}),$M=BD("TooltipContent"),pC=y.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":s,onEscapeKeyDown:i,onPointerDownOutside:o,...a}=t,l=bf(Ga,n),u=jv(n),{onClose:d}=l;return y.useEffect(()=>(document.addEventListener(IE,d),()=>document.removeEventListener(IE,d)),[d]),y.useEffect(()=>{if(l.trigger){const f=p=>{const g=p.target;g!=null&&g.contains(l.trigger)&&d()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[l.trigger,d]),h.jsx(au,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:f=>f.preventDefault(),onDismiss:d,children:h.jsxs(oC,{"data-state":l.stateAttribute,...u,...a,ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[h.jsx($M,{children:r}),h.jsx(FM,{scope:n,isInside:!0,children:h.jsx(kM,{id:l.contentId,role:"tooltip",children:s||r})})]})})});fC.displayName=Ga;var mC="TooltipArrow",BM=y.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=jv(n);return UM(mC,n).isInside?null:h.jsx(aC,{...s,...r,ref:e})});BM.displayName=mC;function zM(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),s=Math.abs(e.right-t.x),i=Math.abs(e.left-t.x);switch(Math.min(n,r,s,i)){case i:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function WM(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function HM(t){const{top:e,right:n,bottom:r,left:s}=t;return[{x:s,y:e},{x:n,y:e},{x:n,y:r},{x:s,y:r}]}function qM(t,e){const{x:n,y:r}=t;let s=!1;for(let i=0,o=e.length-1;i<e.length;o=i++){const a=e[i],l=e[o],u=a.x,d=a.y,f=l.x,p=l.y;d>r!=p>r&&n<(f-u)*(r-d)/(p-d)+u&&(s=!s)}return s}function GM(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),KM(e)}function KM(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const s=t[r];for(;e.length>=2;){const i=e[e.length-1],o=e[e.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))e.pop();else break}e.push(s)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const s=t[r];for(;n.length>=2;){const i=n[n.length-1],o=n[n.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))n.pop();else break}n.push(s)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var QM=dC,gC=fC;function yC(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=yC(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function vC(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=yC(t))&&(r&&(r+=" "),r+=e);return r}const Vv="-",YM=t=>{const e=JM(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const a=o.split(Vv);return a[0]===""&&a.length!==1&&a.shift(),wC(a,e)||XM(o)},getConflictingClassGroupIds:(o,a)=>{const l=n[o]||[];return a&&r[o]?[...l,...r[o]]:l}}},wC=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),s=r?wC(t.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const i=t.join(Vv);return(o=e.validators.find(({validator:a})=>a(i)))==null?void 0:o.classGroupId},CE=/^\[(.+)\]$/,XM=t=>{if(CE.test(t)){const e=CE.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},JM=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return ej(Object.entries(t.classGroups),n).forEach(([i,o])=>{jg(o,r,i,e)}),r},jg=(t,e,n,r)=>{t.forEach(s=>{if(typeof s=="string"){const i=s===""?e:AE(e,s);i.classGroupId=n;return}if(typeof s=="function"){if(ZM(s)){jg(s(r),e,n,r);return}e.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([i,o])=>{jg(o,AE(e,i),n,r)})})},AE=(t,e)=>{let n=t;return e.split(Vv).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},ZM=t=>t.isThemeGetter,ej=(t,e)=>e?t.map(([n,r])=>{const s=r.map(i=>typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,a])=>[e+o,a])):i);return[n,s]}):t,tj=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const s=(i,o)=>{n.set(i,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(i){let o=n.get(i);if(o!==void 0)return o;if((o=r.get(i))!==void 0)return s(i,o),o},set(i,o){n.has(i)?n.set(i,o):s(i,o)}}},_C="!",nj=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,s=e[0],i=e.length,o=a=>{const l=[];let u=0,d=0,f;for(let x=0;x<a.length;x++){let E=a[x];if(u===0){if(E===s&&(r||a.slice(x,x+i)===e)){l.push(a.slice(d,x)),d=x+i;continue}if(E==="/"){f=x;continue}}E==="["?u++:E==="]"&&u--}const p=l.length===0?a:a.substring(d),g=p.startsWith(_C),S=g?p.substring(1):p,v=f&&f>d?f-d:void 0;return{modifiers:l,hasImportantModifier:g,baseClassName:S,maybePostfixModifierPosition:v}};return n?a=>n({className:a,parseClassName:o}):o},rj=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},sj=t=>({cache:tj(t.cacheSize),parseClassName:nj(t),...YM(t)}),ij=/\s+/,oj=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=e,i=[],o=t.trim().split(ij);let a="";for(let l=o.length-1;l>=0;l-=1){const u=o[l],{modifiers:d,hasImportantModifier:f,baseClassName:p,maybePostfixModifierPosition:g}=n(u);let S=!!g,v=r(S?p.substring(0,g):p);if(!v){if(!S){a=u+(a.length>0?" "+a:a);continue}if(v=r(p),!v){a=u+(a.length>0?" "+a:a);continue}S=!1}const x=rj(d).join(":"),E=f?x+_C:x,w=E+v;if(i.includes(w))continue;i.push(w);const T=s(v,S);for(let C=0;C<T.length;++C){const D=T[C];i.push(E+D)}a=u+(a.length>0?" "+a:a)}return a};function aj(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=EC(e))&&(r&&(r+=" "),r+=n);return r}const EC=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=EC(t[r]))&&(n&&(n+=" "),n+=e);return n};function lj(t,...e){let n,r,s,i=o;function o(l){const u=e.reduce((d,f)=>f(d),t());return n=sj(u),r=n.cache.get,s=n.cache.set,i=a,a(l)}function a(l){const u=r(l);if(u)return u;const d=oj(l,n);return s(l,d),d}return function(){return i(aj.apply(null,arguments))}}const qe=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},xC=/^\[(?:([a-z-]+):)?(.+)\]$/i,cj=/^\d+\/\d+$/,uj=new Set(["px","full","screen"]),dj=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,hj=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,fj=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,pj=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,mj=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,ns=t=>Ta(t)||uj.has(t)||cj.test(t),$s=t=>ol(t,"length",Tj),Ta=t=>!!t&&!Number.isNaN(Number(t)),sm=t=>ol(t,"number",Ta),Fl=t=>!!t&&Number.isInteger(Number(t)),gj=t=>t.endsWith("%")&&Ta(t.slice(0,-1)),ve=t=>xC.test(t),Bs=t=>dj.test(t),yj=new Set(["length","size","percentage"]),vj=t=>ol(t,yj,TC),wj=t=>ol(t,"position",TC),_j=new Set(["image","url"]),Ej=t=>ol(t,_j,bj),xj=t=>ol(t,"",Sj),Ul=()=>!0,ol=(t,e,n)=>{const r=xC.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},Tj=t=>hj.test(t)&&!fj.test(t),TC=()=>!1,Sj=t=>pj.test(t),bj=t=>mj.test(t),Ij=()=>{const t=qe("colors"),e=qe("spacing"),n=qe("blur"),r=qe("brightness"),s=qe("borderColor"),i=qe("borderRadius"),o=qe("borderSpacing"),a=qe("borderWidth"),l=qe("contrast"),u=qe("grayscale"),d=qe("hueRotate"),f=qe("invert"),p=qe("gap"),g=qe("gradientColorStops"),S=qe("gradientColorStopPositions"),v=qe("inset"),x=qe("margin"),E=qe("opacity"),w=qe("padding"),T=qe("saturate"),C=qe("scale"),D=qe("sepia"),L=qe("skew"),I=qe("space"),b=qe("translate"),R=()=>["auto","contain","none"],k=()=>["auto","hidden","clip","visible","scroll"],P=()=>["auto",ve,e],O=()=>[ve,e],N=()=>["",ns,$s],V=()=>["auto",Ta,ve],Q=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],q=()=>["solid","dashed","dotted","double","none"],B=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],M=()=>["start","end","center","between","around","evenly","stretch"],F=()=>["","0",ve],H=()=>["auto","avoid","all","avoid-page","page","left","right","column"],re=()=>[Ta,ve];return{cacheSize:500,separator:":",theme:{colors:[Ul],spacing:[ns,$s],blur:["none","",Bs,ve],brightness:re(),borderColor:[t],borderRadius:["none","","full",Bs,ve],borderSpacing:O(),borderWidth:N(),contrast:re(),grayscale:F(),hueRotate:re(),invert:F(),gap:O(),gradientColorStops:[t],gradientColorStopPositions:[gj,$s],inset:P(),margin:P(),opacity:re(),padding:O(),saturate:re(),scale:re(),sepia:F(),skew:re(),space:O(),translate:O()},classGroups:{aspect:[{aspect:["auto","square","video",ve]}],container:["container"],columns:[{columns:[Bs]}],"break-after":[{"break-after":H()}],"break-before":[{"break-before":H()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...Q(),ve]}],overflow:[{overflow:k()}],"overflow-x":[{"overflow-x":k()}],"overflow-y":[{"overflow-y":k()}],overscroll:[{overscroll:R()}],"overscroll-x":[{"overscroll-x":R()}],"overscroll-y":[{"overscroll-y":R()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[v]}],"inset-x":[{"inset-x":[v]}],"inset-y":[{"inset-y":[v]}],start:[{start:[v]}],end:[{end:[v]}],top:[{top:[v]}],right:[{right:[v]}],bottom:[{bottom:[v]}],left:[{left:[v]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Fl,ve]}],basis:[{basis:P()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",ve]}],grow:[{grow:F()}],shrink:[{shrink:F()}],order:[{order:["first","last","none",Fl,ve]}],"grid-cols":[{"grid-cols":[Ul]}],"col-start-end":[{col:["auto",{span:["full",Fl,ve]},ve]}],"col-start":[{"col-start":V()}],"col-end":[{"col-end":V()}],"grid-rows":[{"grid-rows":[Ul]}],"row-start-end":[{row:["auto",{span:[Fl,ve]},ve]}],"row-start":[{"row-start":V()}],"row-end":[{"row-end":V()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",ve]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",ve]}],gap:[{gap:[p]}],"gap-x":[{"gap-x":[p]}],"gap-y":[{"gap-y":[p]}],"justify-content":[{justify:["normal",...M()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...M(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...M(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[w]}],px:[{px:[w]}],py:[{py:[w]}],ps:[{ps:[w]}],pe:[{pe:[w]}],pt:[{pt:[w]}],pr:[{pr:[w]}],pb:[{pb:[w]}],pl:[{pl:[w]}],m:[{m:[x]}],mx:[{mx:[x]}],my:[{my:[x]}],ms:[{ms:[x]}],me:[{me:[x]}],mt:[{mt:[x]}],mr:[{mr:[x]}],mb:[{mb:[x]}],ml:[{ml:[x]}],"space-x":[{"space-x":[I]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[I]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",ve,e]}],"min-w":[{"min-w":[ve,e,"min","max","fit"]}],"max-w":[{"max-w":[ve,e,"none","full","min","max","fit","prose",{screen:[Bs]},Bs]}],h:[{h:[ve,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[ve,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[ve,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[ve,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Bs,$s]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",sm]}],"font-family":[{font:[Ul]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",ve]}],"line-clamp":[{"line-clamp":["none",Ta,sm]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",ns,ve]}],"list-image":[{"list-image":["none",ve]}],"list-style-type":[{list:["none","disc","decimal",ve]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[E]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[E]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...q(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",ns,$s]}],"underline-offset":[{"underline-offset":["auto",ns,ve]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:O()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ve]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ve]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[E]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...Q(),wj]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",vj]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},Ej]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[S]}],"gradient-via-pos":[{via:[S]}],"gradient-to-pos":[{to:[S]}],"gradient-from":[{from:[g]}],"gradient-via":[{via:[g]}],"gradient-to":[{to:[g]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[E]}],"border-style":[{border:[...q(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[E]}],"divide-style":[{divide:q()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...q()]}],"outline-offset":[{"outline-offset":[ns,ve]}],"outline-w":[{outline:[ns,$s]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:N()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[E]}],"ring-offset-w":[{"ring-offset":[ns,$s]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Bs,xj]}],"shadow-color":[{shadow:[Ul]}],opacity:[{opacity:[E]}],"mix-blend":[{"mix-blend":[...B(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":B()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",Bs,ve]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[T]}],sepia:[{sepia:[D]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[E]}],"backdrop-saturate":[{"backdrop-saturate":[T]}],"backdrop-sepia":[{"backdrop-sepia":[D]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",ve]}],duration:[{duration:re()}],ease:[{ease:["linear","in","out","in-out",ve]}],delay:[{delay:re()}],animate:[{animate:["none","spin","ping","pulse","bounce",ve]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[C]}],"scale-x":[{"scale-x":[C]}],"scale-y":[{"scale-y":[C]}],rotate:[{rotate:[Fl,ve]}],"translate-x":[{"translate-x":[b]}],"translate-y":[{"translate-y":[b]}],"skew-x":[{"skew-x":[L]}],"skew-y":[{"skew-y":[L]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",ve]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ve]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":O()}],"scroll-mx":[{"scroll-mx":O()}],"scroll-my":[{"scroll-my":O()}],"scroll-ms":[{"scroll-ms":O()}],"scroll-me":[{"scroll-me":O()}],"scroll-mt":[{"scroll-mt":O()}],"scroll-mr":[{"scroll-mr":O()}],"scroll-mb":[{"scroll-mb":O()}],"scroll-ml":[{"scroll-ml":O()}],"scroll-p":[{"scroll-p":O()}],"scroll-px":[{"scroll-px":O()}],"scroll-py":[{"scroll-py":O()}],"scroll-ps":[{"scroll-ps":O()}],"scroll-pe":[{"scroll-pe":O()}],"scroll-pt":[{"scroll-pt":O()}],"scroll-pr":[{"scroll-pr":O()}],"scroll-pb":[{"scroll-pb":O()}],"scroll-pl":[{"scroll-pl":O()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ve]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[ns,$s,sm]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},Cj=lj(Ij);function be(...t){return Cj(vC(t))}const Aj=QM,Rj=y.forwardRef(({className:t,sideOffset:e=4,...n},r)=>h.jsx(gC,{ref:r,sideOffset:e,className:be("z-50 overflow-hidden rounded-md border border-border/40 bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-lg animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n}));Rj.displayName=gC.displayName;const Pj=1,Nj=1e6;let im=0;function kj(){return im=(im+1)%Number.MAX_SAFE_INTEGER,im.toString()}const om=new Map,RE=t=>{if(om.has(t))return;const e=setTimeout(()=>{om.delete(t),uc({type:"REMOVE_TOAST",toastId:t})},Nj);om.set(t,e)},Oj=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,Pj)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?RE(n):t.toasts.forEach(r=>{RE(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},Nd=[];let kd={toasts:[]};function uc(t){kd=Oj(kd,t),Nd.forEach(e=>{e(kd)})}function Dj({...t}){const e=kj(),n=s=>uc({type:"UPDATE_TOAST",toast:{...s,id:e}}),r=()=>uc({type:"DISMISS_TOAST",toastId:e});return uc({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:s=>{s||r()}}}),{id:e,dismiss:r,update:n}}function Lj(){const[t,e]=y.useState(kd);return y.useEffect(()=>(Nd.push(e),()=>{const n=Nd.indexOf(e);n>-1&&Nd.splice(n,1)}),[t]),{...t,toast:Dj,dismiss:n=>uc({type:"DISMISS_TOAST",toastId:n})}}function Fv(t){const e=t+"CollectionProvider",[n,r]=Fi(e),[s,i]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=v=>{const{scope:x,children:E}=v,w=K.useRef(null),T=K.useRef(new Map).current;return h.jsx(s,{scope:x,itemMap:T,collectionRef:w,children:E})};o.displayName=e;const a=t+"CollectionSlot",l=Wa(a),u=K.forwardRef((v,x)=>{const{scope:E,children:w}=v,T=i(a,E),C=ze(x,T.collectionRef);return h.jsx(l,{ref:C,children:w})});u.displayName=a;const d=t+"CollectionItemSlot",f="data-radix-collection-item",p=Wa(d),g=K.forwardRef((v,x)=>{const{scope:E,children:w,...T}=v,C=K.useRef(null),D=ze(x,C),L=i(d,E);return K.useEffect(()=>(L.itemMap.set(C,{ref:C,...T}),()=>void L.itemMap.delete(C))),h.jsx(p,{[f]:"",ref:D,children:w})});g.displayName=d;function S(v){const x=i(t+"CollectionConsumer",v);return K.useCallback(()=>{const w=x.collectionRef.current;if(!w)return[];const T=Array.from(w.querySelectorAll(`[${f}]`));return Array.from(x.itemMap.values()).sort((L,I)=>T.indexOf(L.ref.current)-T.indexOf(I.ref.current))},[x.collectionRef,x.itemMap])}return[{Provider:o,Slot:u,ItemSlot:g},S,r]}var Uv="ToastProvider",[$v,Mj,jj]=Fv("Toast"),[SC]=Fi("Toast",[jj]),[Vj,If]=SC(Uv),bC=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:i=50,children:o}=t,[a,l]=y.useState(null),[u,d]=y.useState(0),f=y.useRef(!1),p=y.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${Uv}\`. Expected non-empty \`string\`.`),h.jsx($v.Provider,{scope:e,children:h.jsx(Vj,{scope:e,label:n,duration:r,swipeDirection:s,swipeThreshold:i,toastCount:u,viewport:a,onViewportChange:l,onToastAdd:y.useCallback(()=>d(g=>g+1),[]),onToastRemove:y.useCallback(()=>d(g=>g-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:p,children:o})})};bC.displayName=Uv;var IC="ToastViewport",Fj=["F8"],Vg="toast.viewportPause",Fg="toast.viewportResume",CC=y.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=Fj,label:s="Notifications ({hotkey})",...i}=t,o=If(IC,n),a=Mj(n),l=y.useRef(null),u=y.useRef(null),d=y.useRef(null),f=y.useRef(null),p=ze(e,f,o.onViewportChange),g=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),S=o.toastCount>0;y.useEffect(()=>{const x=E=>{var T;r.length!==0&&r.every(C=>E[C]||E.code===C)&&((T=f.current)==null||T.focus())};return document.addEventListener("keydown",x),()=>document.removeEventListener("keydown",x)},[r]),y.useEffect(()=>{const x=l.current,E=f.current;if(S&&x&&E){const w=()=>{if(!o.isClosePausedRef.current){const L=new CustomEvent(Vg);E.dispatchEvent(L),o.isClosePausedRef.current=!0}},T=()=>{if(o.isClosePausedRef.current){const L=new CustomEvent(Fg);E.dispatchEvent(L),o.isClosePausedRef.current=!1}},C=L=>{!x.contains(L.relatedTarget)&&T()},D=()=>{x.contains(document.activeElement)||T()};return x.addEventListener("focusin",w),x.addEventListener("focusout",C),x.addEventListener("pointermove",w),x.addEventListener("pointerleave",D),window.addEventListener("blur",w),window.addEventListener("focus",T),()=>{x.removeEventListener("focusin",w),x.removeEventListener("focusout",C),x.removeEventListener("pointermove",w),x.removeEventListener("pointerleave",D),window.removeEventListener("blur",w),window.removeEventListener("focus",T)}}},[S,o.isClosePausedRef]);const v=y.useCallback(({tabbingDirection:x})=>{const w=a().map(T=>{const C=T.ref.current,D=[C,...Jj(C)];return x==="forwards"?D:D.reverse()});return(x==="forwards"?w.reverse():w).flat()},[a]);return y.useEffect(()=>{const x=f.current;if(x){const E=w=>{var D,L,I;const T=w.altKey||w.ctrlKey||w.metaKey;if(w.key==="Tab"&&!T){const b=document.activeElement,R=w.shiftKey;if(w.target===x&&R){(D=u.current)==null||D.focus();return}const O=v({tabbingDirection:R?"backwards":"forwards"}),N=O.findIndex(V=>V===b);am(O.slice(N+1))?w.preventDefault():R?(L=u.current)==null||L.focus():(I=d.current)==null||I.focus()}};return x.addEventListener("keydown",E),()=>x.removeEventListener("keydown",E)}},[a,v]),h.jsxs(tL,{ref:l,role:"region","aria-label":s.replace("{hotkey}",g),tabIndex:-1,style:{pointerEvents:S?void 0:"none"},children:[S&&h.jsx(Ug,{ref:u,onFocusFromOutsideViewport:()=>{const x=v({tabbingDirection:"forwards"});am(x)}}),h.jsx($v.Slot,{scope:n,children:h.jsx(_e.ol,{tabIndex:-1,...i,ref:p})}),S&&h.jsx(Ug,{ref:d,onFocusFromOutsideViewport:()=>{const x=v({tabbingDirection:"backwards"});am(x)}})]})});CC.displayName=IC;var AC="ToastFocusProxy",Ug=y.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...s}=t,i=If(AC,n);return h.jsx(Tf,{tabIndex:0,...s,ref:e,style:{position:"fixed"},onFocus:o=>{var u;const a=o.relatedTarget;!((u=i.viewport)!=null&&u.contains(a))&&r()}})});Ug.displayName=AC;var cu="Toast",Uj="toast.swipeStart",$j="toast.swipeMove",Bj="toast.swipeCancel",zj="toast.swipeEnd",RC=y.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:s,onOpenChange:i,...o}=t,[a,l]=qa({prop:r,defaultProp:s??!0,onChange:i,caller:cu});return h.jsx(jo,{present:n||a,children:h.jsx(qj,{open:a,...o,ref:e,onClose:()=>l(!1),onPause:Kn(t.onPause),onResume:Kn(t.onResume),onSwipeStart:ue(t.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:ue(t.onSwipeMove,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:ue(t.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:ue(t.onSwipeEnd,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),l(!1)})})})});RC.displayName=cu;var[Wj,Hj]=SC(cu,{onClose(){}}),qj=y.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:s,open:i,onClose:o,onEscapeKeyDown:a,onPause:l,onResume:u,onSwipeStart:d,onSwipeMove:f,onSwipeCancel:p,onSwipeEnd:g,...S}=t,v=If(cu,n),[x,E]=y.useState(null),w=ze(e,V=>E(V)),T=y.useRef(null),C=y.useRef(null),D=s||v.duration,L=y.useRef(0),I=y.useRef(D),b=y.useRef(0),{onToastAdd:R,onToastRemove:k}=v,P=Kn(()=>{var Q;(x==null?void 0:x.contains(document.activeElement))&&((Q=v.viewport)==null||Q.focus()),o()}),O=y.useCallback(V=>{!V||V===1/0||(window.clearTimeout(b.current),L.current=new Date().getTime(),b.current=window.setTimeout(P,V))},[P]);y.useEffect(()=>{const V=v.viewport;if(V){const Q=()=>{O(I.current),u==null||u()},q=()=>{const B=new Date().getTime()-L.current;I.current=I.current-B,window.clearTimeout(b.current),l==null||l()};return V.addEventListener(Vg,q),V.addEventListener(Fg,Q),()=>{V.removeEventListener(Vg,q),V.removeEventListener(Fg,Q)}}},[v.viewport,D,l,u,O]),y.useEffect(()=>{i&&!v.isClosePausedRef.current&&O(D)},[i,D,v.isClosePausedRef,O]),y.useEffect(()=>(R(),()=>k()),[R,k]);const N=y.useMemo(()=>x?MC(x):null,[x]);return v.viewport?h.jsxs(h.Fragment,{children:[N&&h.jsx(Gj,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite",children:N}),h.jsx(Wj,{scope:n,onClose:P,children:Mo.createPortal(h.jsx($v.ItemSlot,{scope:n,children:h.jsx(eL,{asChild:!0,onEscapeKeyDown:ue(a,()=>{v.isFocusedToastEscapeKeyDownRef.current||P(),v.isFocusedToastEscapeKeyDownRef.current=!1}),children:h.jsx(_e.li,{tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":v.swipeDirection,...S,ref:w,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:ue(t.onKeyDown,V=>{V.key==="Escape"&&(a==null||a(V.nativeEvent),V.nativeEvent.defaultPrevented||(v.isFocusedToastEscapeKeyDownRef.current=!0,P()))}),onPointerDown:ue(t.onPointerDown,V=>{V.button===0&&(T.current={x:V.clientX,y:V.clientY})}),onPointerMove:ue(t.onPointerMove,V=>{if(!T.current)return;const Q=V.clientX-T.current.x,q=V.clientY-T.current.y,B=!!C.current,M=["left","right"].includes(v.swipeDirection),F=["left","up"].includes(v.swipeDirection)?Math.min:Math.max,H=M?F(0,Q):0,re=M?0:F(0,q),Z=V.pointerType==="touch"?10:2,ce={x:H,y:re},oe={originalEvent:V,delta:ce};B?(C.current=ce,rd($j,f,oe,{discrete:!1})):PE(ce,v.swipeDirection,Z)?(C.current=ce,rd(Uj,d,oe,{discrete:!1}),V.target.setPointerCapture(V.pointerId)):(Math.abs(Q)>Z||Math.abs(q)>Z)&&(T.current=null)}),onPointerUp:ue(t.onPointerUp,V=>{const Q=C.current,q=V.target;if(q.hasPointerCapture(V.pointerId)&&q.releasePointerCapture(V.pointerId),C.current=null,T.current=null,Q){const B=V.currentTarget,M={originalEvent:V,delta:Q};PE(Q,v.swipeDirection,v.swipeThreshold)?rd(zj,g,M,{discrete:!0}):rd(Bj,p,M,{discrete:!0}),B.addEventListener("click",F=>F.preventDefault(),{once:!0})}})})})}),v.viewport)})]}):null}),Gj=t=>{const{__scopeToast:e,children:n,...r}=t,s=If(cu,e),[i,o]=y.useState(!1),[a,l]=y.useState(!1);return Yj(()=>o(!0)),y.useEffect(()=>{const u=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(u)},[]),a?null:h.jsx(xf,{asChild:!0,children:h.jsx(Tf,{...r,children:i&&h.jsxs(h.Fragment,{children:[s.label," ",n]})})})},Kj="ToastTitle",PC=y.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return h.jsx(_e.div,{...r,ref:e})});PC.displayName=Kj;var Qj="ToastDescription",NC=y.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return h.jsx(_e.div,{...r,ref:e})});NC.displayName=Qj;var kC="ToastAction",OC=y.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?h.jsx(LC,{altText:n,asChild:!0,children:h.jsx(Bv,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${kC}\`. Expected non-empty \`string\`.`),null)});OC.displayName=kC;var DC="ToastClose",Bv=y.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,s=Hj(DC,n);return h.jsx(LC,{asChild:!0,children:h.jsx(_e.button,{type:"button",...r,ref:e,onClick:ue(t.onClick,s.onClose)})})});Bv.displayName=DC;var LC=y.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...s}=t;return h.jsx(_e.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:e})});function MC(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),Xj(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",i=r.dataset.radixToastAnnounceExclude==="";if(!s)if(i){const o=r.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...MC(r))}}),e}function rd(t,e,n,{discrete:r}){const s=n.originalEvent.currentTarget,i=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?DI(s,i):s.dispatchEvent(i)}var PE=(t,e,n=0)=>{const r=Math.abs(t.x),s=Math.abs(t.y),i=r>s;return e==="left"||e==="right"?i&&r>n:!i&&s>n};function Yj(t=()=>{}){const e=Kn(t);Lt(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function Xj(t){return t.nodeType===t.ELEMENT_NODE}function Jj(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function am(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var Zj=bC,jC=CC,VC=RC,FC=PC,UC=NC,$C=OC,BC=Bv;const NE=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,kE=vC,Cf=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return kE(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:i}=e,o=Object.keys(s).map(u=>{const d=n==null?void 0:n[u],f=i==null?void 0:i[u];if(d===null)return null;const p=NE(d)||NE(f);return s[u][p]}),a=n&&Object.entries(n).reduce((u,d)=>{let[f,p]=d;return p===void 0||(u[f]=p),u},{}),l=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((u,d)=>{let{class:f,className:p,...g}=d;return Object.entries(g).every(S=>{let[v,x]=S;return Array.isArray(x)?x.includes({...i,...a}[v]):{...i,...a}[v]===x})?[...u,f,p]:u},[]);return kE(t,o,l,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eV=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),zC=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var tV={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nV=y.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:o,...a},l)=>y.createElement("svg",{ref:l,...tV,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:zC("lucide",s),...a},[...o.map(([u,d])=>y.createElement(u,d)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xn=(t,e)=>{const n=y.forwardRef(({className:r,...s},i)=>y.createElement(nV,{ref:i,iconNode:e,className:zC(`lucide-${eV(t)}`,r),...s}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rV=Xn("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sV=Xn("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WC=Xn("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iV=Xn("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oV=Xn("GraduationCap",[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aV=Xn("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lV=Xn("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cV=Xn("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uV=Xn("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dV=Xn("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hV=Xn("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HC=Xn("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),fV=Zj,qC=y.forwardRef(({className:t,...e},n)=>h.jsx(jC,{ref:n,className:be("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));qC.displayName=jC.displayName;const pV=Cf("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),GC=y.forwardRef(({className:t,variant:e,...n},r)=>h.jsx(VC,{ref:r,className:be(pV({variant:e}),t),...n}));GC.displayName=VC.displayName;const mV=y.forwardRef(({className:t,...e},n)=>h.jsx($C,{ref:n,className:be("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));mV.displayName=$C.displayName;const KC=y.forwardRef(({className:t,...e},n)=>h.jsx(BC,{ref:n,className:be("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:h.jsx(HC,{className:"h-4 w-4"})}));KC.displayName=BC.displayName;const QC=y.forwardRef(({className:t,...e},n)=>h.jsx(FC,{ref:n,className:be("text-sm font-semibold",t),...e}));QC.displayName=FC.displayName;const YC=y.forwardRef(({className:t,...e},n)=>h.jsx(UC,{ref:n,className:be("text-sm opacity-90",t),...e}));YC.displayName=UC.displayName;function gV(){const{toasts:t}=Lj();return h.jsxs(fV,{children:[t.map(function({id:e,title:n,description:r,action:s,...i}){return h.jsxs(GC,{...i,children:[h.jsxs("div",{className:"grid gap-1",children:[n&&h.jsx(QC,{children:n}),r&&h.jsx(YC,{children:r})]}),s,h.jsx(KC,{})]},e)}),h.jsx(qC,{})]})}var yV=t=>{switch(t){case"success":return _V;case"info":return xV;case"warning":return EV;case"error":return TV;default:return null}},vV=Array(12).fill(0),wV=({visible:t,className:e})=>K.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},K.createElement("div",{className:"sonner-spinner"},vV.map((n,r)=>K.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),_V=K.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},K.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),EV=K.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},K.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),xV=K.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},K.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),TV=K.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},K.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),SV=K.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},K.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),K.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),bV=()=>{let[t,e]=K.useState(document.hidden);return K.useEffect(()=>{let n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t},$g=1,IV=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let n=this.subscribers.indexOf(e);this.subscribers.splice(n,1)}),this.publish=e=>{this.subscribers.forEach(n=>n(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var n;let{message:r,...s}=e,i=typeof(e==null?void 0:e.id)=="number"||((n=e.id)==null?void 0:n.length)>0?e.id:$g++,o=this.toasts.find(l=>l.id===i),a=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(i)&&this.dismissedToasts.delete(i),o?this.toasts=this.toasts.map(l=>l.id===i?(this.publish({...l,...e,id:i,title:r}),{...l,...e,id:i,dismissible:a,title:r}):l):this.addToast({title:r,...s,dismissible:a,id:i}),i},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(n=>{this.subscribers.forEach(r=>r({id:n.id,dismiss:!0}))}),this.subscribers.forEach(n=>n({id:e,dismiss:!0})),e),this.message=(e,n)=>this.create({...n,message:e}),this.error=(e,n)=>this.create({...n,message:e,type:"error"}),this.success=(e,n)=>this.create({...n,type:"success",message:e}),this.info=(e,n)=>this.create({...n,type:"info",message:e}),this.warning=(e,n)=>this.create({...n,type:"warning",message:e}),this.loading=(e,n)=>this.create({...n,type:"loading",message:e}),this.promise=(e,n)=>{if(!n)return;let r;n.loading!==void 0&&(r=this.create({...n,promise:e,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));let s=e instanceof Promise?e:e(),i=r!==void 0,o,a=s.then(async u=>{if(o=["resolve",u],K.isValidElement(u))i=!1,this.create({id:r,type:"default",message:u});else if(AV(u)&&!u.ok){i=!1;let d=typeof n.error=="function"?await n.error(`HTTP error! status: ${u.status}`):n.error,f=typeof n.description=="function"?await n.description(`HTTP error! status: ${u.status}`):n.description;this.create({id:r,type:"error",message:d,description:f})}else if(n.success!==void 0){i=!1;let d=typeof n.success=="function"?await n.success(u):n.success,f=typeof n.description=="function"?await n.description(u):n.description;this.create({id:r,type:"success",message:d,description:f})}}).catch(async u=>{if(o=["reject",u],n.error!==void 0){i=!1;let d=typeof n.error=="function"?await n.error(u):n.error,f=typeof n.description=="function"?await n.description(u):n.description;this.create({id:r,type:"error",message:d,description:f})}}).finally(()=>{var u;i&&(this.dismiss(r),r=void 0),(u=n.finally)==null||u.call(n)}),l=()=>new Promise((u,d)=>a.then(()=>o[0]==="reject"?d(o[1]):u(o[1])).catch(d));return typeof r!="string"&&typeof r!="number"?{unwrap:l}:Object.assign(r,{unwrap:l})},this.custom=(e,n)=>{let r=(n==null?void 0:n.id)||$g++;return this.create({jsx:e(r),id:r,...n}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},an=new IV,CV=(t,e)=>{let n=(e==null?void 0:e.id)||$g++;return an.addToast({title:t,...e,id:n}),n},AV=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",RV=CV,PV=()=>an.toasts,NV=()=>an.getActiveToasts();Object.assign(RV,{success:an.success,info:an.info,warning:an.warning,error:an.error,custom:an.custom,message:an.message,promise:an.promise,dismiss:an.dismiss,loading:an.loading},{getHistory:PV,getToasts:NV});function kV(t,{insertAt:e}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}kV(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function sd(t){return t.label!==void 0}var OV=3,DV="32px",LV="16px",OE=4e3,MV=356,jV=14,VV=20,FV=200;function nr(...t){return t.filter(Boolean).join(" ")}function UV(t){let[e,n]=t.split("-"),r=[];return e&&r.push(e),n&&r.push(n),r}var $V=t=>{var e,n,r,s,i,o,a,l,u,d,f;let{invert:p,toast:g,unstyled:S,interacting:v,setHeights:x,visibleToasts:E,heights:w,index:T,toasts:C,expanded:D,removeToast:L,defaultRichColors:I,closeButton:b,style:R,cancelButtonStyle:k,actionButtonStyle:P,className:O="",descriptionClassName:N="",duration:V,position:Q,gap:q,loadingIcon:B,expandByDefault:M,classNames:F,icons:H,closeButtonAriaLabel:re="Close toast",pauseWhenPageIsHidden:Z}=t,[ce,oe]=K.useState(null),[Ne,Me]=K.useState(null),[J,Ie]=K.useState(!1),[Y,me]=K.useState(!1),[ae,le]=K.useState(!1),[je,Rt]=K.useState(!1),[Jn,rn]=K.useState(!1),[yn,vn]=K.useState(0),[Ve,Et]=K.useState(0),Tr=K.useRef(g.duration||V||OE),Tu=K.useRef(null),Sr=K.useRef(null),fp=T===0,Wi=T+1<=E,Qt=g.type,es=g.dismissible!==!1,yl=g.className||"",pp=g.descriptionClassName||"",Ho=K.useMemo(()=>w.findIndex(de=>de.toastId===g.id)||0,[w,g.id]),Su=K.useMemo(()=>{var de;return(de=g.closeButton)!=null?de:b},[g.closeButton,b]),vl=K.useMemo(()=>g.duration||V||OE,[g.duration,V]),ts=K.useRef(0),br=K.useRef(0),qo=K.useRef(0),sn=K.useRef(null),[bu,Go]=Q.split("-"),wl=K.useMemo(()=>w.reduce((de,ke,$e)=>$e>=Ho?de:de+ke.height,0),[w,Ho]),Os=bV(),Iu=g.invert||p,gt=Qt==="loading";br.current=K.useMemo(()=>Ho*q+wl,[Ho,wl]),K.useEffect(()=>{Tr.current=vl},[vl]),K.useEffect(()=>{Ie(!0)},[]),K.useEffect(()=>{let de=Sr.current;if(de){let ke=de.getBoundingClientRect().height;return Et(ke),x($e=>[{toastId:g.id,height:ke,position:g.position},...$e]),()=>x($e=>$e.filter(xt=>xt.toastId!==g.id))}},[x,g.id]),K.useLayoutEffect(()=>{if(!J)return;let de=Sr.current,ke=de.style.height;de.style.height="auto";let $e=de.getBoundingClientRect().height;de.style.height=ke,Et($e),x(xt=>xt.find(wn=>wn.toastId===g.id)?xt.map(wn=>wn.toastId===g.id?{...wn,height:$e}:wn):[{toastId:g.id,height:$e,position:g.position},...xt])},[J,g.title,g.description,x,g.id]);let Zn=K.useCallback(()=>{me(!0),vn(br.current),x(de=>de.filter(ke=>ke.toastId!==g.id)),setTimeout(()=>{L(g)},FV)},[g,L,x,br]);K.useEffect(()=>{if(g.promise&&Qt==="loading"||g.duration===1/0||g.type==="loading")return;let de;return D||v||Z&&Os?(()=>{if(qo.current<ts.current){let ke=new Date().getTime()-ts.current;Tr.current=Tr.current-ke}qo.current=new Date().getTime()})():Tr.current!==1/0&&(ts.current=new Date().getTime(),de=setTimeout(()=>{var ke;(ke=g.onAutoClose)==null||ke.call(g,g),Zn()},Tr.current)),()=>clearTimeout(de)},[D,v,g,Qt,Z,Os,Zn]),K.useEffect(()=>{g.delete&&Zn()},[Zn,g.delete]);function Hi(){var de,ke,$e;return H!=null&&H.loading?K.createElement("div",{className:nr(F==null?void 0:F.loader,(de=g==null?void 0:g.classNames)==null?void 0:de.loader,"sonner-loader"),"data-visible":Qt==="loading"},H.loading):B?K.createElement("div",{className:nr(F==null?void 0:F.loader,(ke=g==null?void 0:g.classNames)==null?void 0:ke.loader,"sonner-loader"),"data-visible":Qt==="loading"},B):K.createElement(wV,{className:nr(F==null?void 0:F.loader,($e=g==null?void 0:g.classNames)==null?void 0:$e.loader),visible:Qt==="loading"})}return K.createElement("li",{tabIndex:0,ref:Sr,className:nr(O,yl,F==null?void 0:F.toast,(e=g==null?void 0:g.classNames)==null?void 0:e.toast,F==null?void 0:F.default,F==null?void 0:F[Qt],(n=g==null?void 0:g.classNames)==null?void 0:n[Qt]),"data-sonner-toast":"","data-rich-colors":(r=g.richColors)!=null?r:I,"data-styled":!(g.jsx||g.unstyled||S),"data-mounted":J,"data-promise":!!g.promise,"data-swiped":Jn,"data-removed":Y,"data-visible":Wi,"data-y-position":bu,"data-x-position":Go,"data-index":T,"data-front":fp,"data-swiping":ae,"data-dismissible":es,"data-type":Qt,"data-invert":Iu,"data-swipe-out":je,"data-swipe-direction":Ne,"data-expanded":!!(D||M&&J),style:{"--index":T,"--toasts-before":T,"--z-index":C.length-T,"--offset":`${Y?yn:br.current}px`,"--initial-height":M?"auto":`${Ve}px`,...R,...g.style},onDragEnd:()=>{le(!1),oe(null),sn.current=null},onPointerDown:de=>{gt||!es||(Tu.current=new Date,vn(br.current),de.target.setPointerCapture(de.pointerId),de.target.tagName!=="BUTTON"&&(le(!0),sn.current={x:de.clientX,y:de.clientY}))},onPointerUp:()=>{var de,ke,$e,xt;if(je||!es)return;sn.current=null;let wn=Number(((de=Sr.current)==null?void 0:de.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Ir=Number(((ke=Sr.current)==null?void 0:ke.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),jn=new Date().getTime()-(($e=Tu.current)==null?void 0:$e.getTime()),on=ce==="x"?wn:Ir,er=Math.abs(on)/jn;if(Math.abs(on)>=VV||er>.11){vn(br.current),(xt=g.onDismiss)==null||xt.call(g,g),Me(ce==="x"?wn>0?"right":"left":Ir>0?"down":"up"),Zn(),Rt(!0),rn(!1);return}le(!1),oe(null)},onPointerMove:de=>{var ke,$e,xt,wn;if(!sn.current||!es||((ke=window.getSelection())==null?void 0:ke.toString().length)>0)return;let Ir=de.clientY-sn.current.y,jn=de.clientX-sn.current.x,on=($e=t.swipeDirections)!=null?$e:UV(Q);!ce&&(Math.abs(jn)>1||Math.abs(Ir)>1)&&oe(Math.abs(jn)>Math.abs(Ir)?"x":"y");let er={x:0,y:0};ce==="y"?(on.includes("top")||on.includes("bottom"))&&(on.includes("top")&&Ir<0||on.includes("bottom")&&Ir>0)&&(er.y=Ir):ce==="x"&&(on.includes("left")||on.includes("right"))&&(on.includes("left")&&jn<0||on.includes("right")&&jn>0)&&(er.x=jn),(Math.abs(er.x)>0||Math.abs(er.y)>0)&&rn(!0),(xt=Sr.current)==null||xt.style.setProperty("--swipe-amount-x",`${er.x}px`),(wn=Sr.current)==null||wn.style.setProperty("--swipe-amount-y",`${er.y}px`)}},Su&&!g.jsx?K.createElement("button",{"aria-label":re,"data-disabled":gt,"data-close-button":!0,onClick:gt||!es?()=>{}:()=>{var de;Zn(),(de=g.onDismiss)==null||de.call(g,g)},className:nr(F==null?void 0:F.closeButton,(s=g==null?void 0:g.classNames)==null?void 0:s.closeButton)},(i=H==null?void 0:H.close)!=null?i:SV):null,g.jsx||y.isValidElement(g.title)?g.jsx?g.jsx:typeof g.title=="function"?g.title():g.title:K.createElement(K.Fragment,null,Qt||g.icon||g.promise?K.createElement("div",{"data-icon":"",className:nr(F==null?void 0:F.icon,(o=g==null?void 0:g.classNames)==null?void 0:o.icon)},g.promise||g.type==="loading"&&!g.icon?g.icon||Hi():null,g.type!=="loading"?g.icon||(H==null?void 0:H[Qt])||yV(Qt):null):null,K.createElement("div",{"data-content":"",className:nr(F==null?void 0:F.content,(a=g==null?void 0:g.classNames)==null?void 0:a.content)},K.createElement("div",{"data-title":"",className:nr(F==null?void 0:F.title,(l=g==null?void 0:g.classNames)==null?void 0:l.title)},typeof g.title=="function"?g.title():g.title),g.description?K.createElement("div",{"data-description":"",className:nr(N,pp,F==null?void 0:F.description,(u=g==null?void 0:g.classNames)==null?void 0:u.description)},typeof g.description=="function"?g.description():g.description):null),y.isValidElement(g.cancel)?g.cancel:g.cancel&&sd(g.cancel)?K.createElement("button",{"data-button":!0,"data-cancel":!0,style:g.cancelButtonStyle||k,onClick:de=>{var ke,$e;sd(g.cancel)&&es&&(($e=(ke=g.cancel).onClick)==null||$e.call(ke,de),Zn())},className:nr(F==null?void 0:F.cancelButton,(d=g==null?void 0:g.classNames)==null?void 0:d.cancelButton)},g.cancel.label):null,y.isValidElement(g.action)?g.action:g.action&&sd(g.action)?K.createElement("button",{"data-button":!0,"data-action":!0,style:g.actionButtonStyle||P,onClick:de=>{var ke,$e;sd(g.action)&&(($e=(ke=g.action).onClick)==null||$e.call(ke,de),!de.defaultPrevented&&Zn())},className:nr(F==null?void 0:F.actionButton,(f=g==null?void 0:g.classNames)==null?void 0:f.actionButton)},g.action.label):null))};function DE(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function BV(t,e){let n={};return[t,e].forEach((r,s)=>{let i=s===1,o=i?"--mobile-offset":"--offset",a=i?LV:DV;function l(u){["top","right","bottom","left"].forEach(d=>{n[`${o}-${d}`]=typeof u=="number"?`${u}px`:u})}typeof r=="number"||typeof r=="string"?l(r):typeof r=="object"?["top","right","bottom","left"].forEach(u=>{r[u]===void 0?n[`${o}-${u}`]=a:n[`${o}-${u}`]=typeof r[u]=="number"?`${r[u]}px`:r[u]}):l(a)}),n}var zV=y.forwardRef(function(t,e){let{invert:n,position:r="bottom-right",hotkey:s=["altKey","KeyT"],expand:i,closeButton:o,className:a,offset:l,mobileOffset:u,theme:d="light",richColors:f,duration:p,style:g,visibleToasts:S=OV,toastOptions:v,dir:x=DE(),gap:E=jV,loadingIcon:w,icons:T,containerAriaLabel:C="Notifications",pauseWhenPageIsHidden:D}=t,[L,I]=K.useState([]),b=K.useMemo(()=>Array.from(new Set([r].concat(L.filter(Z=>Z.position).map(Z=>Z.position)))),[L,r]),[R,k]=K.useState([]),[P,O]=K.useState(!1),[N,V]=K.useState(!1),[Q,q]=K.useState(d!=="system"?d:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),B=K.useRef(null),M=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),F=K.useRef(null),H=K.useRef(!1),re=K.useCallback(Z=>{I(ce=>{var oe;return(oe=ce.find(Ne=>Ne.id===Z.id))!=null&&oe.delete||an.dismiss(Z.id),ce.filter(({id:Ne})=>Ne!==Z.id)})},[]);return K.useEffect(()=>an.subscribe(Z=>{if(Z.dismiss){I(ce=>ce.map(oe=>oe.id===Z.id?{...oe,delete:!0}:oe));return}setTimeout(()=>{TI.flushSync(()=>{I(ce=>{let oe=ce.findIndex(Ne=>Ne.id===Z.id);return oe!==-1?[...ce.slice(0,oe),{...ce[oe],...Z},...ce.slice(oe+1)]:[Z,...ce]})})})}),[]),K.useEffect(()=>{if(d!=="system"){q(d);return}if(d==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?q("dark"):q("light")),typeof window>"u")return;let Z=window.matchMedia("(prefers-color-scheme: dark)");try{Z.addEventListener("change",({matches:ce})=>{q(ce?"dark":"light")})}catch{Z.addListener(({matches:oe})=>{try{q(oe?"dark":"light")}catch(Ne){console.error(Ne)}})}},[d]),K.useEffect(()=>{L.length<=1&&O(!1)},[L]),K.useEffect(()=>{let Z=ce=>{var oe,Ne;s.every(Me=>ce[Me]||ce.code===Me)&&(O(!0),(oe=B.current)==null||oe.focus()),ce.code==="Escape"&&(document.activeElement===B.current||(Ne=B.current)!=null&&Ne.contains(document.activeElement))&&O(!1)};return document.addEventListener("keydown",Z),()=>document.removeEventListener("keydown",Z)},[s]),K.useEffect(()=>{if(B.current)return()=>{F.current&&(F.current.focus({preventScroll:!0}),F.current=null,H.current=!1)}},[B.current]),K.createElement("section",{ref:e,"aria-label":`${C} ${M}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},b.map((Z,ce)=>{var oe;let[Ne,Me]=Z.split("-");return L.length?K.createElement("ol",{key:Z,dir:x==="auto"?DE():x,tabIndex:-1,ref:B,className:a,"data-sonner-toaster":!0,"data-theme":Q,"data-y-position":Ne,"data-lifted":P&&L.length>1&&!i,"data-x-position":Me,style:{"--front-toast-height":`${((oe=R[0])==null?void 0:oe.height)||0}px`,"--width":`${MV}px`,"--gap":`${E}px`,...g,...BV(l,u)},onBlur:J=>{H.current&&!J.currentTarget.contains(J.relatedTarget)&&(H.current=!1,F.current&&(F.current.focus({preventScroll:!0}),F.current=null))},onFocus:J=>{J.target instanceof HTMLElement&&J.target.dataset.dismissible==="false"||H.current||(H.current=!0,F.current=J.relatedTarget)},onMouseEnter:()=>O(!0),onMouseMove:()=>O(!0),onMouseLeave:()=>{N||O(!1)},onDragEnd:()=>O(!1),onPointerDown:J=>{J.target instanceof HTMLElement&&J.target.dataset.dismissible==="false"||V(!0)},onPointerUp:()=>V(!1)},L.filter(J=>!J.position&&ce===0||J.position===Z).map((J,Ie)=>{var Y,me;return K.createElement($V,{key:J.id,icons:T,index:Ie,toast:J,defaultRichColors:f,duration:(Y=v==null?void 0:v.duration)!=null?Y:p,className:v==null?void 0:v.className,descriptionClassName:v==null?void 0:v.descriptionClassName,invert:n,visibleToasts:S,closeButton:(me=v==null?void 0:v.closeButton)!=null?me:o,interacting:N,position:Z,style:v==null?void 0:v.style,unstyled:v==null?void 0:v.unstyled,classNames:v==null?void 0:v.classNames,cancelButtonStyle:v==null?void 0:v.cancelButtonStyle,actionButtonStyle:v==null?void 0:v.actionButtonStyle,removeToast:re,toasts:L.filter(ae=>ae.position==J.position),heights:R.filter(ae=>ae.position==J.position),setHeights:k,expandByDefault:i,gap:E,loadingIcon:w,expanded:P,pauseWhenPageIsHidden:D,swipeDirections:t.swipeDirections})})):null}))});const WV=({...t})=>{const{theme:e}=cD();return h.jsx(zV,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})};/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Uc(){return Uc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Uc.apply(this,arguments)}var li;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(li||(li={}));const LE="popstate";function HV(t){t===void 0&&(t={});function e(r,s){let{pathname:i,search:o,hash:a}=r.location;return Bg("",{pathname:i,search:o,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:Eh(s)}return GV(e,n,null,t)}function ut(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function XC(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function qV(){return Math.random().toString(36).substr(2,8)}function ME(t,e){return{usr:t.state,key:t.key,idx:e}}function Bg(t,e,n,r){return n===void 0&&(n=null),Uc({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?al(e):e,{state:n,key:e&&e.key||r||qV()})}function Eh(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function al(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function GV(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,a=li.Pop,l=null,u=d();u==null&&(u=0,o.replaceState(Uc({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function f(){a=li.Pop;let x=d(),E=x==null?null:x-u;u=x,l&&l({action:a,location:v.location,delta:E})}function p(x,E){a=li.Push;let w=Bg(v.location,x,E);u=d()+1;let T=ME(w,u),C=v.createHref(w);try{o.pushState(T,"",C)}catch(D){if(D instanceof DOMException&&D.name==="DataCloneError")throw D;s.location.assign(C)}i&&l&&l({action:a,location:v.location,delta:1})}function g(x,E){a=li.Replace;let w=Bg(v.location,x,E);u=d();let T=ME(w,u),C=v.createHref(w);o.replaceState(T,"",C),i&&l&&l({action:a,location:v.location,delta:0})}function S(x){let E=s.location.origin!=="null"?s.location.origin:s.location.href,w=typeof x=="string"?x:Eh(x);return w=w.replace(/ $/,"%20"),ut(E,"No window.location.(origin|href) available to create URL for href: "+w),new URL(w,E)}let v={get action(){return a},get location(){return t(s,o)},listen(x){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(LE,f),l=x,()=>{s.removeEventListener(LE,f),l=null}},createHref(x){return e(s,x)},createURL:S,encodeLocation(x){let E=S(x);return{pathname:E.pathname,search:E.search,hash:E.hash}},push:p,replace:g,go(x){return o.go(x)}};return v}var jE;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(jE||(jE={}));function KV(t,e,n){return n===void 0&&(n="/"),QV(t,e,n)}function QV(t,e,n,r){let s=typeof e=="string"?al(e):e,i=zv(s.pathname||"/",n);if(i==null)return null;let o=JC(t);YV(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let u=l4(i);a=i4(o[l],u)}return a}function JC(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,a)=>{let l={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};l.relativePath.startsWith("/")&&(ut(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=wi([r,l.relativePath]),d=n.concat(l);i.children&&i.children.length>0&&(ut(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),JC(i.children,e,d,u)),!(i.path==null&&!i.index)&&e.push({path:u,score:r4(u,i.index),routesMeta:d})};return t.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let l of ZC(i.path))s(i,o,l)}),e}function ZC(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=ZC(r.join("/")),a=[];return a.push(...o.map(l=>l===""?i:[i,l].join("/"))),s&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function YV(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:s4(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const XV=/^:[\w-]+$/,JV=3,ZV=2,e4=1,t4=10,n4=-2,VE=t=>t==="*";function r4(t,e){let n=t.split("/"),r=n.length;return n.some(VE)&&(r+=n4),e&&(r+=ZV),n.filter(s=>!VE(s)).reduce((s,i)=>s+(XV.test(i)?JV:i===""?e4:t4),r)}function s4(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function i4(t,e,n){let{routesMeta:r}=t,s={},i="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],u=a===r.length-1,d=i==="/"?e:e.slice(i.length)||"/",f=o4({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},d),p=l.route;if(!f)return null;Object.assign(s,f.params),o.push({params:s,pathname:wi([i,f.pathname]),pathnameBase:h4(wi([i,f.pathnameBase])),route:p}),f.pathnameBase!=="/"&&(i=wi([i,f.pathnameBase]))}return o}function o4(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=a4(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((u,d,f)=>{let{paramName:p,isOptional:g}=d;if(p==="*"){let v=a[f]||"";o=i.slice(0,i.length-v.length).replace(/(.)\/+$/,"$1")}const S=a[f];return g&&!S?u[p]=void 0:u[p]=(S||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:t}}function a4(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),XC(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function l4(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return XC(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function zv(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function c4(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?al(t):t;return{pathname:n?n.startsWith("/")?n:u4(n,e):e,search:f4(r),hash:p4(s)}}function u4(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function lm(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function d4(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Wv(t,e){let n=d4(t);return e?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Hv(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=al(t):(s=Uc({},t),ut(!s.pathname||!s.pathname.includes("?"),lm("?","pathname","search",s)),ut(!s.pathname||!s.pathname.includes("#"),lm("#","pathname","hash",s)),ut(!s.search||!s.search.includes("#"),lm("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=n;else{let f=e.length-1;if(!r&&o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),f-=1;s.pathname=p.join("/")}a=f>=0?e[f]:"/"}let l=c4(s,a),u=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||d)&&(l.pathname+="/"),l}const wi=t=>t.join("/").replace(/\/\/+/g,"/"),h4=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),f4=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,p4=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function m4(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const e1=["post","put","patch","delete"];new Set(e1);const g4=["get",...e1];new Set(g4);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function $c(){return $c=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$c.apply(this,arguments)}const qv=y.createContext(null),y4=y.createContext(null),Ui=y.createContext(null),Af=y.createContext(null),$i=y.createContext({outlet:null,matches:[],isDataRoute:!1}),t1=y.createContext(null);function v4(t,e){let{relative:n}=e===void 0?{}:e;ll()||ut(!1);let{basename:r,navigator:s}=y.useContext(Ui),{hash:i,pathname:o,search:a}=r1(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:wi([r,o])),s.createHref({pathname:l,search:a,hash:i})}function ll(){return y.useContext(Af)!=null}function cl(){return ll()||ut(!1),y.useContext(Af).location}function n1(t){y.useContext(Ui).static||y.useLayoutEffect(t)}function Rf(){let{isDataRoute:t}=y.useContext($i);return t?N4():w4()}function w4(){ll()||ut(!1);let t=y.useContext(qv),{basename:e,future:n,navigator:r}=y.useContext(Ui),{matches:s}=y.useContext($i),{pathname:i}=cl(),o=JSON.stringify(Wv(s,n.v7_relativeSplatPath)),a=y.useRef(!1);return n1(()=>{a.current=!0}),y.useCallback(function(u,d){if(d===void 0&&(d={}),!a.current)return;if(typeof u=="number"){r.go(u);return}let f=Hv(u,JSON.parse(o),i,d.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:wi([e,f.pathname])),(d.replace?r.replace:r.push)(f,d.state,d)},[e,r,o,i,t])}function r1(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=y.useContext(Ui),{matches:s}=y.useContext($i),{pathname:i}=cl(),o=JSON.stringify(Wv(s,r.v7_relativeSplatPath));return y.useMemo(()=>Hv(t,JSON.parse(o),i,n==="path"),[t,o,i,n])}function _4(t,e){return E4(t,e)}function E4(t,e,n,r){ll()||ut(!1);let{navigator:s}=y.useContext(Ui),{matches:i}=y.useContext($i),o=i[i.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let u=cl(),d;if(e){var f;let x=typeof e=="string"?al(e):e;l==="/"||(f=x.pathname)!=null&&f.startsWith(l)||ut(!1),d=x}else d=u;let p=d.pathname||"/",g=p;if(l!=="/"){let x=l.replace(/^\//,"").split("/");g="/"+p.replace(/^\//,"").split("/").slice(x.length).join("/")}let S=KV(t,{pathname:g}),v=I4(S&&S.map(x=>Object.assign({},x,{params:Object.assign({},a,x.params),pathname:wi([l,s.encodeLocation?s.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?l:wi([l,s.encodeLocation?s.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),i,n,r);return e&&v?y.createElement(Af.Provider,{value:{location:$c({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:li.Pop}},v):v}function x4(){let t=P4(),e=m4(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return y.createElement(y.Fragment,null,y.createElement("h2",null,"Unexpected Application Error!"),y.createElement("h3",{style:{fontStyle:"italic"}},e),n?y.createElement("pre",{style:s},n):null,null)}const T4=y.createElement(x4,null);class S4 extends y.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?y.createElement($i.Provider,{value:this.props.routeContext},y.createElement(t1.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function b4(t){let{routeContext:e,match:n,children:r}=t,s=y.useContext(qv);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),y.createElement($i.Provider,{value:e},r)}function I4(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var i;if(!n)return null;if(n.errors)t=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(s=n)==null?void 0:s.errors;if(a!=null){let d=o.findIndex(f=>f.route.id&&(a==null?void 0:a[f.route.id])!==void 0);d>=0||ut(!1),o=o.slice(0,Math.min(o.length,d+1))}let l=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<o.length;d++){let f=o[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:p,errors:g}=n,S=f.route.loader&&p[f.route.id]===void 0&&(!g||g[f.route.id]===void 0);if(f.route.lazy||S){l=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,f,p)=>{let g,S=!1,v=null,x=null;n&&(g=a&&f.route.id?a[f.route.id]:void 0,v=f.route.errorElement||T4,l&&(u<0&&p===0?(k4("route-fallback"),S=!0,x=null):u===p&&(S=!0,x=f.route.hydrateFallbackElement||null)));let E=e.concat(o.slice(0,p+1)),w=()=>{let T;return g?T=v:S?T=x:f.route.Component?T=y.createElement(f.route.Component,null):f.route.element?T=f.route.element:T=d,y.createElement(b4,{match:f,routeContext:{outlet:d,matches:E,isDataRoute:n!=null},children:T})};return n&&(f.route.ErrorBoundary||f.route.errorElement||p===0)?y.createElement(S4,{location:n.location,revalidation:n.revalidation,component:v,error:g,children:w(),routeContext:{outlet:null,matches:E,isDataRoute:!0}}):w()},null)}var s1=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(s1||{}),i1=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(i1||{});function C4(t){let e=y.useContext(qv);return e||ut(!1),e}function A4(t){let e=y.useContext(y4);return e||ut(!1),e}function R4(t){let e=y.useContext($i);return e||ut(!1),e}function o1(t){let e=R4(),n=e.matches[e.matches.length-1];return n.route.id||ut(!1),n.route.id}function P4(){var t;let e=y.useContext(t1),n=A4(),r=o1();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function N4(){let{router:t}=C4(s1.UseNavigateStable),e=o1(i1.UseNavigateStable),n=y.useRef(!1);return n1(()=>{n.current=!0}),y.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,$c({fromRouteId:e},i)))},[t,e])}const FE={};function k4(t,e,n){FE[t]||(FE[t]=!0)}function O4(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function UE(t){let{to:e,replace:n,state:r,relative:s}=t;ll()||ut(!1);let{future:i,static:o}=y.useContext(Ui),{matches:a}=y.useContext($i),{pathname:l}=cl(),u=Rf(),d=Hv(e,Wv(a,i.v7_relativeSplatPath),l,s==="path"),f=JSON.stringify(d);return y.useEffect(()=>u(JSON.parse(f),{replace:n,state:r,relative:s}),[u,f,s,n,r]),null}function ss(t){ut(!1)}function D4(t){let{basename:e="/",children:n=null,location:r,navigationType:s=li.Pop,navigator:i,static:o=!1,future:a}=t;ll()&&ut(!1);let l=e.replace(/^\/*/,"/"),u=y.useMemo(()=>({basename:l,navigator:i,static:o,future:$c({v7_relativeSplatPath:!1},a)}),[l,a,i,o]);typeof r=="string"&&(r=al(r));let{pathname:d="/",search:f="",hash:p="",state:g=null,key:S="default"}=r,v=y.useMemo(()=>{let x=zv(d,l);return x==null?null:{location:{pathname:x,search:f,hash:p,state:g,key:S},navigationType:s}},[l,d,f,p,g,S,s]);return v==null?null:y.createElement(Ui.Provider,{value:u},y.createElement(Af.Provider,{children:n,value:v}))}function L4(t){let{children:e,location:n}=t;return _4(zg(e),n)}new Promise(()=>{});function zg(t,e){e===void 0&&(e=[]);let n=[];return y.Children.forEach(t,(r,s)=>{if(!y.isValidElement(r))return;let i=[...e,s];if(r.type===y.Fragment){n.push.apply(n,zg(r.props.children,i));return}r.type!==ss&&ut(!1),!r.props.index||!r.props.children||ut(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=zg(r.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Wg(){return Wg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Wg.apply(this,arguments)}function M4(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function j4(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function V4(t,e){return t.button===0&&(!e||e==="_self")&&!j4(t)}const F4=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],U4="6";try{window.__reactRouterVersion=U4}catch{}const $4="startTransition",$E=My[$4];function B4(t){let{basename:e,children:n,future:r,window:s}=t,i=y.useRef();i.current==null&&(i.current=HV({window:s,v5Compat:!0}));let o=i.current,[a,l]=y.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},d=y.useCallback(f=>{u&&$E?$E(()=>l(f)):l(f)},[l,u]);return y.useLayoutEffect(()=>o.listen(d),[o,d]),y.useEffect(()=>O4(r),[r]),y.createElement(D4,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const z4=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",W4=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ql=y.forwardRef(function(e,n){let{onClick:r,relative:s,reloadDocument:i,replace:o,state:a,target:l,to:u,preventScrollReset:d,viewTransition:f}=e,p=M4(e,F4),{basename:g}=y.useContext(Ui),S,v=!1;if(typeof u=="string"&&W4.test(u)&&(S=u,z4))try{let T=new URL(window.location.href),C=u.startsWith("//")?new URL(T.protocol+u):new URL(u),D=zv(C.pathname,g);C.origin===T.origin&&D!=null?u=D+C.search+C.hash:v=!0}catch{}let x=v4(u,{relative:s}),E=H4(u,{replace:o,state:a,target:l,preventScrollReset:d,relative:s,viewTransition:f});function w(T){r&&r(T),T.defaultPrevented||E(T)}return y.createElement("a",Wg({},p,{href:S||x,onClick:v||i?r:w,ref:n,target:l}))});var BE;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(BE||(BE={}));var zE;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(zE||(zE={}));function H4(t,e){let{target:n,replace:r,state:s,preventScrollReset:i,relative:o,viewTransition:a}=e===void 0?{}:e,l=Rf(),u=cl(),d=r1(t,{relative:o});return y.useCallback(f=>{if(V4(f,n)){f.preventDefault();let p=r!==void 0?r:Eh(u)===Eh(d);l(t,{replace:p,state:s,preventScrollReset:i,relative:o,viewTransition:a})}},[u,l,d,r,s,n,t,i,o,a])}const q4=()=>{};var WE={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a1=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},G4=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],a=t[n++],l=((s&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},l1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,a=o?t[s+1]:0,l=s+2<t.length,u=l?t[s+2]:0,d=i>>2,f=(i&3)<<4|a>>4;let p=(a&15)<<2|u>>6,g=u&63;l||(g=64,o||(p=64)),r.push(n[d],n[f],n[p],n[g])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(a1(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):G4(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const u=s<t.length?n[t.charAt(s)]:64;++s;const f=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||a==null||u==null||f==null)throw new K4;const p=i<<2|a>>4;if(r.push(p),u!==64){const g=a<<4&240|u>>2;if(r.push(g),f!==64){const S=u<<6&192|f;r.push(S)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class K4 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Q4=function(t){const e=a1(t);return l1.encodeByteArray(e,!0)},xh=function(t){return Q4(t).replace(/\./g,"")},c1=function(t){try{return l1.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y4(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X4=()=>Y4().__FIREBASE_DEFAULTS__,J4=()=>{if(typeof process>"u"||typeof WE>"u")return;const t=WE.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Z4=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&c1(t[1]);return e&&JSON.parse(e)},Pf=()=>{try{return q4()||X4()||J4()||Z4()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},u1=t=>{var e,n;return(n=(e=Pf())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},Gv=t=>{const e=u1(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},d1=()=>{var t;return(t=Pf())==null?void 0:t.config},h1=t=>{var e;return(e=Pf())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eF{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zr(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Nf(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f1(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}},...t};return[xh(JSON.stringify(n)),xh(JSON.stringify(o)),""].join(".")}const dc={};function tF(){const t={prod:[],emulator:[]};for(const e of Object.keys(dc))dc[e]?t.emulator.push(e):t.prod.push(e);return t}function nF(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let HE=!1;function kf(t,e){if(typeof window>"u"||typeof document>"u"||!Zr(window.location.host)||dc[t]===e||dc[t]||HE)return;dc[t]=e;function n(p){return`__firebase__banner__${p}`}const r="__firebase__banner",i=tF().prod.length>0;function o(){const p=document.getElementById(r);p&&p.remove()}function a(p){p.style.display="flex",p.style.background="#7faaf0",p.style.position="fixed",p.style.bottom="5px",p.style.left="5px",p.style.padding=".5em",p.style.borderRadius="5px",p.style.alignItems="center"}function l(p,g){p.setAttribute("width","24"),p.setAttribute("id",g),p.setAttribute("height","24"),p.setAttribute("viewBox","0 0 24 24"),p.setAttribute("fill","none"),p.style.marginLeft="-6px"}function u(){const p=document.createElement("span");return p.style.cursor="pointer",p.style.marginLeft="16px",p.style.fontSize="24px",p.innerHTML=" &times;",p.onclick=()=>{HE=!0,o()},p}function d(p,g){p.setAttribute("id",g),p.innerText="Learn more",p.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",p.setAttribute("target","__blank"),p.style.paddingLeft="5px",p.style.textDecoration="underline"}function f(){const p=nF(r),g=n("text"),S=document.getElementById(g)||document.createElement("span"),v=n("learnmore"),x=document.getElementById(v)||document.createElement("a"),E=n("preprendIcon"),w=document.getElementById(E)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(p.created){const T=p.element;a(T),d(x,v);const C=u();l(w,E),T.append(w,S,x,C),document.body.appendChild(T)}i?(S.innerText="Preview backend disconnected.",w.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(w.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,S.innerText="Preview backend running in this workspace."),S.setAttribute("id",g)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function rF(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Kt())}function sF(){var e;const t=(e=Pf())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function iF(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function p1(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function oF(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function aF(){const t=Kt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function lF(){return!sF()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function m1(){try{return typeof indexedDB=="object"}catch{return!1}}function g1(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)==null?void 0:i.message)||"")}}catch(n){e(n)}})}function cF(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uF="FirebaseError";class Ln extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=uF,Object.setPrototypeOf(this,Ln.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Vo.prototype.create)}}class Vo{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?dF(i,r):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new Ln(s,a,r)}}function dF(t,e){return t.replace(hF,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const hF=/\{\$([^}]+)}/g;function fF(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Ai(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(qE(i)&&qE(o)){if(!Ai(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function qE(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uu(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Gl(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,i]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(i)}}),e}function Kl(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function pF(t,e){const n=new mF(t,e);return n.subscribe.bind(n)}class mF{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");gF(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=cm),s.error===void 0&&(s.error=cm),s.complete===void 0&&(s.complete=cm);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function gF(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function cm(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yF=1e3,vF=2,wF=4*60*60*1e3,_F=.5;function GE(t,e=yF,n=vF){const r=e*Math.pow(n,t),s=Math.round(_F*r*(Math.random()-.5)*2);return Math.min(wF,r+s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function We(t){return t&&t._delegate?t._delegate:t}class kn{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ji="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EF{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new eF;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(TF(e))try{this.getOrInitializeService({instanceIdentifier:Ji})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=Ji){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ji){return this.instances.has(e)}getOptions(e=Ji){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&o.resolve(s)}return s}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),s=this.onInitCallbacks.get(r)??new Set;s.add(e),this.onInitCallbacks.set(r,s);const i=this.instances.get(r);return i&&e(i,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:xF(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ji){return this.component?this.component.multipleInstances?e:Ji:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function xF(t){return t===Ji?void 0:t}function TF(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SF{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new EF(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(xe||(xe={}));const bF={debug:xe.DEBUG,verbose:xe.VERBOSE,info:xe.INFO,warn:xe.WARN,error:xe.ERROR,silent:xe.SILENT},IF=xe.INFO,CF={[xe.DEBUG]:"log",[xe.VERBOSE]:"log",[xe.INFO]:"info",[xe.WARN]:"warn",[xe.ERROR]:"error"},AF=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=CF[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Of{constructor(e){this.name=e,this._logLevel=IF,this._logHandler=AF,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in xe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?bF[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,xe.DEBUG,...e),this._logHandler(this,xe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,xe.VERBOSE,...e),this._logHandler(this,xe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,xe.INFO,...e),this._logHandler(this,xe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,xe.WARN,...e),this._logHandler(this,xe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,xe.ERROR,...e),this._logHandler(this,xe.ERROR,...e)}}const RF=(t,e)=>e.some(n=>t instanceof n);let KE,QE;function PF(){return KE||(KE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function NF(){return QE||(QE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const y1=new WeakMap,Hg=new WeakMap,v1=new WeakMap,um=new WeakMap,Kv=new WeakMap;function kF(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(_i(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&y1.set(n,t)}).catch(()=>{}),Kv.set(e,t),e}function OF(t){if(Hg.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});Hg.set(t,e)}let qg={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Hg.get(t);if(e==="objectStoreNames")return t.objectStoreNames||v1.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return _i(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function DF(t){qg=t(qg)}function LF(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(dm(this),e,...n);return v1.set(r,e.sort?e.sort():[e]),_i(r)}:NF().includes(t)?function(...e){return t.apply(dm(this),e),_i(y1.get(this))}:function(...e){return _i(t.apply(dm(this),e))}}function MF(t){return typeof t=="function"?LF(t):(t instanceof IDBTransaction&&OF(t),RF(t,PF())?new Proxy(t,qg):t)}function _i(t){if(t instanceof IDBRequest)return kF(t);if(um.has(t))return um.get(t);const e=MF(t);return e!==t&&(um.set(t,e),Kv.set(e,t)),e}const dm=t=>Kv.get(t);function w1(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),a=_i(o);return r&&o.addEventListener("upgradeneeded",l=>{r(_i(o.result),l.oldVersion,l.newVersion,_i(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{i&&l.addEventListener("close",()=>i()),s&&l.addEventListener("versionchange",u=>s(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const jF=["get","getKey","getAll","getAllKeys","count"],VF=["put","add","delete","clear"],hm=new Map;function YE(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(hm.get(e))return hm.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=VF.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||jF.includes(n)))return;const i=async function(o,...a){const l=this.transaction(o,s?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),s&&l.done]))[0]};return hm.set(e,i),i}DF(t=>({...t,get:(e,n,r)=>YE(e,n)||t.get(e,n,r),has:(e,n)=>!!YE(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FF{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(UF(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function UF(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Gg="@firebase/app",XE="0.14.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Es=new Of("@firebase/app"),$F="@firebase/app-compat",BF="@firebase/analytics-compat",zF="@firebase/analytics",WF="@firebase/app-check-compat",HF="@firebase/app-check",qF="@firebase/auth",GF="@firebase/auth-compat",KF="@firebase/database",QF="@firebase/data-connect",YF="@firebase/database-compat",XF="@firebase/functions",JF="@firebase/functions-compat",ZF="@firebase/installations",e6="@firebase/installations-compat",t6="@firebase/messaging",n6="@firebase/messaging-compat",r6="@firebase/performance",s6="@firebase/performance-compat",i6="@firebase/remote-config",o6="@firebase/remote-config-compat",a6="@firebase/storage",l6="@firebase/storage-compat",c6="@firebase/firestore",u6="@firebase/ai",d6="@firebase/firestore-compat",h6="firebase",f6="12.3.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kg="[DEFAULT]",p6={[Gg]:"fire-core",[$F]:"fire-core-compat",[zF]:"fire-analytics",[BF]:"fire-analytics-compat",[HF]:"fire-app-check",[WF]:"fire-app-check-compat",[qF]:"fire-auth",[GF]:"fire-auth-compat",[KF]:"fire-rtdb",[QF]:"fire-data-connect",[YF]:"fire-rtdb-compat",[XF]:"fire-fn",[JF]:"fire-fn-compat",[ZF]:"fire-iid",[e6]:"fire-iid-compat",[t6]:"fire-fcm",[n6]:"fire-fcm-compat",[r6]:"fire-perf",[s6]:"fire-perf-compat",[i6]:"fire-rc",[o6]:"fire-rc-compat",[a6]:"fire-gcs",[l6]:"fire-gcs-compat",[c6]:"fire-fst",[d6]:"fire-fst-compat",[u6]:"fire-vertex","fire-js":"fire-js",[h6]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Th=new Map,m6=new Map,Qg=new Map;function JE(t,e){try{t.container.addComponent(e)}catch(n){Es.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Qn(t){const e=t.name;if(Qg.has(e))return Es.debug(`There were multiple attempts to register component ${e}.`),!1;Qg.set(e,t);for(const n of Th.values())JE(n,t);for(const n of m6.values())JE(n,t);return!0}function As(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Ht(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g6={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ei=new Vo("app","Firebase",g6);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y6{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new kn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ei.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fo=f6;function _1(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:Kg,automaticDataCollectionEnabled:!0,...e},s=r.name;if(typeof s!="string"||!s)throw Ei.create("bad-app-name",{appName:String(s)});if(n||(n=d1()),!n)throw Ei.create("no-options");const i=Th.get(s);if(i){if(Ai(n,i.options)&&Ai(r,i.config))return i;throw Ei.create("duplicate-app",{appName:s})}const o=new SF(s);for(const l of Qg.values())o.addComponent(l);const a=new y6(n,r,o);return Th.set(s,a),a}function du(t=Kg){const e=Th.get(t);if(!e&&t===Kg&&d1())return _1();if(!e)throw Ei.create("no-app",{appName:t});return e}function qt(t,e,n){let r=p6[t]??t;n&&(r+=`-${n}`);const s=r.match(/\s|\//),i=e.match(/\s|\//);if(s||i){const o=[`Unable to register library "${r}" with version "${e}":`];s&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&i&&o.push("and"),i&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Es.warn(o.join(" "));return}Qn(new kn(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v6="firebase-heartbeat-database",w6=1,Bc="firebase-heartbeat-store";let fm=null;function E1(){return fm||(fm=w1(v6,w6,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Bc)}catch(n){console.warn(n)}}}}).catch(t=>{throw Ei.create("idb-open",{originalErrorMessage:t.message})})),fm}async function _6(t){try{const n=(await E1()).transaction(Bc),r=await n.objectStore(Bc).get(x1(t));return await n.done,r}catch(e){if(e instanceof Ln)Es.warn(e.message);else{const n=Ei.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Es.warn(n.message)}}}async function ZE(t,e){try{const r=(await E1()).transaction(Bc,"readwrite");await r.objectStore(Bc).put(e,x1(t)),await r.done}catch(n){if(n instanceof Ln)Es.warn(n.message);else{const r=Ei.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Es.warn(r.message)}}}function x1(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E6=1024,x6=30;class T6{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new b6(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=ex();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats.length>x6){const o=I6(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Es.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=ex(),{heartbeatsToSend:r,unsentEntries:s}=S6(this._heartbeatsCache.heartbeats),i=xh(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return Es.warn(n),""}}}function ex(){return new Date().toISOString().substring(0,10)}function S6(t,e=E6){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),tx(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),tx(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class b6{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return m1()?g1().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await _6(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return ZE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return ZE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function tx(t){return xh(JSON.stringify({version:2,heartbeats:t})).length}function I6(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C6(t){Qn(new kn("platform-logger",e=>new FF(e),"PRIVATE")),Qn(new kn("heartbeat",e=>new T6(e),"PRIVATE")),qt(Gg,XE,t),qt(Gg,XE,"esm2020"),qt("fire-js","")}C6("");function T1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const A6=T1,S1=new Vo("auth","Firebase",T1());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sh=new Of("@firebase/auth");function R6(t,...e){Sh.logLevel<=xe.WARN&&Sh.warn(`Auth (${Fo}): ${t}`,...e)}function Od(t,...e){Sh.logLevel<=xe.ERROR&&Sh.error(`Auth (${Fo}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yn(t,...e){throw Yv(t,...e)}function pr(t,...e){return Yv(t,...e)}function Qv(t,e,n){const r={...A6(),[e]:n};return new Vo("auth","Firebase",r).create(e,{appName:t.name})}function Wr(t){return Qv(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function b1(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Yn(t,"argument-error"),Qv(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Yv(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return S1.create(t,...e)}function he(t,e,...n){if(!t)throw Yv(e,...n)}function ds(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Od(e),new Error(e)}function xs(t,e){t||ds(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yg(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function P6(){return nx()==="http:"||nx()==="https:"}function nx(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N6(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(P6()||p1()||"connection"in navigator)?navigator.onLine:!0}function k6(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hu{constructor(e,n){this.shortDelay=e,this.longDelay=n,xs(n>e,"Short delay should be less than long delay!"),this.isMobile=rF()||oF()}get(){return N6()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xv(t,e){xs(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I1{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ds("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ds("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ds("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O6={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D6=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],L6=new hu(3e4,6e4);function Rs(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Ps(t,e,n,r,s={}){return C1(t,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const a=uu({key:t.config.apiKey,...o}).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const u={method:e,headers:l,...i};return iF()||(u.referrerPolicy="no-referrer"),t.emulatorConfig&&Zr(t.emulatorConfig.host)&&(u.credentials="include"),I1.fetch()(await A1(t,t.config.apiHost,n,a),u)})}async function C1(t,e,n){t._canInitEmulator=!1;const r={...O6,...e};try{const s=new j6(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw id(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const a=i.ok?o.errorMessage:o.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw id(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw id(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw id(t,"user-disabled",o);const d=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw Qv(t,d,u);Yn(t,d)}}catch(s){if(s instanceof Ln)throw s;Yn(t,"network-request-failed",{message:String(s)})}}async function fu(t,e,n,r,s={}){const i=await Ps(t,e,n,r,s);return"mfaPendingCredential"in i&&Yn(t,"multi-factor-auth-required",{_serverResponse:i}),i}async function A1(t,e,n,r){const s=`${e}${n}?${r}`,i=t,o=i.config.emulator?Xv(t.config,s):`${t.config.apiScheme}://${s}`;return D6.includes(n)&&(await i._persistenceManagerAvailable,i._getPersistenceType()==="COOKIE")?i._getPersistence()._getFinalTarget(o).toString():o}function M6(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class j6{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(pr(this.auth,"network-request-failed")),L6.get())})}}function id(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=pr(t,e,r);return s.customData._tokenResponse=n,s}function rx(t){return t!==void 0&&t.enterprise!==void 0}class V6{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return M6(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function F6(t,e){return Ps(t,"GET","/v2/recaptchaConfig",Rs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function U6(t,e){return Ps(t,"POST","/v1/accounts:delete",e)}async function bh(t,e){return Ps(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function $6(t,e=!1){const n=We(t),r=await n.getIdToken(e),s=Jv(r);he(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:hc(pm(s.auth_time)),issuedAtTime:hc(pm(s.iat)),expirationTime:hc(pm(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function pm(t){return Number(t)*1e3}function Jv(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Od("JWT malformed, contained fewer than 3 sections"),null;try{const s=c1(n);return s?JSON.parse(s):(Od("Failed to decode base64 JWT payload"),null)}catch(s){return Od("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function sx(t){const e=Jv(t);return he(e,"internal-error"),he(typeof e.exp<"u","internal-error"),he(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zc(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Ln&&B6(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function B6({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z6{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xg{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=hc(this.lastLoginAt),this.creationTime=hc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ih(t){var f;const e=t.auth,n=await t.getIdToken(),r=await zc(t,bh(e,{idToken:n}));he(r==null?void 0:r.users.length,e,"internal-error");const s=r.users[0];t._notifyReloadListener(s);const i=(f=s.providerUserInfo)!=null&&f.length?R1(s.providerUserInfo):[],o=H6(t.providerData,i),a=t.isAnonymous,l=!(t.email&&s.passwordHash)&&!(o!=null&&o.length),u=a?l:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new Xg(s.createdAt,s.lastLoginAt),isAnonymous:u};Object.assign(t,d)}async function W6(t){const e=We(t);await Ih(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function H6(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function R1(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function q6(t,e){const n=await C1(t,{},async()=>{const r=uu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=await A1(t,s,"/v1/token",`key=${i}`),a=await t._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:a,body:r};return t.emulatorConfig&&Zr(t.emulatorConfig.host)&&(l.credentials="include"),I1.fetch()(o,l)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function G6(t,e){return Ps(t,"POST","/v2/accounts:revokeToken",Rs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){he(e.idToken,"internal-error"),he(typeof e.idToken<"u","internal-error"),he(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):sx(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){he(e.length!==0,"internal-error");const n=sx(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(he(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await q6(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new Sa;return r&&(he(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(he(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(he(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Sa,this.toJSON())}_performRefresh(){return ds("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zs(t,e){he(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ur{constructor({uid:e,auth:n,stsTokenManager:r,...s}){this.providerId="firebase",this.proactiveRefresh=new z6(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Xg(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await zc(this,this.stsTokenManager.getToken(this.auth,e));return he(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return $6(this,e)}reload(){return W6(this)}_assign(e){this!==e&&(he(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ur({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){he(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Ih(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ht(this.auth.app))return Promise.reject(Wr(this.auth));const e=await this.getIdToken();return await zc(this,U6(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,s=n.email??void 0,i=n.phoneNumber??void 0,o=n.photoURL??void 0,a=n.tenantId??void 0,l=n._redirectEventId??void 0,u=n.createdAt??void 0,d=n.lastLoginAt??void 0,{uid:f,emailVerified:p,isAnonymous:g,providerData:S,stsTokenManager:v}=n;he(f&&v,e,"internal-error");const x=Sa.fromJSON(this.name,v);he(typeof f=="string",e,"internal-error"),zs(r,e.name),zs(s,e.name),he(typeof p=="boolean",e,"internal-error"),he(typeof g=="boolean",e,"internal-error"),zs(i,e.name),zs(o,e.name),zs(a,e.name),zs(l,e.name),zs(u,e.name),zs(d,e.name);const E=new ur({uid:f,auth:e,email:s,emailVerified:p,displayName:r,isAnonymous:g,photoURL:o,phoneNumber:i,tenantId:a,stsTokenManager:x,createdAt:u,lastLoginAt:d});return S&&Array.isArray(S)&&(E.providerData=S.map(w=>({...w}))),l&&(E._redirectEventId=l),E}static async _fromIdTokenResponse(e,n,r=!1){const s=new Sa;s.updateFromServerResponse(n);const i=new ur({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await Ih(i),i}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];he(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?R1(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),a=new Sa;a.updateFromIdToken(r);const l=new ur({uid:s.localId,auth:e,stsTokenManager:a,isAnonymous:o}),u={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new Xg(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ix=new Map;function hs(t){xs(t instanceof Function,"Expected a class definition");let e=ix.get(t);return e?(xs(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,ix.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P1{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}P1.type="NONE";const ox=P1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dd(t,e,n){return`firebase:${t}:${e}:${n}`}class ba{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=Dd(this.userKey,s.apiKey,i),this.fullPersistenceKey=Dd("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await bh(this.auth,{idToken:e}).catch(()=>{});return n?ur._fromGetAccountInfoResponse(this.auth,n,e):null}return ur._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new ba(hs(ox),e,r);const s=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let i=s[0]||hs(ox);const o=Dd(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const d=await u._get(o);if(d){let f;if(typeof d=="string"){const p=await bh(e,{idToken:d}).catch(()=>{});if(!p)break;f=await ur._fromGetAccountInfoResponse(e,p,d)}else f=ur._fromJSON(e,d);u!==i&&(a=f),i=u;break}}catch{}const l=s.filter(u=>u._shouldAllowMigration);return!i._shouldAllowMigration||!l.length?new ba(i,e,r):(i=l[0],a&&await i._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==i)try{await u._remove(o)}catch{}})),new ba(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ax(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(D1(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(N1(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(M1(e))return"Blackberry";if(j1(e))return"Webos";if(k1(e))return"Safari";if((e.includes("chrome/")||O1(e))&&!e.includes("edge/"))return"Chrome";if(L1(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function N1(t=Kt()){return/firefox\//i.test(t)}function k1(t=Kt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function O1(t=Kt()){return/crios\//i.test(t)}function D1(t=Kt()){return/iemobile/i.test(t)}function L1(t=Kt()){return/android/i.test(t)}function M1(t=Kt()){return/blackberry/i.test(t)}function j1(t=Kt()){return/webos/i.test(t)}function Zv(t=Kt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function K6(t=Kt()){var e;return Zv(t)&&!!((e=window.navigator)!=null&&e.standalone)}function Q6(){return aF()&&document.documentMode===10}function V1(t=Kt()){return Zv(t)||L1(t)||j1(t)||M1(t)||/windows phone/i.test(t)||D1(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F1(t,e=[]){let n;switch(t){case"Browser":n=ax(Kt());break;case"Worker":n=`${ax(Kt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Fo}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y6{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((o,a)=>{try{const l=e(i);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function X6(t,e={}){return Ps(t,"GET","/v2/passwordPolicy",Rs(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J6=6;class Z6{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??J6,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eU{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new lx(this),this.idTokenSubscription=new lx(this),this.beforeStateQueue=new Y6(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=S1,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(i=>this._resolvePersistenceManagerAvailable=i)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=hs(n)),this._initializationPromise=this.queue(async()=>{var r,s,i;if(!this._deleted&&(this.persistenceManager=await ba.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((s=this._popupRedirectResolver)!=null&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)==null?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await bh(this,{idToken:e}),r=await ur._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var i;if(Ht(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(i=this.redirectUser)==null?void 0:i._redirectEventId,a=r==null?void 0:r._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(r=l.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return he(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Ih(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=k6()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ht(this.app))return Promise.reject(Wr(this));const n=e?We(e):null;return n&&he(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&he(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Ht(this.app)?Promise.reject(Wr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ht(this.app)?Promise.reject(Wr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(hs(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await X6(this),n=new Z6(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Vo("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await G6(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&hs(e)||this._popupRedirectResolver;he(n,this,"argument-error"),this.redirectPersistenceManager=await ba.create(this,[hs(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(he(a,this,"internal-error"),a.then(()=>{o||i(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,s);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return he(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=F1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var s;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((s=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:s.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(Ht(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&R6(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Er(t){return We(t)}class lx{constructor(e){this.auth=e,this.observer=null,this.addObserver=pF(n=>this.observer=n)}get next(){return he(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Df={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function tU(t){Df=t}function U1(t){return Df.loadJS(t)}function nU(){return Df.recaptchaEnterpriseScript}function rU(){return Df.gapiScript}function sU(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class iU{constructor(){this.enterprise=new oU}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class oU{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const aU="recaptcha-enterprise",$1="NO_RECAPTCHA";class lU{constructor(e){this.type=aU,this.auth=Er(e)}async verify(e="verify",n=!1){async function r(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(o,a)=>{F6(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new V6(l);return i.tenantId==null?i._agentRecaptchaConfig=u:i._tenantRecaptchaConfigs[i.tenantId]=u,o(u.siteKey)}}).catch(l=>{a(l)})})}function s(i,o,a){const l=window.grecaptcha;rx(l)?l.enterprise.ready(()=>{l.enterprise.execute(i,{action:e}).then(u=>{o(u)}).catch(()=>{o($1)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new iU().execute("siteKey",{action:"verify"}):new Promise((i,o)=>{r(this.auth).then(a=>{if(!n&&rx(window.grecaptcha))s(a,i,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=nU();l.length!==0&&(l+=a),U1(l).then(()=>{s(a,i,o)}).catch(u=>{o(u)})}}).catch(a=>{o(a)})})}}async function cx(t,e,n,r=!1,s=!1){const i=new lU(t);let o;if(s)o=$1;else try{o=await i.verify(n)}catch{o=await i.verify(n,!0)}const a={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){const l=a.phoneEnrollmentInfo.phoneNumber,u=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:u,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const l=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function Ch(t,e,n,r,s){var i;if((i=t._getRecaptchaConfig())!=null&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await cx(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await cx(t,e,n,n==="getOobCode");return r(t,a)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cU(t,e){const n=As(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(Ai(i,e??{}))return s;Yn(s,"already-initialized")}return n.initialize({options:e})}function uU(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(hs);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function dU(t,e,n){const r=Er(t);he(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,i=B1(e),{host:o,port:a}=hU(e),l=a===null?"":`:${a}`,u={url:`${i}//${o}${l}/`},d=Object.freeze({host:o,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){he(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),he(Ai(u,r.config.emulator)&&Ai(d,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=u,r.emulatorConfig=d,r.settings.appVerificationDisabledForTesting=!0,Zr(o)?(Nf(`${i}//${o}${l}`),kf("Auth",!0)):fU()}function B1(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function hU(t){const e=B1(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:ux(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:ux(o)}}}function ux(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function fU(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ew{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ds("not implemented")}_getIdTokenResponse(e){return ds("not implemented")}_linkToIdToken(e,n){return ds("not implemented")}_getReauthenticationResolver(e){return ds("not implemented")}}async function pU(t,e){return Ps(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mU(t,e){return fu(t,"POST","/v1/accounts:signInWithPassword",Rs(t,e))}async function gU(t,e){return Ps(t,"POST","/v1/accounts:sendOobCode",Rs(t,e))}async function yU(t,e){return gU(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vU(t,e){return fu(t,"POST","/v1/accounts:signInWithEmailLink",Rs(t,e))}async function wU(t,e){return fu(t,"POST","/v1/accounts:signInWithEmailLink",Rs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wc extends ew{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new Wc(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Wc(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ch(e,n,"signInWithPassword",mU);case"emailLink":return vU(e,{email:this._email,oobCode:this._password});default:Yn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ch(e,r,"signUpPassword",pU);case"emailLink":return wU(e,{idToken:n,email:this._email,oobCode:this._password});default:Yn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ia(t,e){return fu(t,"POST","/v1/accounts:signInWithIdp",Rs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _U="http://localhost";class So extends ew{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new So(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Yn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s,...i}=n;if(!r||!s)return null;const o=new So(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Ia(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Ia(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Ia(e,n)}buildRequest(){const e={requestUri:_U,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=uu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EU(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function xU(t){const e=Gl(Kl(t)).link,n=e?Gl(Kl(e)).deep_link_id:null,r=Gl(Kl(t)).deep_link_id;return(r?Gl(Kl(r)).link:null)||r||n||e||t}class tw{constructor(e){const n=Gl(Kl(e)),r=n.apiKey??null,s=n.oobCode??null,i=EU(n.mode??null);he(r&&s&&i,"argument-error"),this.apiKey=r,this.operation=i,this.code=s,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=xU(e);try{return new tw(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ul{constructor(){this.providerId=ul.PROVIDER_ID}static credential(e,n){return Wc._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=tw.parseLink(n);return he(r,"argument-error"),Wc._fromEmailAndCode(e,r.code,r.tenantId)}}ul.PROVIDER_ID="password";ul.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ul.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lf{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pu extends Lf{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ys extends pu{constructor(){super("facebook.com")}static credential(e){return So._fromParams({providerId:Ys.PROVIDER_ID,signInMethod:Ys.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ys.credentialFromTaggedObject(e)}static credentialFromError(e){return Ys.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ys.credential(e.oauthAccessToken)}catch{return null}}}Ys.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ys.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jr extends pu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return So._fromParams({providerId:jr.PROVIDER_ID,signInMethod:jr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return jr.credentialFromTaggedObject(e)}static credentialFromError(e){return jr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return jr.credential(n,r)}catch{return null}}}jr.GOOGLE_SIGN_IN_METHOD="google.com";jr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xs extends pu{constructor(){super("github.com")}static credential(e){return So._fromParams({providerId:Xs.PROVIDER_ID,signInMethod:Xs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Xs.credentialFromTaggedObject(e)}static credentialFromError(e){return Xs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Xs.credential(e.oauthAccessToken)}catch{return null}}}Xs.GITHUB_SIGN_IN_METHOD="github.com";Xs.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Js extends pu{constructor(){super("twitter.com")}static credential(e,n){return So._fromParams({providerId:Js.PROVIDER_ID,signInMethod:Js.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Js.credentialFromTaggedObject(e)}static credentialFromError(e){return Js.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Js.credential(n,r)}catch{return null}}}Js.TWITTER_SIGN_IN_METHOD="twitter.com";Js.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TU(t,e){return fu(t,"POST","/v1/accounts:signUp",Rs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await ur._fromIdTokenResponse(e,r,s),o=dx(r);return new bo({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=dx(r);return new bo({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function dx(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ah extends Ln{constructor(e,n,r,s){super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,Ah.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new Ah(e,n,r,s)}}function z1(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?Ah._fromErrorAndOperation(t,i,e,r):i})}async function SU(t,e,n=!1){const r=await zc(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return bo._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bU(t,e,n=!1){const{auth:r}=t;if(Ht(r.app))return Promise.reject(Wr(r));const s="reauthenticate";try{const i=await zc(t,z1(r,s,e,t),n);he(i.idToken,r,"internal-error");const o=Jv(i.idToken);he(o,r,"internal-error");const{sub:a}=o;return he(t.uid===a,r,"user-mismatch"),bo._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&Yn(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function W1(t,e,n=!1){if(Ht(t.app))return Promise.reject(Wr(t));const r="signIn",s=await z1(t,r,e),i=await bo._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}async function IU(t,e){return W1(Er(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function H1(t){const e=Er(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function CU(t,e,n){const r=Er(t);await Ch(r,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",yU)}async function q1(t,e,n){if(Ht(t.app))return Promise.reject(Wr(t));const r=Er(t),o=await Ch(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",TU).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&H1(t),l}),a=await bo._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function AU(t,e,n){return Ht(t.app)?Promise.reject(Wr(t)):IU(We(t),ul.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&H1(t),r})}function RU(t,e,n,r){return We(t).onIdTokenChanged(e,n,r)}function PU(t,e,n){return We(t).beforeAuthStateChanged(e,n)}function NU(t,e,n,r){return We(t).onAuthStateChanged(e,n,r)}function kU(t){return We(t).signOut()}const Rh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G1{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Rh,"1"),this.storage.removeItem(Rh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OU=1e3,DU=10;class K1 extends G1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=V1(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);Q6()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,DU):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},OU)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}K1.type="LOCAL";const LU=K1;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q1 extends G1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}Q1.type="SESSION";const Y1=Q1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MU(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new Mf(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const a=Array.from(o).map(async u=>u(n.origin,i)),l=await MU(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Mf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nw(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jU{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((a,l)=>{const u=nw("",20);s.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(f){const p=f;if(p.data.eventId===u)switch(p.data.status){case"ack":clearTimeout(d),i=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(p.data.response);break;default:clearTimeout(d),clearTimeout(i),l(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hr(){return window}function VU(t){Hr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X1(){return typeof Hr().WorkerGlobalScope<"u"&&typeof Hr().importScripts=="function"}async function FU(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function UU(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function $U(){return X1()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J1="firebaseLocalStorageDb",BU=1,Ph="firebaseLocalStorage",Z1="fbase_key";class mu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function jf(t,e){return t.transaction([Ph],e?"readwrite":"readonly").objectStore(Ph)}function zU(){const t=indexedDB.deleteDatabase(J1);return new mu(t).toPromise()}function Jg(){const t=indexedDB.open(J1,BU);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Ph,{keyPath:Z1})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Ph)?e(r):(r.close(),await zU(),e(await Jg()))})})}async function hx(t,e,n){const r=jf(t,!0).put({[Z1]:e,value:n});return new mu(r).toPromise()}async function WU(t,e){const n=jf(t,!1).get(e),r=await new mu(n).toPromise();return r===void 0?null:r.value}function fx(t,e){const n=jf(t,!0).delete(e);return new mu(n).toPromise()}const HU=800,qU=3;class eA{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Jg(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>qU)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return X1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Mf._getInstance($U()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await FU(),!this.activeServiceWorker)return;this.sender=new jU(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||UU()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Jg();return await hx(e,Rh,"1"),await fx(e,Rh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>hx(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>WU(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>fx(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=jf(s,!1).getAll();return new mu(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),HU)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}eA.type="LOCAL";const GU=eA;new hu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rw(t,e){return e?hs(e):(he(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sw extends ew{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ia(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ia(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ia(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function KU(t){return W1(t.auth,new sw(t),t.bypassAuthState)}function QU(t){const{auth:e,user:n}=t;return he(n,e,"internal-error"),bU(n,new sw(t),t.bypassAuthState)}async function YU(t){const{auth:e,user:n}=t;return he(n,e,"internal-error"),SU(n,new sw(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tA{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return KU;case"linkViaPopup":case"linkViaRedirect":return YU;case"reauthViaPopup":case"reauthViaRedirect":return QU;default:Yn(this.auth,"internal-error")}}resolve(e){xs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){xs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XU=new hu(2e3,1e4);async function JU(t,e,n){if(Ht(t.app))return Promise.reject(pr(t,"operation-not-supported-in-this-environment"));const r=Er(t);b1(t,e,Lf);const s=rw(r,n);return new no(r,"signInViaPopup",e,s).executeNotNull()}class no extends tA{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,no.currentPopupAction&&no.currentPopupAction.cancel(),no.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return he(e,this.auth,"internal-error"),e}async onExecution(){xs(this.filter.length===1,"Popup operations only handle one event");const e=nw();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(pr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(pr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,no.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(pr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,XU.get())};e()}}no.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZU="pendingRedirect",Ld=new Map;class e3 extends tA{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Ld.get(this.auth._key());if(!e){try{const r=await t3(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Ld.set(this.auth._key(),e)}return this.bypassAuthState||Ld.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function t3(t,e){const n=rA(e),r=nA(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}async function n3(t,e){return nA(t)._set(rA(e),"true")}function r3(t,e){Ld.set(t._key(),e)}function nA(t){return hs(t._redirectPersistence)}function rA(t){return Dd(ZU,t.config.apiKey,t.name)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s3(t,e,n){return i3(t,e,n)}async function i3(t,e,n){if(Ht(t.app))return Promise.reject(Wr(t));const r=Er(t);b1(t,e,Lf),await r._initializationPromise;const s=rw(r,n);return await n3(s,r),s._openRedirect(r,e,"signInViaRedirect")}async function o3(t,e){return await Er(t)._initializationPromise,sA(t,e,!1)}async function sA(t,e,n=!1){if(Ht(t.app))return Promise.reject(Wr(t));const r=Er(t),s=rw(r,e),o=await new e3(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a3=10*60*1e3;class l3{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!c3(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!iA(e)){const s=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(pr(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=a3&&this.cachedEventUids.clear(),this.cachedEventUids.has(px(e))}saveEventToCache(e){this.cachedEventUids.add(px(e)),this.lastProcessedEventTime=Date.now()}}function px(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function iA({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function c3(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return iA(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function u3(t,e={}){return Ps(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d3=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,h3=/^https?/;async function f3(t){if(t.config.emulator)return;const{authorizedDomains:e}=await u3(t);for(const n of e)try{if(p3(n))return}catch{}Yn(t,"unauthorized-domain")}function p3(t){const e=Yg(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!h3.test(n))return!1;if(d3.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m3=new hu(3e4,6e4);function mx(){const t=Hr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function g3(t){return new Promise((e,n)=>{var s,i,o;function r(){mx(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{mx(),n(pr(t,"network-request-failed"))},timeout:m3.get()})}if((i=(s=Hr().gapi)==null?void 0:s.iframes)!=null&&i.Iframe)e(gapi.iframes.getContext());else if((o=Hr().gapi)!=null&&o.load)r();else{const a=sU("iframefcb");return Hr()[a]=()=>{gapi.load?r():n(pr(t,"network-request-failed"))},U1(`${rU()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Md=null,e})}let Md=null;function y3(t){return Md=Md||g3(t),Md}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v3=new hu(5e3,15e3),w3="__/auth/iframe",_3="emulator/auth/iframe",E3={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},x3=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function T3(t){const e=t.config;he(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Xv(e,_3):`https://${t.config.authDomain}/${w3}`,r={apiKey:e.apiKey,appName:t.name,v:Fo},s=x3.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${uu(r).slice(1)}`}async function S3(t){const e=await y3(t),n=Hr().gapi;return he(n,t,"internal-error"),e.open({where:document.body,url:T3(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:E3,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=pr(t,"network-request-failed"),a=Hr().setTimeout(()=>{i(o)},v3.get());function l(){Hr().clearTimeout(a),s(r)}r.ping(l).then(l,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b3={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},I3=500,C3=600,A3="_blank",R3="http://localhost";class gx{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function P3(t,e,n,r=I3,s=C3){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l={...b3,width:r.toString(),height:s.toString(),top:i,left:o},u=Kt().toLowerCase();n&&(a=O1(u)?A3:n),N1(u)&&(e=e||R3,l.scrollbars="yes");const d=Object.entries(l).reduce((p,[g,S])=>`${p}${g}=${S},`,"");if(K6(u)&&a!=="_self")return N3(e||"",a),new gx(null);const f=window.open(e||"",a,d);he(f,t,"popup-blocked");try{f.focus()}catch{}return new gx(f)}function N3(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k3="__/auth/handler",O3="emulator/auth/handler",D3=encodeURIComponent("fac");async function yx(t,e,n,r,s,i){he(t.config.authDomain,t,"auth-domain-config-required"),he(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Fo,eventId:s};if(e instanceof Lf){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",fF(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,f]of Object.entries({}))o[d]=f}if(e instanceof pu){const d=e.getScopes().filter(f=>f!=="");d.length>0&&(o.scopes=d.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const d of Object.keys(a))a[d]===void 0&&delete a[d];const l=await t._getAppCheckToken(),u=l?`#${D3}=${encodeURIComponent(l)}`:"";return`${L3(t)}?${uu(a).slice(1)}${u}`}function L3({config:t}){return t.emulator?Xv(t,O3):`https://${t.authDomain}/${k3}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mm="webStorageSupport";class M3{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Y1,this._completeRedirectFn=sA,this._overrideRedirectResult=r3}async _openPopup(e,n,r,s){var o;xs((o=this.eventManagers[e._key()])==null?void 0:o.manager,"_initialize() not called before _openPopup()");const i=await yx(e,n,r,Yg(),s);return P3(e,i,nw())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await yx(e,n,r,Yg(),s);return VU(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(xs(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await S3(e),r=new l3(e);return n.register("authEvent",s=>(he(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(mm,{type:mm},s=>{var o;const i=(o=s==null?void 0:s[0])==null?void 0:o[mm];i!==void 0&&n(!!i),Yn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=f3(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return V1()||k1()||Zv()}}const j3=M3;var vx="@firebase/auth",wx="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V3{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){he(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F3(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function U3(t){Qn(new kn("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;he(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:F1(t)},u=new eU(r,s,i,l);return uU(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Qn(new kn("auth-internal",e=>{const n=Er(e.getProvider("auth").getImmediate());return(r=>new V3(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),qt(vx,wx,F3(t)),qt(vx,wx,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $3=5*60,B3=h1("authIdTokenMaxAge")||$3;let _x=null;const z3=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>B3)return;const s=n==null?void 0:n.token;_x!==s&&(_x=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function dl(t=du()){const e=As(t,"auth");if(e.isInitialized())return e.getImmediate();const n=cU(t,{popupRedirectResolver:j3,persistence:[GU,LU,Y1]}),r=h1("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const o=z3(i.toString());PU(n,o,()=>o(n.currentUser)),RU(n,a=>o(a))}}const s=u1("auth");return s&&dU(n,`http://${s}`),n}function W3(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}tU({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=pr("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",W3().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});U3("Browser");var Ex=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var xi,oA;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(I,b){function R(){}R.prototype=b.prototype,I.F=b.prototype,I.prototype=new R,I.prototype.constructor=I,I.D=function(k,P,O){for(var N=Array(arguments.length-2),V=2;V<arguments.length;V++)N[V-2]=arguments[V];return b.prototype[P].apply(k,N)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(I,b,R){R||(R=0);const k=Array(16);if(typeof b=="string")for(var P=0;P<16;++P)k[P]=b.charCodeAt(R++)|b.charCodeAt(R++)<<8|b.charCodeAt(R++)<<16|b.charCodeAt(R++)<<24;else for(P=0;P<16;++P)k[P]=b[R++]|b[R++]<<8|b[R++]<<16|b[R++]<<24;b=I.g[0],R=I.g[1],P=I.g[2];let O=I.g[3],N;N=b+(O^R&(P^O))+k[0]+3614090360&4294967295,b=R+(N<<7&4294967295|N>>>25),N=O+(P^b&(R^P))+k[1]+3905402710&4294967295,O=b+(N<<12&4294967295|N>>>20),N=P+(R^O&(b^R))+k[2]+606105819&4294967295,P=O+(N<<17&4294967295|N>>>15),N=R+(b^P&(O^b))+k[3]+3250441966&4294967295,R=P+(N<<22&4294967295|N>>>10),N=b+(O^R&(P^O))+k[4]+4118548399&4294967295,b=R+(N<<7&4294967295|N>>>25),N=O+(P^b&(R^P))+k[5]+1200080426&4294967295,O=b+(N<<12&4294967295|N>>>20),N=P+(R^O&(b^R))+k[6]+2821735955&4294967295,P=O+(N<<17&4294967295|N>>>15),N=R+(b^P&(O^b))+k[7]+4249261313&4294967295,R=P+(N<<22&4294967295|N>>>10),N=b+(O^R&(P^O))+k[8]+1770035416&4294967295,b=R+(N<<7&4294967295|N>>>25),N=O+(P^b&(R^P))+k[9]+2336552879&4294967295,O=b+(N<<12&4294967295|N>>>20),N=P+(R^O&(b^R))+k[10]+4294925233&4294967295,P=O+(N<<17&4294967295|N>>>15),N=R+(b^P&(O^b))+k[11]+2304563134&4294967295,R=P+(N<<22&4294967295|N>>>10),N=b+(O^R&(P^O))+k[12]+1804603682&4294967295,b=R+(N<<7&4294967295|N>>>25),N=O+(P^b&(R^P))+k[13]+4254626195&4294967295,O=b+(N<<12&4294967295|N>>>20),N=P+(R^O&(b^R))+k[14]+2792965006&4294967295,P=O+(N<<17&4294967295|N>>>15),N=R+(b^P&(O^b))+k[15]+1236535329&4294967295,R=P+(N<<22&4294967295|N>>>10),N=b+(P^O&(R^P))+k[1]+4129170786&4294967295,b=R+(N<<5&4294967295|N>>>27),N=O+(R^P&(b^R))+k[6]+3225465664&4294967295,O=b+(N<<9&4294967295|N>>>23),N=P+(b^R&(O^b))+k[11]+643717713&4294967295,P=O+(N<<14&4294967295|N>>>18),N=R+(O^b&(P^O))+k[0]+3921069994&4294967295,R=P+(N<<20&4294967295|N>>>12),N=b+(P^O&(R^P))+k[5]+3593408605&4294967295,b=R+(N<<5&4294967295|N>>>27),N=O+(R^P&(b^R))+k[10]+38016083&4294967295,O=b+(N<<9&4294967295|N>>>23),N=P+(b^R&(O^b))+k[15]+3634488961&4294967295,P=O+(N<<14&4294967295|N>>>18),N=R+(O^b&(P^O))+k[4]+3889429448&4294967295,R=P+(N<<20&4294967295|N>>>12),N=b+(P^O&(R^P))+k[9]+568446438&4294967295,b=R+(N<<5&4294967295|N>>>27),N=O+(R^P&(b^R))+k[14]+3275163606&4294967295,O=b+(N<<9&4294967295|N>>>23),N=P+(b^R&(O^b))+k[3]+4107603335&4294967295,P=O+(N<<14&4294967295|N>>>18),N=R+(O^b&(P^O))+k[8]+1163531501&4294967295,R=P+(N<<20&4294967295|N>>>12),N=b+(P^O&(R^P))+k[13]+2850285829&4294967295,b=R+(N<<5&4294967295|N>>>27),N=O+(R^P&(b^R))+k[2]+4243563512&4294967295,O=b+(N<<9&4294967295|N>>>23),N=P+(b^R&(O^b))+k[7]+1735328473&4294967295,P=O+(N<<14&4294967295|N>>>18),N=R+(O^b&(P^O))+k[12]+2368359562&4294967295,R=P+(N<<20&4294967295|N>>>12),N=b+(R^P^O)+k[5]+4294588738&4294967295,b=R+(N<<4&4294967295|N>>>28),N=O+(b^R^P)+k[8]+2272392833&4294967295,O=b+(N<<11&4294967295|N>>>21),N=P+(O^b^R)+k[11]+1839030562&4294967295,P=O+(N<<16&4294967295|N>>>16),N=R+(P^O^b)+k[14]+4259657740&4294967295,R=P+(N<<23&4294967295|N>>>9),N=b+(R^P^O)+k[1]+2763975236&4294967295,b=R+(N<<4&4294967295|N>>>28),N=O+(b^R^P)+k[4]+1272893353&4294967295,O=b+(N<<11&4294967295|N>>>21),N=P+(O^b^R)+k[7]+4139469664&4294967295,P=O+(N<<16&4294967295|N>>>16),N=R+(P^O^b)+k[10]+3200236656&4294967295,R=P+(N<<23&4294967295|N>>>9),N=b+(R^P^O)+k[13]+681279174&4294967295,b=R+(N<<4&4294967295|N>>>28),N=O+(b^R^P)+k[0]+3936430074&4294967295,O=b+(N<<11&4294967295|N>>>21),N=P+(O^b^R)+k[3]+3572445317&4294967295,P=O+(N<<16&4294967295|N>>>16),N=R+(P^O^b)+k[6]+76029189&4294967295,R=P+(N<<23&4294967295|N>>>9),N=b+(R^P^O)+k[9]+3654602809&4294967295,b=R+(N<<4&4294967295|N>>>28),N=O+(b^R^P)+k[12]+3873151461&4294967295,O=b+(N<<11&4294967295|N>>>21),N=P+(O^b^R)+k[15]+530742520&4294967295,P=O+(N<<16&4294967295|N>>>16),N=R+(P^O^b)+k[2]+3299628645&4294967295,R=P+(N<<23&4294967295|N>>>9),N=b+(P^(R|~O))+k[0]+4096336452&4294967295,b=R+(N<<6&4294967295|N>>>26),N=O+(R^(b|~P))+k[7]+1126891415&4294967295,O=b+(N<<10&4294967295|N>>>22),N=P+(b^(O|~R))+k[14]+2878612391&4294967295,P=O+(N<<15&4294967295|N>>>17),N=R+(O^(P|~b))+k[5]+4237533241&4294967295,R=P+(N<<21&4294967295|N>>>11),N=b+(P^(R|~O))+k[12]+1700485571&4294967295,b=R+(N<<6&4294967295|N>>>26),N=O+(R^(b|~P))+k[3]+2399980690&4294967295,O=b+(N<<10&4294967295|N>>>22),N=P+(b^(O|~R))+k[10]+4293915773&4294967295,P=O+(N<<15&4294967295|N>>>17),N=R+(O^(P|~b))+k[1]+2240044497&4294967295,R=P+(N<<21&4294967295|N>>>11),N=b+(P^(R|~O))+k[8]+1873313359&4294967295,b=R+(N<<6&4294967295|N>>>26),N=O+(R^(b|~P))+k[15]+4264355552&4294967295,O=b+(N<<10&4294967295|N>>>22),N=P+(b^(O|~R))+k[6]+2734768916&4294967295,P=O+(N<<15&4294967295|N>>>17),N=R+(O^(P|~b))+k[13]+1309151649&4294967295,R=P+(N<<21&4294967295|N>>>11),N=b+(P^(R|~O))+k[4]+4149444226&4294967295,b=R+(N<<6&4294967295|N>>>26),N=O+(R^(b|~P))+k[11]+3174756917&4294967295,O=b+(N<<10&4294967295|N>>>22),N=P+(b^(O|~R))+k[2]+718787259&4294967295,P=O+(N<<15&4294967295|N>>>17),N=R+(O^(P|~b))+k[9]+3951481745&4294967295,I.g[0]=I.g[0]+b&4294967295,I.g[1]=I.g[1]+(P+(N<<21&4294967295|N>>>11))&4294967295,I.g[2]=I.g[2]+P&4294967295,I.g[3]=I.g[3]+O&4294967295}r.prototype.v=function(I,b){b===void 0&&(b=I.length);const R=b-this.blockSize,k=this.C;let P=this.h,O=0;for(;O<b;){if(P==0)for(;O<=R;)s(this,I,O),O+=this.blockSize;if(typeof I=="string"){for(;O<b;)if(k[P++]=I.charCodeAt(O++),P==this.blockSize){s(this,k),P=0;break}}else for(;O<b;)if(k[P++]=I[O++],P==this.blockSize){s(this,k),P=0;break}}this.h=P,this.o+=b},r.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var b=1;b<I.length-8;++b)I[b]=0;b=this.o*8;for(var R=I.length-8;R<I.length;++R)I[R]=b&255,b/=256;for(this.v(I),I=Array(16),b=0,R=0;R<4;++R)for(let k=0;k<32;k+=8)I[b++]=this.g[R]>>>k&255;return I};function i(I,b){var R=a;return Object.prototype.hasOwnProperty.call(R,I)?R[I]:R[I]=b(I)}function o(I,b){this.h=b;const R=[];let k=!0;for(let P=I.length-1;P>=0;P--){const O=I[P]|0;k&&O==b||(R[P]=O,k=!1)}this.g=R}var a={};function l(I){return-128<=I&&I<128?i(I,function(b){return new o([b|0],b<0?-1:0)}):new o([I|0],I<0?-1:0)}function u(I){if(isNaN(I)||!isFinite(I))return f;if(I<0)return x(u(-I));const b=[];let R=1;for(let k=0;I>=R;k++)b[k]=I/R|0,R*=4294967296;return new o(b,0)}function d(I,b){if(I.length==0)throw Error("number format error: empty string");if(b=b||10,b<2||36<b)throw Error("radix out of range: "+b);if(I.charAt(0)=="-")return x(d(I.substring(1),b));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');const R=u(Math.pow(b,8));let k=f;for(let O=0;O<I.length;O+=8){var P=Math.min(8,I.length-O);const N=parseInt(I.substring(O,O+P),b);P<8?(P=u(Math.pow(b,P)),k=k.j(P).add(u(N))):(k=k.j(R),k=k.add(u(N)))}return k}var f=l(0),p=l(1),g=l(16777216);t=o.prototype,t.m=function(){if(v(this))return-x(this).m();let I=0,b=1;for(let R=0;R<this.g.length;R++){const k=this.i(R);I+=(k>=0?k:4294967296+k)*b,b*=4294967296}return I},t.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(S(this))return"0";if(v(this))return"-"+x(this).toString(I);const b=u(Math.pow(I,6));var R=this;let k="";for(;;){const P=C(R,b).g;R=E(R,P.j(b));let O=((R.g.length>0?R.g[0]:R.h)>>>0).toString(I);if(R=P,S(R))return O+k;for(;O.length<6;)O="0"+O;k=O+k}},t.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function S(I){if(I.h!=0)return!1;for(let b=0;b<I.g.length;b++)if(I.g[b]!=0)return!1;return!0}function v(I){return I.h==-1}t.l=function(I){return I=E(this,I),v(I)?-1:S(I)?0:1};function x(I){const b=I.g.length,R=[];for(let k=0;k<b;k++)R[k]=~I.g[k];return new o(R,~I.h).add(p)}t.abs=function(){return v(this)?x(this):this},t.add=function(I){const b=Math.max(this.g.length,I.g.length),R=[];let k=0;for(let P=0;P<=b;P++){let O=k+(this.i(P)&65535)+(I.i(P)&65535),N=(O>>>16)+(this.i(P)>>>16)+(I.i(P)>>>16);k=N>>>16,O&=65535,N&=65535,R[P]=N<<16|O}return new o(R,R[R.length-1]&-2147483648?-1:0)};function E(I,b){return I.add(x(b))}t.j=function(I){if(S(this)||S(I))return f;if(v(this))return v(I)?x(this).j(x(I)):x(x(this).j(I));if(v(I))return x(this.j(x(I)));if(this.l(g)<0&&I.l(g)<0)return u(this.m()*I.m());const b=this.g.length+I.g.length,R=[];for(var k=0;k<2*b;k++)R[k]=0;for(k=0;k<this.g.length;k++)for(let P=0;P<I.g.length;P++){const O=this.i(k)>>>16,N=this.i(k)&65535,V=I.i(P)>>>16,Q=I.i(P)&65535;R[2*k+2*P]+=N*Q,w(R,2*k+2*P),R[2*k+2*P+1]+=O*Q,w(R,2*k+2*P+1),R[2*k+2*P+1]+=N*V,w(R,2*k+2*P+1),R[2*k+2*P+2]+=O*V,w(R,2*k+2*P+2)}for(I=0;I<b;I++)R[I]=R[2*I+1]<<16|R[2*I];for(I=b;I<2*b;I++)R[I]=0;return new o(R,0)};function w(I,b){for(;(I[b]&65535)!=I[b];)I[b+1]+=I[b]>>>16,I[b]&=65535,b++}function T(I,b){this.g=I,this.h=b}function C(I,b){if(S(b))throw Error("division by zero");if(S(I))return new T(f,f);if(v(I))return b=C(x(I),b),new T(x(b.g),x(b.h));if(v(b))return b=C(I,x(b)),new T(x(b.g),b.h);if(I.g.length>30){if(v(I)||v(b))throw Error("slowDivide_ only works with positive integers.");for(var R=p,k=b;k.l(I)<=0;)R=D(R),k=D(k);var P=L(R,1),O=L(k,1);for(k=L(k,2),R=L(R,2);!S(k);){var N=O.add(k);N.l(I)<=0&&(P=P.add(R),O=N),k=L(k,1),R=L(R,1)}return b=E(I,P.j(b)),new T(P,b)}for(P=f;I.l(b)>=0;){for(R=Math.max(1,Math.floor(I.m()/b.m())),k=Math.ceil(Math.log(R)/Math.LN2),k=k<=48?1:Math.pow(2,k-48),O=u(R),N=O.j(b);v(N)||N.l(I)>0;)R-=k,O=u(R),N=O.j(b);S(O)&&(O=p),P=P.add(O),I=E(I,N)}return new T(P,I)}t.B=function(I){return C(this,I).h},t.and=function(I){const b=Math.max(this.g.length,I.g.length),R=[];for(let k=0;k<b;k++)R[k]=this.i(k)&I.i(k);return new o(R,this.h&I.h)},t.or=function(I){const b=Math.max(this.g.length,I.g.length),R=[];for(let k=0;k<b;k++)R[k]=this.i(k)|I.i(k);return new o(R,this.h|I.h)},t.xor=function(I){const b=Math.max(this.g.length,I.g.length),R=[];for(let k=0;k<b;k++)R[k]=this.i(k)^I.i(k);return new o(R,this.h^I.h)};function D(I){const b=I.g.length+1,R=[];for(let k=0;k<b;k++)R[k]=I.i(k)<<1|I.i(k-1)>>>31;return new o(R,I.h)}function L(I,b){const R=b>>5;b%=32;const k=I.g.length-R,P=[];for(let O=0;O<k;O++)P[O]=b>0?I.i(O+R)>>>b|I.i(O+R+1)<<32-b:I.i(O+R);return new o(P,I.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,oA=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.B,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=d,xi=o}).apply(typeof Ex<"u"?Ex:typeof self<"u"?self:typeof window<"u"?window:{});var od=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var aA,Ql,lA,jd,Zg,cA,uA,dA;(function(){var t,e=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof od=="object"&&od];for(var m=0;m<c.length;++m){var _=c[m];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var r=n(this);function s(c,m){if(m)e:{var _=r;c=c.split(".");for(var A=0;A<c.length-1;A++){var j=c[A];if(!(j in _))break e;_=_[j]}c=c[c.length-1],A=_[c],m=m(A),m!=A&&m!=null&&e(_,c,{configurable:!0,writable:!0,value:m})}}s("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),s("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),s("Object.entries",function(c){return c||function(m){var _=[],A;for(A in m)Object.prototype.hasOwnProperty.call(m,A)&&_.push([A,m[A]]);return _}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var i=i||{},o=this||self;function a(c){var m=typeof c;return m=="object"&&c!=null||m=="function"}function l(c,m,_){return c.call.apply(c.bind,arguments)}function u(c,m,_){return u=l,u.apply(null,arguments)}function d(c,m){var _=Array.prototype.slice.call(arguments,1);return function(){var A=_.slice();return A.push.apply(A,arguments),c.apply(this,A)}}function f(c,m){function _(){}_.prototype=m.prototype,c.Z=m.prototype,c.prototype=new _,c.prototype.constructor=c,c.Ob=function(A,j,U){for(var X=Array(arguments.length-2),we=2;we<arguments.length;we++)X[we-2]=arguments[we];return m.prototype[j].apply(A,X)}}var p=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function g(c){const m=c.length;if(m>0){const _=Array(m);for(let A=0;A<m;A++)_[A]=c[A];return _}return[]}function S(c,m){for(let A=1;A<arguments.length;A++){const j=arguments[A];var _=typeof j;if(_=_!="object"?_:j?Array.isArray(j)?"array":_:"null",_=="array"||_=="object"&&typeof j.length=="number"){_=c.length||0;const U=j.length||0;c.length=_+U;for(let X=0;X<U;X++)c[_+X]=j[X]}else c.push(j)}}class v{constructor(m,_){this.i=m,this.j=_,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function x(c){o.setTimeout(()=>{throw c},0)}function E(){var c=I;let m=null;return c.g&&(m=c.g,c.g=c.g.next,c.g||(c.h=null),m.next=null),m}class w{constructor(){this.h=this.g=null}add(m,_){const A=T.get();A.set(m,_),this.h?this.h.next=A:this.g=A,this.h=A}}var T=new v(()=>new C,c=>c.reset());class C{constructor(){this.next=this.g=this.h=null}set(m,_){this.h=m,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let D,L=!1,I=new w,b=()=>{const c=Promise.resolve(void 0);D=()=>{c.then(R)}};function R(){for(var c;c=E();){try{c.h.call(c.g)}catch(_){x(_)}var m=T;m.j(c),m.h<100&&(m.h++,c.next=m.g,m.g=c)}L=!1}function k(){this.u=this.u,this.C=this.C}k.prototype.u=!1,k.prototype.dispose=function(){this.u||(this.u=!0,this.N())},k.prototype[Symbol.dispose]=function(){this.dispose()},k.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function P(c,m){this.type=c,this.g=this.target=m,this.defaultPrevented=!1}P.prototype.h=function(){this.defaultPrevented=!0};var O=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var c=!1,m=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const _=()=>{};o.addEventListener("test",_,m),o.removeEventListener("test",_,m)}catch{}return c}();function N(c){return/^[\s\xa0]*$/.test(c)}function V(c,m){P.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,m)}f(V,P),V.prototype.init=function(c,m){const _=this.type=c.type,A=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=m,m=c.relatedTarget,m||(_=="mouseover"?m=c.fromElement:_=="mouseout"&&(m=c.toElement)),this.relatedTarget=m,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&V.Z.h.call(this)},V.prototype.h=function(){V.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Q="closure_listenable_"+(Math.random()*1e6|0),q=0;function B(c,m,_,A,j){this.listener=c,this.proxy=null,this.src=m,this.type=_,this.capture=!!A,this.ha=j,this.key=++q,this.da=this.fa=!1}function M(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function F(c,m,_){for(const A in c)m.call(_,c[A],A,c)}function H(c,m){for(const _ in c)m.call(void 0,c[_],_,c)}function re(c){const m={};for(const _ in c)m[_]=c[_];return m}const Z="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ce(c,m){let _,A;for(let j=1;j<arguments.length;j++){A=arguments[j];for(_ in A)c[_]=A[_];for(let U=0;U<Z.length;U++)_=Z[U],Object.prototype.hasOwnProperty.call(A,_)&&(c[_]=A[_])}}function oe(c){this.src=c,this.g={},this.h=0}oe.prototype.add=function(c,m,_,A,j){const U=c.toString();c=this.g[U],c||(c=this.g[U]=[],this.h++);const X=Me(c,m,A,j);return X>-1?(m=c[X],_||(m.fa=!1)):(m=new B(m,this.src,U,!!A,j),m.fa=_,c.push(m)),m};function Ne(c,m){const _=m.type;if(_ in c.g){var A=c.g[_],j=Array.prototype.indexOf.call(A,m,void 0),U;(U=j>=0)&&Array.prototype.splice.call(A,j,1),U&&(M(m),c.g[_].length==0&&(delete c.g[_],c.h--))}}function Me(c,m,_,A){for(let j=0;j<c.length;++j){const U=c[j];if(!U.da&&U.listener==m&&U.capture==!!_&&U.ha==A)return j}return-1}var J="closure_lm_"+(Math.random()*1e6|0),Ie={};function Y(c,m,_,A,j){if(Array.isArray(m)){for(let U=0;U<m.length;U++)Y(c,m[U],_,A,j);return null}return _=vn(_),c&&c[Q]?c.J(m,_,a(A)?!!A.capture:!1,j):me(c,m,_,!1,A,j)}function me(c,m,_,A,j,U){if(!m)throw Error("Invalid event type");const X=a(j)?!!j.capture:!!j;let we=rn(c);if(we||(c[J]=we=new oe(c)),_=we.add(m,_,A,X,U),_.proxy)return _;if(A=ae(),_.proxy=A,A.src=c,A.listener=_,c.addEventListener)O||(j=X),j===void 0&&(j=!1),c.addEventListener(m.toString(),A,j);else if(c.attachEvent)c.attachEvent(Rt(m.toString()),A);else if(c.addListener&&c.removeListener)c.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return _}function ae(){function c(_){return m.call(c.src,c.listener,_)}const m=Jn;return c}function le(c,m,_,A,j){if(Array.isArray(m))for(var U=0;U<m.length;U++)le(c,m[U],_,A,j);else A=a(A)?!!A.capture:!!A,_=vn(_),c&&c[Q]?(c=c.i,U=String(m).toString(),U in c.g&&(m=c.g[U],_=Me(m,_,A,j),_>-1&&(M(m[_]),Array.prototype.splice.call(m,_,1),m.length==0&&(delete c.g[U],c.h--)))):c&&(c=rn(c))&&(m=c.g[m.toString()],c=-1,m&&(c=Me(m,_,A,j)),(_=c>-1?m[c]:null)&&je(_))}function je(c){if(typeof c!="number"&&c&&!c.da){var m=c.src;if(m&&m[Q])Ne(m.i,c);else{var _=c.type,A=c.proxy;m.removeEventListener?m.removeEventListener(_,A,c.capture):m.detachEvent?m.detachEvent(Rt(_),A):m.addListener&&m.removeListener&&m.removeListener(A),(_=rn(m))?(Ne(_,c),_.h==0&&(_.src=null,m[J]=null)):M(c)}}}function Rt(c){return c in Ie?Ie[c]:Ie[c]="on"+c}function Jn(c,m){if(c.da)c=!0;else{m=new V(m,this);const _=c.listener,A=c.ha||c.src;c.fa&&je(c),c=_.call(A,m)}return c}function rn(c){return c=c[J],c instanceof oe?c:null}var yn="__closure_events_fn_"+(Math.random()*1e9>>>0);function vn(c){return typeof c=="function"?c:(c[yn]||(c[yn]=function(m){return c.handleEvent(m)}),c[yn])}function Ve(){k.call(this),this.i=new oe(this),this.M=this,this.G=null}f(Ve,k),Ve.prototype[Q]=!0,Ve.prototype.removeEventListener=function(c,m,_,A){le(this,c,m,_,A)};function Et(c,m){var _,A=c.G;if(A)for(_=[];A;A=A.G)_.push(A);if(c=c.M,A=m.type||m,typeof m=="string")m=new P(m,c);else if(m instanceof P)m.target=m.target||c;else{var j=m;m=new P(A,c),ce(m,j)}j=!0;let U,X;if(_)for(X=_.length-1;X>=0;X--)U=m.g=_[X],j=Tr(U,A,!0,m)&&j;if(U=m.g=c,j=Tr(U,A,!0,m)&&j,j=Tr(U,A,!1,m)&&j,_)for(X=0;X<_.length;X++)U=m.g=_[X],j=Tr(U,A,!1,m)&&j}Ve.prototype.N=function(){if(Ve.Z.N.call(this),this.i){var c=this.i;for(const m in c.g){const _=c.g[m];for(let A=0;A<_.length;A++)M(_[A]);delete c.g[m],c.h--}}this.G=null},Ve.prototype.J=function(c,m,_,A){return this.i.add(String(c),m,!1,_,A)},Ve.prototype.K=function(c,m,_,A){return this.i.add(String(c),m,!0,_,A)};function Tr(c,m,_,A){if(m=c.i.g[String(m)],!m)return!0;m=m.concat();let j=!0;for(let U=0;U<m.length;++U){const X=m[U];if(X&&!X.da&&X.capture==_){const we=X.listener,yt=X.ha||X.src;X.fa&&Ne(c.i,X),j=we.call(yt,A)!==!1&&j}}return j&&!A.defaultPrevented}function Tu(c,m){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=u(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:o.setTimeout(c,m||0)}function Sr(c){c.g=Tu(()=>{c.g=null,c.i&&(c.i=!1,Sr(c))},c.l);const m=c.h;c.h=null,c.m.apply(null,m)}class fp extends k{constructor(m,_){super(),this.m=m,this.l=_,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Sr(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Wi(c){k.call(this),this.h=c,this.g={}}f(Wi,k);var Qt=[];function es(c){F(c.g,function(m,_){this.g.hasOwnProperty(_)&&je(m)},c),c.g={}}Wi.prototype.N=function(){Wi.Z.N.call(this),es(this)},Wi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var yl=o.JSON.stringify,pp=o.JSON.parse,Ho=class{stringify(c){return o.JSON.stringify(c,void 0)}parse(c){return o.JSON.parse(c,void 0)}};function Su(){}function vl(){}var ts={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function br(){P.call(this,"d")}f(br,P);function qo(){P.call(this,"c")}f(qo,P);var sn={},bu=null;function Go(){return bu=bu||new Ve}sn.Ia="serverreachability";function wl(c){P.call(this,sn.Ia,c)}f(wl,P);function Os(c){const m=Go();Et(m,new wl(m))}sn.STAT_EVENT="statevent";function Iu(c,m){P.call(this,sn.STAT_EVENT,c),this.stat=m}f(Iu,P);function gt(c){const m=Go();Et(m,new Iu(m,c))}sn.Ja="timingevent";function Zn(c,m){P.call(this,sn.Ja,c),this.size=m}f(Zn,P);function Hi(c,m){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){c()},m)}function de(){this.g=!0}de.prototype.ua=function(){this.g=!1};function ke(c,m,_,A,j,U){c.info(function(){if(c.g)if(U){var X="",we=U.split("&");for(let Fe=0;Fe<we.length;Fe++){var yt=we[Fe].split("=");if(yt.length>1){const Tt=yt[0];yt=yt[1];const Ar=Tt.split("_");X=Ar.length>=2&&Ar[1]=="type"?X+(Tt+"="+yt+"&"):X+(Tt+"=redacted&")}}}else X=null;else X=U;return"XMLHTTP REQ ("+A+") [attempt "+j+"]: "+m+`
`+_+`
`+X})}function $e(c,m,_,A,j,U,X){c.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+j+"]: "+m+`
`+_+`
`+U+" "+X})}function xt(c,m,_,A){c.info(function(){return"XMLHTTP TEXT ("+m+"): "+Ir(c,_)+(A?" "+A:"")})}function wn(c,m){c.info(function(){return"TIMEOUT: "+m})}de.prototype.info=function(){};function Ir(c,m){if(!c.g)return m;if(!m)return null;try{const U=JSON.parse(m);if(U){for(c=0;c<U.length;c++)if(Array.isArray(U[c])){var _=U[c];if(!(_.length<2)){var A=_[1];if(Array.isArray(A)&&!(A.length<1)){var j=A[0];if(j!="noop"&&j!="stop"&&j!="close")for(let X=1;X<A.length;X++)A[X]=""}}}}return yl(U)}catch{return m}}var jn={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},on={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},er;function mp(){}f(mp,Su),mp.prototype.g=function(){return new XMLHttpRequest},er=new mp;function _l(c){return encodeURIComponent(String(c))}function vk(c){var m=1;c=c.split(":");const _=[];for(;m>0&&c.length;)_.push(c.shift()),m--;return c.length&&_.push(c.join(":")),_}function Ds(c,m,_,A){this.j=c,this.i=m,this.l=_,this.S=A||1,this.V=new Wi(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new h_}function h_(){this.i=null,this.g="",this.h=!1}var f_={},gp={};function yp(c,m,_){c.M=1,c.A=Au(Cr(m)),c.u=_,c.R=!0,p_(c,null)}function p_(c,m){c.F=Date.now(),Cu(c),c.B=Cr(c.A);var _=c.B,A=c.S;Array.isArray(A)||(A=[String(A)]),C_(_.i,"t",A),c.C=0,_=c.j.L,c.h=new h_,c.g=H_(c.j,_?m:null,!c.u),c.P>0&&(c.O=new fp(u(c.Y,c,c.g),c.P)),m=c.V,_=c.g,A=c.ba;var j="readystatechange";Array.isArray(j)||(j&&(Qt[0]=j.toString()),j=Qt);for(let U=0;U<j.length;U++){const X=Y(_,j[U],A||m.handleEvent,!1,m.h||m);if(!X)break;m.g[X.key]=X}m=c.J?re(c.J):{},c.u?(c.v||(c.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,m)):(c.v="GET",c.g.ea(c.B,c.v,null,m)),Os(),ke(c.i,c.v,c.B,c.l,c.S,c.u)}Ds.prototype.ba=function(c){c=c.target;const m=this.O;m&&js(c)==3?m.j():this.Y(c)},Ds.prototype.Y=function(c){try{if(c==this.g)e:{const we=js(this.g),yt=this.g.ya(),Fe=this.g.ca();if(!(we<3)&&(we!=3||this.g&&(this.h.h||this.g.la()||D_(this.g)))){this.K||we!=4||yt==7||(yt==8||Fe<=0?Os(3):Os(2)),vp(this);var m=this.g.ca();this.X=m;var _=wk(this);if(this.o=m==200,$e(this.i,this.v,this.B,this.l,this.S,we,m),this.o){if(this.U&&!this.L){t:{if(this.g){var A,j=this.g;if((A=j.g?j.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!N(A)){var U=A;break t}}U=null}if(c=U)xt(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,wp(this,c);else{this.o=!1,this.m=3,gt(12),qi(this),El(this);break e}}if(this.R){c=!0;let Tt;for(;!this.K&&this.C<_.length;)if(Tt=_k(this,_),Tt==gp){we==4&&(this.m=4,gt(14),c=!1),xt(this.i,this.l,null,"[Incomplete Response]");break}else if(Tt==f_){this.m=4,gt(15),xt(this.i,this.l,_,"[Invalid Chunk]"),c=!1;break}else xt(this.i,this.l,Tt,null),wp(this,Tt);if(m_(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),we!=4||_.length!=0||this.h.h||(this.m=1,gt(16),c=!1),this.o=this.o&&c,!c)xt(this.i,this.l,_,"[Invalid Chunked Response]"),qi(this),El(this);else if(_.length>0&&!this.W){this.W=!0;var X=this.j;X.g==this&&X.aa&&!X.P&&(X.j.info("Great, no buffering proxy detected. Bytes received: "+_.length),Cp(X),X.P=!0,gt(11))}}else xt(this.i,this.l,_,null),wp(this,_);we==4&&qi(this),this.o&&!this.K&&(we==4?$_(this.j,this):(this.o=!1,Cu(this)))}else Dk(this.g),m==400&&_.indexOf("Unknown SID")>0?(this.m=3,gt(12)):(this.m=0,gt(13)),qi(this),El(this)}}}catch{}finally{}};function wk(c){if(!m_(c))return c.g.la();const m=D_(c.g);if(m==="")return"";let _="";const A=m.length,j=js(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return qi(c),El(c),"";c.h.i=new o.TextDecoder}for(let U=0;U<A;U++)c.h.h=!0,_+=c.h.i.decode(m[U],{stream:!(j&&U==A-1)});return m.length=0,c.h.g+=_,c.C=0,c.h.g}function m_(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function _k(c,m){var _=c.C,A=m.indexOf(`
`,_);return A==-1?gp:(_=Number(m.substring(_,A)),isNaN(_)?f_:(A+=1,A+_>m.length?gp:(m=m.slice(A,A+_),c.C=A+_,m)))}Ds.prototype.cancel=function(){this.K=!0,qi(this)};function Cu(c){c.T=Date.now()+c.H,g_(c,c.H)}function g_(c,m){if(c.D!=null)throw Error("WatchDog timer not null");c.D=Hi(u(c.aa,c),m)}function vp(c){c.D&&(o.clearTimeout(c.D),c.D=null)}Ds.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(wn(this.i,this.B),this.M!=2&&(Os(),gt(17)),qi(this),this.m=2,El(this)):g_(this,this.T-c)};function El(c){c.j.I==0||c.K||$_(c.j,c)}function qi(c){vp(c);var m=c.O;m&&typeof m.dispose=="function"&&m.dispose(),c.O=null,es(c.V),c.g&&(m=c.g,c.g=null,m.abort(),m.dispose())}function wp(c,m){try{var _=c.j;if(_.I!=0&&(_.g==c||_p(_.h,c))){if(!c.L&&_p(_.h,c)&&_.I==3){try{var A=_.Ba.g.parse(m)}catch{A=null}if(Array.isArray(A)&&A.length==3){var j=A;if(j[0]==0){e:if(!_.v){if(_.g)if(_.g.F+3e3<c.F)Ou(_),Nu(_);else break e;Ip(_),gt(18)}}else _.xa=j[1],0<_.xa-_.K&&j[2]<37500&&_.F&&_.A==0&&!_.C&&(_.C=Hi(u(_.Va,_),6e3));w_(_.h)<=1&&_.ta&&(_.ta=void 0)}else Ki(_,11)}else if((c.L||_.g==c)&&Ou(_),!N(m))for(j=_.Ba.g.parse(m),m=0;m<j.length;m++){let Fe=j[m];const Tt=Fe[0];if(!(Tt<=_.K))if(_.K=Tt,Fe=Fe[1],_.I==2)if(Fe[0]=="c"){_.M=Fe[1],_.ba=Fe[2];const Ar=Fe[3];Ar!=null&&(_.ka=Ar,_.j.info("VER="+_.ka));const Qi=Fe[4];Qi!=null&&(_.za=Qi,_.j.info("SVER="+_.za));const Vs=Fe[5];Vs!=null&&typeof Vs=="number"&&Vs>0&&(A=1.5*Vs,_.O=A,_.j.info("backChannelRequestTimeoutMs_="+A)),A=_;const Fs=c.g;if(Fs){const Lu=Fs.g?Fs.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Lu){var U=A.h;U.g||Lu.indexOf("spdy")==-1&&Lu.indexOf("quic")==-1&&Lu.indexOf("h2")==-1||(U.j=U.l,U.g=new Set,U.h&&(Ep(U,U.h),U.h=null))}if(A.G){const Ap=Fs.g?Fs.g.getResponseHeader("X-HTTP-Session-Id"):null;Ap&&(A.wa=Ap,He(A.J,A.G,Ap))}}_.I=3,_.l&&_.l.ra(),_.aa&&(_.T=Date.now()-c.F,_.j.info("Handshake RTT: "+_.T+"ms")),A=_;var X=c;if(A.na=W_(A,A.L?A.ba:null,A.W),X.L){__(A.h,X);var we=X,yt=A.O;yt&&(we.H=yt),we.D&&(vp(we),Cu(we)),A.g=X}else F_(A);_.i.length>0&&ku(_)}else Fe[0]!="stop"&&Fe[0]!="close"||Ki(_,7);else _.I==3&&(Fe[0]=="stop"||Fe[0]=="close"?Fe[0]=="stop"?Ki(_,7):bp(_):Fe[0]!="noop"&&_.l&&_.l.qa(Fe),_.A=0)}}Os(4)}catch{}}var Ek=class{constructor(c,m){this.g=c,this.map=m}};function y_(c){this.l=c||10,o.PerformanceNavigationTiming?(c=o.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function v_(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function w_(c){return c.h?1:c.g?c.g.size:0}function _p(c,m){return c.h?c.h==m:c.g?c.g.has(m):!1}function Ep(c,m){c.g?c.g.add(m):c.h=m}function __(c,m){c.h&&c.h==m?c.h=null:c.g&&c.g.has(m)&&c.g.delete(m)}y_.prototype.cancel=function(){if(this.i=E_(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function E_(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let m=c.i;for(const _ of c.g.values())m=m.concat(_.G);return m}return g(c.i)}var x_=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function xk(c,m){if(c){c=c.split("&");for(let _=0;_<c.length;_++){const A=c[_].indexOf("=");let j,U=null;A>=0?(j=c[_].substring(0,A),U=c[_].substring(A+1)):j=c[_],m(j,U?decodeURIComponent(U.replace(/\+/g," ")):"")}}}function Ls(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;c instanceof Ls?(this.l=c.l,xl(this,c.j),this.o=c.o,this.g=c.g,Tl(this,c.u),this.h=c.h,xp(this,A_(c.i)),this.m=c.m):c&&(m=String(c).match(x_))?(this.l=!1,xl(this,m[1]||"",!0),this.o=Sl(m[2]||""),this.g=Sl(m[3]||"",!0),Tl(this,m[4]),this.h=Sl(m[5]||"",!0),xp(this,m[6]||"",!0),this.m=Sl(m[7]||"")):(this.l=!1,this.i=new Il(null,this.l))}Ls.prototype.toString=function(){const c=[];var m=this.j;m&&c.push(bl(m,T_,!0),":");var _=this.g;return(_||m=="file")&&(c.push("//"),(m=this.o)&&c.push(bl(m,T_,!0),"@"),c.push(_l(_).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.u,_!=null&&c.push(":",String(_))),(_=this.h)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push(bl(_,_.charAt(0)=="/"?bk:Sk,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",bl(_,Ck)),c.join("")},Ls.prototype.resolve=function(c){const m=Cr(this);let _=!!c.j;_?xl(m,c.j):_=!!c.o,_?m.o=c.o:_=!!c.g,_?m.g=c.g:_=c.u!=null;var A=c.h;if(_)Tl(m,c.u);else if(_=!!c.h){if(A.charAt(0)!="/")if(this.g&&!this.h)A="/"+A;else{var j=m.h.lastIndexOf("/");j!=-1&&(A=m.h.slice(0,j+1)+A)}if(j=A,j==".."||j==".")A="";else if(j.indexOf("./")!=-1||j.indexOf("/.")!=-1){A=j.lastIndexOf("/",0)==0,j=j.split("/");const U=[];for(let X=0;X<j.length;){const we=j[X++];we=="."?A&&X==j.length&&U.push(""):we==".."?((U.length>1||U.length==1&&U[0]!="")&&U.pop(),A&&X==j.length&&U.push("")):(U.push(we),A=!0)}A=U.join("/")}else A=j}return _?m.h=A:_=c.i.toString()!=="",_?xp(m,A_(c.i)):_=!!c.m,_&&(m.m=c.m),m};function Cr(c){return new Ls(c)}function xl(c,m,_){c.j=_?Sl(m,!0):m,c.j&&(c.j=c.j.replace(/:$/,""))}function Tl(c,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);c.u=m}else c.u=null}function xp(c,m,_){m instanceof Il?(c.i=m,Ak(c.i,c.l)):(_||(m=bl(m,Ik)),c.i=new Il(m,c.l))}function He(c,m,_){c.i.set(m,_)}function Au(c){return He(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function Sl(c,m){return c?m?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function bl(c,m,_){return typeof c=="string"?(c=encodeURI(c).replace(m,Tk),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Tk(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var T_=/[#\/\?@]/g,Sk=/[#\?:]/g,bk=/[#\?]/g,Ik=/[#\?@]/g,Ck=/#/g;function Il(c,m){this.h=this.g=null,this.i=c||null,this.j=!!m}function Gi(c){c.g||(c.g=new Map,c.h=0,c.i&&xk(c.i,function(m,_){c.add(decodeURIComponent(m.replace(/\+/g," ")),_)}))}t=Il.prototype,t.add=function(c,m){Gi(this),this.i=null,c=Ko(this,c);let _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(m),this.h+=1,this};function S_(c,m){Gi(c),m=Ko(c,m),c.g.has(m)&&(c.i=null,c.h-=c.g.get(m).length,c.g.delete(m))}function b_(c,m){return Gi(c),m=Ko(c,m),c.g.has(m)}t.forEach=function(c,m){Gi(this),this.g.forEach(function(_,A){_.forEach(function(j){c.call(m,j,A,this)},this)},this)};function I_(c,m){Gi(c);let _=[];if(typeof m=="string")b_(c,m)&&(_=_.concat(c.g.get(Ko(c,m))));else for(c=Array.from(c.g.values()),m=0;m<c.length;m++)_=_.concat(c[m]);return _}t.set=function(c,m){return Gi(this),this.i=null,c=Ko(this,c),b_(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[m]),this.h+=1,this},t.get=function(c,m){return c?(c=I_(this,c),c.length>0?String(c[0]):m):m};function C_(c,m,_){S_(c,m),_.length>0&&(c.i=null,c.g.set(Ko(c,m),g(_)),c.h+=_.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],m=Array.from(this.g.keys());for(let A=0;A<m.length;A++){var _=m[A];const j=_l(_);_=I_(this,_);for(let U=0;U<_.length;U++){let X=j;_[U]!==""&&(X+="="+_l(_[U])),c.push(X)}}return this.i=c.join("&")};function A_(c){const m=new Il;return m.i=c.i,c.g&&(m.g=new Map(c.g),m.h=c.h),m}function Ko(c,m){return m=String(m),c.j&&(m=m.toLowerCase()),m}function Ak(c,m){m&&!c.j&&(Gi(c),c.i=null,c.g.forEach(function(_,A){const j=A.toLowerCase();A!=j&&(S_(this,A),C_(this,j,_))},c)),c.j=m}function Rk(c,m){const _=new de;if(o.Image){const A=new Image;A.onload=d(Ms,_,"TestLoadImage: loaded",!0,m,A),A.onerror=d(Ms,_,"TestLoadImage: error",!1,m,A),A.onabort=d(Ms,_,"TestLoadImage: abort",!1,m,A),A.ontimeout=d(Ms,_,"TestLoadImage: timeout",!1,m,A),o.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=c}else m(!1)}function Pk(c,m){const _=new de,A=new AbortController,j=setTimeout(()=>{A.abort(),Ms(_,"TestPingServer: timeout",!1,m)},1e4);fetch(c,{signal:A.signal}).then(U=>{clearTimeout(j),U.ok?Ms(_,"TestPingServer: ok",!0,m):Ms(_,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(j),Ms(_,"TestPingServer: error",!1,m)})}function Ms(c,m,_,A,j){try{j&&(j.onload=null,j.onerror=null,j.onabort=null,j.ontimeout=null),A(_)}catch{}}function Nk(){this.g=new Ho}function Tp(c){this.i=c.Sb||null,this.h=c.ab||!1}f(Tp,Su),Tp.prototype.g=function(){return new Ru(this.i,this.h)};function Ru(c,m){Ve.call(this),this.H=c,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}f(Ru,Ve),t=Ru.prototype,t.open=function(c,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=m,this.readyState=1,Al(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(m.body=c),(this.H||o).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Cl(this)),this.readyState=0},t.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Al(this)),this.g&&(this.readyState=3,Al(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;R_(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function R_(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}t.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var m=c.value?c.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!c.done}))&&(this.response=this.responseText+=m)}c.done?Cl(this):Al(this),this.readyState==3&&R_(this)}},t.Oa=function(c){this.g&&(this.response=this.responseText=c,Cl(this))},t.Na=function(c){this.g&&(this.response=c,Cl(this))},t.ga=function(){this.g&&Cl(this)};function Cl(c){c.readyState=4,c.l=null,c.j=null,c.B=null,Al(c)}t.setRequestHeader=function(c,m){this.A.append(c,m)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],m=this.h.entries();for(var _=m.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=m.next();return c.join(`\r
`)};function Al(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Ru.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function P_(c){let m="";return F(c,function(_,A){m+=A,m+=":",m+=_,m+=`\r
`}),m}function Sp(c,m,_){e:{for(A in _){var A=!1;break e}A=!0}A||(_=P_(_),typeof c=="string"?_!=null&&_l(_):He(c,m,_))}function nt(c){Ve.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}f(nt,Ve);var kk=/^https?$/i,Ok=["POST","PUT"];t=nt.prototype,t.Fa=function(c){this.H=c},t.ea=function(c,m,_,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);m=m?m.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():er.g(),this.g.onreadystatechange=p(u(this.Ca,this));try{this.B=!0,this.g.open(m,String(c),!0),this.B=!1}catch(U){N_(this,U);return}if(c=_||"",_=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var j in A)_.set(j,A[j]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const U of A.keys())_.set(U,A.get(U));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(_.keys()).find(U=>U.toLowerCase()=="content-type"),j=o.FormData&&c instanceof o.FormData,!(Array.prototype.indexOf.call(Ok,m,void 0)>=0)||A||j||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[U,X]of _)this.g.setRequestHeader(U,X);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(U){N_(this,U)}};function N_(c,m){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=m,c.o=5,k_(c),Pu(c)}function k_(c){c.A||(c.A=!0,Et(c,"complete"),Et(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,Et(this,"complete"),Et(this,"abort"),Pu(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Pu(this,!0)),nt.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?O_(this):this.Xa())},t.Xa=function(){O_(this)};function O_(c){if(c.h&&typeof i<"u"){if(c.v&&js(c)==4)setTimeout(c.Ca.bind(c),0);else if(Et(c,"readystatechange"),js(c)==4){c.h=!1;try{const U=c.ca();e:switch(U){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var _;if(!(_=m)){var A;if(A=U===0){let X=String(c.D).match(x_)[1]||null;!X&&o.self&&o.self.location&&(X=o.self.location.protocol.slice(0,-1)),A=!kk.test(X?X.toLowerCase():"")}_=A}if(_)Et(c,"complete"),Et(c,"success");else{c.o=6;try{var j=js(c)>2?c.g.statusText:""}catch{j=""}c.l=j+" ["+c.ca()+"]",k_(c)}}finally{Pu(c)}}}}function Pu(c,m){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const _=c.g;c.g=null,m||Et(c,"ready");try{_.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function js(c){return c.g?c.g.readyState:0}t.ca=function(){try{return js(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(c){if(this.g){var m=this.g.responseText;return c&&m.indexOf(c)==0&&(m=m.substring(c.length)),pp(m)}};function D_(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Dk(c){const m={};c=(c.g&&js(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<c.length;A++){if(N(c[A]))continue;var _=vk(c[A]);const j=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const U=m[j]||[];m[j]=U,U.push(_)}H(m,function(A){return A.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Rl(c,m,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||m}function L_(c){this.za=0,this.i=[],this.j=new de,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Rl("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Rl("baseRetryDelayMs",5e3,c),this.Za=Rl("retryDelaySeedMs",1e4,c),this.Ta=Rl("forwardChannelMaxRetries",2,c),this.va=Rl("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new y_(c&&c.concurrentRequestLimit),this.Ba=new Nk,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=L_.prototype,t.ka=8,t.I=1,t.connect=function(c,m,_,A){gt(0),this.W=c,this.H=m||{},_&&A!==void 0&&(this.H.OSID=_,this.H.OAID=A),this.F=this.X,this.J=W_(this,null,this.W),ku(this)};function bp(c){if(M_(c),c.I==3){var m=c.V++,_=Cr(c.J);if(He(_,"SID",c.M),He(_,"RID",m),He(_,"TYPE","terminate"),Pl(c,_),m=new Ds(c,c.j,m),m.M=2,m.A=Au(Cr(_)),_=!1,o.navigator&&o.navigator.sendBeacon)try{_=o.navigator.sendBeacon(m.A.toString(),"")}catch{}!_&&o.Image&&(new Image().src=m.A,_=!0),_||(m.g=H_(m.j,null),m.g.ea(m.A)),m.F=Date.now(),Cu(m)}z_(c)}function Nu(c){c.g&&(Cp(c),c.g.cancel(),c.g=null)}function M_(c){Nu(c),c.v&&(o.clearTimeout(c.v),c.v=null),Ou(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&o.clearTimeout(c.m),c.m=null)}function ku(c){if(!v_(c.h)&&!c.m){c.m=!0;var m=c.Ea;D||b(),L||(D(),L=!0),I.add(m,c),c.D=0}}function Lk(c,m){return w_(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=m.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=Hi(u(c.Ea,c,m),B_(c,c.D)),c.D++,!0)}t.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const j=new Ds(this,this.j,c);let U=this.o;if(this.U&&(U?(U=re(U),ce(U,this.U)):U=this.U),this.u!==null||this.R||(j.J=U,U=null),this.S)e:{for(var m=0,_=0;_<this.i.length;_++){t:{var A=this.i[_];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(m+=A,m>4096){m=_;break e}if(m===4096||_===this.i.length-1){m=_+1;break e}}m=1e3}else m=1e3;m=V_(this,j,m),_=Cr(this.J),He(_,"RID",c),He(_,"CVER",22),this.G&&He(_,"X-HTTP-Session-Id",this.G),Pl(this,_),U&&(this.R?m="headers="+_l(P_(U))+"&"+m:this.u&&Sp(_,this.u,U)),Ep(this.h,j),this.Ra&&He(_,"TYPE","init"),this.S?(He(_,"$req",m),He(_,"SID","null"),j.U=!0,yp(j,_,null)):yp(j,_,m),this.I=2}}else this.I==3&&(c?j_(this,c):this.i.length==0||v_(this.h)||j_(this))};function j_(c,m){var _;m?_=m.l:_=c.V++;const A=Cr(c.J);He(A,"SID",c.M),He(A,"RID",_),He(A,"AID",c.K),Pl(c,A),c.u&&c.o&&Sp(A,c.u,c.o),_=new Ds(c,c.j,_,c.D+1),c.u===null&&(_.J=c.o),m&&(c.i=m.G.concat(c.i)),m=V_(c,_,1e3),_.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),Ep(c.h,_),yp(_,A,m)}function Pl(c,m){c.H&&F(c.H,function(_,A){He(m,A,_)}),c.l&&F({},function(_,A){He(m,A,_)})}function V_(c,m,_){_=Math.min(c.i.length,_);const A=c.l?u(c.l.Ka,c.l,c):null;e:{var j=c.i;let we=-1;for(;;){const yt=["count="+_];we==-1?_>0?(we=j[0].g,yt.push("ofs="+we)):we=0:yt.push("ofs="+we);let Fe=!0;for(let Tt=0;Tt<_;Tt++){var U=j[Tt].g;const Ar=j[Tt].map;if(U-=we,U<0)we=Math.max(0,j[Tt].g-100),Fe=!1;else try{U="req"+U+"_"||"";try{var X=Ar instanceof Map?Ar:Object.entries(Ar);for(const[Qi,Vs]of X){let Fs=Vs;a(Vs)&&(Fs=yl(Vs)),yt.push(U+Qi+"="+encodeURIComponent(Fs))}}catch(Qi){throw yt.push(U+"type="+encodeURIComponent("_badmap")),Qi}}catch{A&&A(Ar)}}if(Fe){X=yt.join("&");break e}}X=void 0}return c=c.i.splice(0,_),m.G=c,X}function F_(c){if(!c.g&&!c.v){c.Y=1;var m=c.Da;D||b(),L||(D(),L=!0),I.add(m,c),c.A=0}}function Ip(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=Hi(u(c.Da,c),B_(c,c.A)),c.A++,!0)}t.Da=function(){if(this.v=null,U_(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=Hi(u(this.Wa,this),c)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,gt(10),Nu(this),U_(this))};function Cp(c){c.B!=null&&(o.clearTimeout(c.B),c.B=null)}function U_(c){c.g=new Ds(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var m=Cr(c.na);He(m,"RID","rpc"),He(m,"SID",c.M),He(m,"AID",c.K),He(m,"CI",c.F?"0":"1"),!c.F&&c.ia&&He(m,"TO",c.ia),He(m,"TYPE","xmlhttp"),Pl(c,m),c.u&&c.o&&Sp(m,c.u,c.o),c.O&&(c.g.H=c.O);var _=c.g;c=c.ba,_.M=1,_.A=Au(Cr(m)),_.u=null,_.R=!0,p_(_,c)}t.Va=function(){this.C!=null&&(this.C=null,Nu(this),Ip(this),gt(19))};function Ou(c){c.C!=null&&(o.clearTimeout(c.C),c.C=null)}function $_(c,m){var _=null;if(c.g==m){Ou(c),Cp(c),c.g=null;var A=2}else if(_p(c.h,m))_=m.G,__(c.h,m),A=1;else return;if(c.I!=0){if(m.o)if(A==1){_=m.u?m.u.length:0,m=Date.now()-m.F;var j=c.D;A=Go(),Et(A,new Zn(A,_)),ku(c)}else F_(c);else if(j=m.m,j==3||j==0&&m.X>0||!(A==1&&Lk(c,m)||A==2&&Ip(c)))switch(_&&_.length>0&&(m=c.h,m.i=m.i.concat(_)),j){case 1:Ki(c,5);break;case 4:Ki(c,10);break;case 3:Ki(c,6);break;default:Ki(c,2)}}}function B_(c,m){let _=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(_*=2),_*m}function Ki(c,m){if(c.j.info("Error code "+m),m==2){var _=u(c.bb,c),A=c.Ua;const j=!A;A=new Ls(A||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||xl(A,"https"),Au(A),j?Rk(A.toString(),_):Pk(A.toString(),_)}else gt(2);c.I=0,c.l&&c.l.pa(m),z_(c),M_(c)}t.bb=function(c){c?(this.j.info("Successfully pinged google.com"),gt(2)):(this.j.info("Failed to ping google.com"),gt(1))};function z_(c){if(c.I=0,c.ja=[],c.l){const m=E_(c.h);(m.length!=0||c.i.length!=0)&&(S(c.ja,m),S(c.ja,c.i),c.h.i.length=0,g(c.i),c.i.length=0),c.l.oa()}}function W_(c,m,_){var A=_ instanceof Ls?Cr(_):new Ls(_);if(A.g!="")m&&(A.g=m+"."+A.g),Tl(A,A.u);else{var j=o.location;A=j.protocol,m=m?m+"."+j.hostname:j.hostname,j=+j.port;const U=new Ls(null);A&&xl(U,A),m&&(U.g=m),j&&Tl(U,j),_&&(U.h=_),A=U}return _=c.G,m=c.wa,_&&m&&He(A,_,m),He(A,"VER",c.ka),Pl(c,A),A}function H_(c,m,_){if(m&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=c.Aa&&!c.ma?new nt(new Tp({ab:_})):new nt(c.ma),m.Fa(c.L),m}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function q_(){}t=q_.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function Du(){}Du.prototype.g=function(c,m){return new _n(c,m)};function _n(c,m){Ve.call(this),this.g=new L_(m),this.l=c,this.h=m&&m.messageUrlParams||null,c=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(c?c["X-WebChannel-Content-Type"]=m.messageContentType:c={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(c?c["X-WebChannel-Client-Profile"]=m.sa:c={"X-WebChannel-Client-Profile":m.sa}),this.g.U=c,(c=m&&m.Qb)&&!N(c)&&(this.g.u=c),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!N(m)&&(this.g.G=m,c=this.h,c!==null&&m in c&&(c=this.h,m in c&&delete c[m])),this.j=new Qo(this)}f(_n,Ve),_n.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},_n.prototype.close=function(){bp(this.g)},_n.prototype.o=function(c){var m=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.v&&(_={},_.__data__=yl(c),c=_);m.i.push(new Ek(m.Ya++,c)),m.I==3&&ku(m)},_n.prototype.N=function(){this.g.l=null,delete this.j,bp(this.g),delete this.g,_n.Z.N.call(this)};function G_(c){br.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var m=c.__sm__;if(m){e:{for(const _ in m){c=_;break e}c=void 0}(this.i=c)&&(c=this.i,m=m!==null&&c in m?m[c]:void 0),this.data=m}else this.data=c}f(G_,br);function K_(){qo.call(this),this.status=1}f(K_,qo);function Qo(c){this.g=c}f(Qo,q_),Qo.prototype.ra=function(){Et(this.g,"a")},Qo.prototype.qa=function(c){Et(this.g,new G_(c))},Qo.prototype.pa=function(c){Et(this.g,new K_)},Qo.prototype.oa=function(){Et(this.g,"b")},Du.prototype.createWebChannel=Du.prototype.g,_n.prototype.send=_n.prototype.o,_n.prototype.open=_n.prototype.m,_n.prototype.close=_n.prototype.close,dA=function(){return new Du},uA=function(){return Go()},cA=sn,Zg={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},jn.NO_ERROR=0,jn.TIMEOUT=8,jn.HTTP_ERROR=6,jd=jn,on.COMPLETE="complete",lA=on,vl.EventType=ts,ts.OPEN="a",ts.CLOSE="b",ts.ERROR="c",ts.MESSAGE="d",Ve.prototype.listen=Ve.prototype.J,Ql=vl,nt.prototype.listenOnce=nt.prototype.K,nt.prototype.getLastError=nt.prototype.Ha,nt.prototype.getLastErrorCode=nt.prototype.ya,nt.prototype.getStatus=nt.prototype.ca,nt.prototype.getResponseJson=nt.prototype.La,nt.prototype.getResponseText=nt.prototype.la,nt.prototype.send=nt.prototype.ea,nt.prototype.setWithCredentials=nt.prototype.Fa,aA=nt}).apply(typeof od<"u"?od:typeof self<"u"?self:typeof window<"u"?window:{});const xx="@firebase/firestore",Tx="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}$t.UNAUTHENTICATED=new $t(null),$t.GOOGLE_CREDENTIALS=new $t("google-credentials-uid"),$t.FIRST_PARTY=new $t("first-party-uid"),$t.MOCK_USER=new $t("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hl="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Io=new Of("@firebase/firestore");function ea(){return Io.logLevel}function te(t,...e){if(Io.logLevel<=xe.DEBUG){const n=e.map(iw);Io.debug(`Firestore (${hl}): ${t}`,...n)}}function Ts(t,...e){if(Io.logLevel<=xe.ERROR){const n=e.map(iw);Io.error(`Firestore (${hl}): ${t}`,...n)}}function Ka(t,...e){if(Io.logLevel<=xe.WARN){const n=e.map(iw);Io.warn(`Firestore (${hl}): ${t}`,...n)}}function iw(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fe(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,hA(t,r,n)}function hA(t,e,n){let r=`FIRESTORE (${hl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Ts(r),new Error(r)}function Oe(t,e,n,r){let s="Unexpected state";typeof n=="string"?s=n:r=n,t||hA(e,s,r)}function ye(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ee extends Ln{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ps{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fA{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class H3{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n($t.UNAUTHENTICATED))}shutdown(){}}class q3{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class G3{constructor(e){this.t=e,this.currentUser=$t.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Oe(this.o===void 0,42304);let r=this.i;const s=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let i=new ps;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new ps,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const l=i;e.enqueueRetryable(async()=>{await l.promise,await s(this.currentUser)})},a=l=>{te("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(te("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new ps)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(te("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Oe(typeof r.accessToken=="string",31837,{l:r}),new fA(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Oe(e===null||typeof e=="string",2055,{h:e}),new $t(e)}}class K3{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=$t.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Q3{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new K3(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n($t.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Sx{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Y3{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Ht(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Oe(this.o===void 0,3512);const r=i=>{i.error!=null&&te("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.m;return this.m=i.token,te("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{te("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?s(i):te("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Sx(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Oe(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Sx(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X3(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ow{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=X3(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%62))}return r}}function Te(t,e){return t<e?-1:t>e?1:0}function ey(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const s=t.charAt(r),i=e.charAt(r);if(s!==i)return gm(s)===gm(i)?Te(s,i):gm(s)?1:-1}return Te(t.length,e.length)}const J3=55296,Z3=57343;function gm(t){const e=t.charCodeAt(0);return e>=J3&&e<=Z3}function Qa(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bx="__name__";class Nr{constructor(e,n,r){n===void 0?n=0:n>e.length&&fe(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&fe(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Nr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Nr?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=Nr.compareSegments(e.get(s),n.get(s));if(i!==0)return i}return Te(e.length,n.length)}static compareSegments(e,n){const r=Nr.isNumericId(e),s=Nr.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?Nr.extractNumericId(e).compare(Nr.extractNumericId(n)):ey(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return xi.fromString(e.substring(4,e.length-2))}}class Ue extends Nr{construct(e,n,r){return new Ue(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ee(z.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new Ue(n)}static emptyPath(){return new Ue([])}}const e5=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class kt extends Nr{construct(e,n,r){return new kt(e,n,r)}static isValidIdentifier(e){return e5.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),kt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===bx}static keyField(){return new kt([bx])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new ee(z.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const a=e[s];if(a==="\\"){if(s+1===e.length)throw new ee(z.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[s+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new ee(z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,s+=2}else a==="`"?(o=!o,s++):a!=="."||o?(r+=a,s++):(i(),s++)}if(i(),o)throw new ee(z.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new kt(n)}static emptyPath(){return new kt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ie{constructor(e){this.path=e}static fromPath(e){return new ie(Ue.fromString(e))}static fromName(e){return new ie(Ue.fromString(e).popFirst(5))}static empty(){return new ie(Ue.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ue.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ue.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ie(new Ue(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aw(t,e,n){if(!n)throw new ee(z.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function t5(t,e,n,r){if(e===!0&&r===!0)throw new ee(z.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Ix(t){if(!ie.isDocumentKey(t))throw new ee(z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Cx(t){if(ie.isDocumentKey(t))throw new ee(z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function pA(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Vf(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":fe(12329,{type:typeof t})}function An(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ee(z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Vf(t);throw new ee(z.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mt(t,e){const n={typeString:t};return e&&(n.value=e),n}function gu(t,e){if(!pA(t))throw new ee(z.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const s=e[r].typeString,i="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const o=t[r];if(s&&typeof o!==s){n=`JSON field '${r}' must be a ${s}.`;break}if(i!==void 0&&o!==i.value){n=`Expected '${r}' field to equal '${i.value}'`;break}}if(n)throw new ee(z.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ax=-62135596800,Rx=1e6;class Ke{static now(){return Ke.fromMillis(Date.now())}static fromDate(e){return Ke.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*Rx);return new Ke(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ee(z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ee(z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<Ax)throw new ee(z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ee(z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Rx}_compareTo(e){return this.seconds===e.seconds?Te(this.nanoseconds,e.nanoseconds):Te(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Ke._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(gu(e,Ke._jsonSchema))return new Ke(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Ax;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Ke._jsonSchemaVersion="firestore/timestamp/1.0",Ke._jsonSchema={type:mt("string",Ke._jsonSchemaVersion),seconds:mt("number"),nanoseconds:mt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ge{static fromTimestamp(e){return new ge(e)}static min(){return new ge(new Ke(0,0))}static max(){return new ge(new Ke(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hc=-1;function n5(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=ge.fromTimestamp(r===1e9?new Ke(n+1,0):new Ke(n,r));return new Ri(s,ie.empty(),e)}function r5(t){return new Ri(t.readTime,t.key,Hc)}class Ri{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Ri(ge.min(),ie.empty(),Hc)}static max(){return new Ri(ge.max(),ie.empty(),Hc)}}function s5(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ie.comparator(t.documentKey,e.documentKey),n!==0?n:Te(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i5="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class o5{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fl(t){if(t.code!==z.FAILED_PRECONDITION||t.message!==i5)throw t;te("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&fe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new W((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof W?n:W.resolve(n)}catch(n){return W.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):W.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):W.reject(n)}static resolve(e){return new W((n,r)=>{n(e)})}static reject(e){return new W((n,r)=>{r(e)})}static waitFor(e){return new W((n,r)=>{let s=0,i=0,o=!1;e.forEach(a=>{++s,a.next(()=>{++i,o&&i===s&&n()},l=>r(l))}),o=!0,i===s&&n()})}static or(e){let n=W.resolve(!1);for(const r of e)n=n.next(s=>s?W.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new W((r,s)=>{const i=e.length,o=new Array(i);let a=0;for(let l=0;l<i;l++){const u=l;n(e[u]).next(d=>{o[u]=d,++a,a===i&&r(o)},d=>s(d))}})}static doWhile(e,n){return new W((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}function a5(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function pl(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ff{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Ff.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lw=-1;function Uf(t){return t==null}function Nh(t){return t===0&&1/t==-1/0}function l5(t){return typeof t=="number"&&Number.isInteger(t)&&!Nh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mA="";function c5(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=Px(e)),e=u5(t.get(n),e);return Px(e)}function u5(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const i=t.charAt(s);switch(i){case"\0":n+="";break;case mA:n+="";break;default:n+=i}}return n}function Px(t){return t+mA+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nx(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Uo(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function gA(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tt{constructor(e,n){this.comparator=e,this.root=n||Nt.EMPTY}insert(e,n){return new tt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Nt.BLACK,null,null))}remove(e){return new tt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Nt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ad(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ad(this.root,e,this.comparator,!1)}getReverseIterator(){return new ad(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ad(this.root,e,this.comparator,!0)}}class ad{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Nt{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??Nt.RED,this.left=s??Nt.EMPTY,this.right=i??Nt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new Nt(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Nt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return Nt.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Nt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Nt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw fe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw fe(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw fe(27949);return e+(this.isRed()?0:1)}}Nt.EMPTY=null,Nt.RED=!0,Nt.BLACK=!1;Nt.EMPTY=new class{constructor(){this.size=0}get key(){throw fe(57766)}get value(){throw fe(16141)}get color(){throw fe(16727)}get left(){throw fe(29726)}get right(){throw fe(36894)}copy(e,n,r,s,i){return this}insert(e,n,r){return new Nt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _t{constructor(e){this.comparator=e,this.data=new tt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new kx(this.data.getIterator())}getIteratorFrom(e){return new kx(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof _t)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new _t(this.comparator);return n.data=e,n}}class kx{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dr{constructor(e){this.fields=e,e.sort(kt.comparator)}static empty(){return new dr([])}unionWith(e){let n=new _t(kt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new dr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Qa(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yA extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new yA("Invalid base64 string: "+i):i}}(e);return new Mt(n)}static fromUint8Array(e){const n=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(e);return new Mt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Te(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Mt.EMPTY_BYTE_STRING=new Mt("");const d5=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Pi(t){if(Oe(!!t,39018),typeof t=="string"){let e=0;const n=d5.exec(t);if(Oe(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:at(t.seconds),nanos:at(t.nanos)}}function at(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ni(t){return typeof t=="string"?Mt.fromBase64String(t):Mt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vA="server_timestamp",wA="__type__",_A="__previous_value__",EA="__local_write_time__";function cw(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[wA])==null?void 0:r.stringValue)===vA}function $f(t){const e=t.mapValue.fields[_A];return cw(e)?$f(e):e}function qc(t){const e=Pi(t.mapValue.fields[EA].timestampValue);return new Ke(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h5{constructor(e,n,r,s,i,o,a,l,u,d){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u,this.isUsingEmulator=d}}const kh="(default)";class Gc{constructor(e,n){this.projectId=e,this.database=n||kh}static empty(){return new Gc("","")}get isDefaultDatabase(){return this.database===kh}isEqual(e){return e instanceof Gc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xA="__type__",f5="__max__",ld={mapValue:{}},TA="__vector__",Oh="value";function ki(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?cw(t)?4:m5(t)?9007199254740991:p5(t)?10:11:fe(28295,{value:t})}function Xr(t,e){if(t===e)return!0;const n=ki(t);if(n!==ki(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return qc(t).isEqual(qc(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=Pi(s.timestampValue),a=Pi(i.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return Ni(s.bytesValue).isEqual(Ni(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return at(s.geoPointValue.latitude)===at(i.geoPointValue.latitude)&&at(s.geoPointValue.longitude)===at(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return at(s.integerValue)===at(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=at(s.doubleValue),a=at(i.doubleValue);return o===a?Nh(o)===Nh(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Qa(t.arrayValue.values||[],e.arrayValue.values||[],Xr);case 10:case 11:return function(s,i){const o=s.mapValue.fields||{},a=i.mapValue.fields||{};if(Nx(o)!==Nx(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!Xr(o[l],a[l])))return!1;return!0}(t,e);default:return fe(52216,{left:t})}}function Kc(t,e){return(t.values||[]).find(n=>Xr(n,e))!==void 0}function Ya(t,e){if(t===e)return 0;const n=ki(t),r=ki(e);if(n!==r)return Te(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Te(t.booleanValue,e.booleanValue);case 2:return function(i,o){const a=at(i.integerValue||i.doubleValue),l=at(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return Ox(t.timestampValue,e.timestampValue);case 4:return Ox(qc(t),qc(e));case 5:return ey(t.stringValue,e.stringValue);case 6:return function(i,o){const a=Ni(i),l=Ni(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const a=i.split("/"),l=o.split("/");for(let u=0;u<a.length&&u<l.length;u++){const d=Te(a[u],l[u]);if(d!==0)return d}return Te(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const a=Te(at(i.latitude),at(o.latitude));return a!==0?a:Te(at(i.longitude),at(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return Dx(t.arrayValue,e.arrayValue);case 10:return function(i,o){var p,g,S,v;const a=i.fields||{},l=o.fields||{},u=(p=a[Oh])==null?void 0:p.arrayValue,d=(g=l[Oh])==null?void 0:g.arrayValue,f=Te(((S=u==null?void 0:u.values)==null?void 0:S.length)||0,((v=d==null?void 0:d.values)==null?void 0:v.length)||0);return f!==0?f:Dx(u,d)}(t.mapValue,e.mapValue);case 11:return function(i,o){if(i===ld.mapValue&&o===ld.mapValue)return 0;if(i===ld.mapValue)return 1;if(o===ld.mapValue)return-1;const a=i.fields||{},l=Object.keys(a),u=o.fields||{},d=Object.keys(u);l.sort(),d.sort();for(let f=0;f<l.length&&f<d.length;++f){const p=ey(l[f],d[f]);if(p!==0)return p;const g=Ya(a[l[f]],u[d[f]]);if(g!==0)return g}return Te(l.length,d.length)}(t.mapValue,e.mapValue);default:throw fe(23264,{he:n})}}function Ox(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Te(t,e);const n=Pi(t),r=Pi(e),s=Te(n.seconds,r.seconds);return s!==0?s:Te(n.nanos,r.nanos)}function Dx(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=Ya(n[s],r[s]);if(i)return i}return Te(n.length,r.length)}function Xa(t){return ty(t)}function ty(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Pi(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Ni(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ie.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=ty(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${ty(n.fields[o])}`;return s+"}"}(t.mapValue):fe(61005,{value:t})}function Vd(t){switch(ki(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=$f(t);return e?16+Vd(e):16;case 5:return 2*t.stringValue.length;case 6:return Ni(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,i)=>s+Vd(i),0)}(t.arrayValue);case 10:case 11:return function(r){let s=0;return Uo(r.fields,(i,o)=>{s+=i.length+Vd(o)}),s}(t.mapValue);default:throw fe(13486,{value:t})}}function Lx(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function ny(t){return!!t&&"integerValue"in t}function uw(t){return!!t&&"arrayValue"in t}function Mx(t){return!!t&&"nullValue"in t}function jx(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Fd(t){return!!t&&"mapValue"in t}function p5(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[xA])==null?void 0:r.stringValue)===TA}function fc(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Uo(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=fc(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=fc(t.arrayValue.values[n]);return e}return{...t}}function m5(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===f5}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $n{constructor(e){this.value=e}static empty(){return new $n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Fd(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=fc(n)}setAll(e){let n=kt.emptyPath(),r={},s=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,s),r={},s=[],n=a.popLast()}o?r[a.lastSegment()]=fc(o):s.push(a.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());Fd(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Xr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];Fd(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){Uo(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new $n(fc(this.value))}}function SA(t){const e=[];return Uo(t.fields,(n,r)=>{const s=new kt([n]);if(Fd(r)){const i=SA(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)}),new dr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zt{constructor(e,n,r,s,i,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new zt(e,0,ge.min(),ge.min(),ge.min(),$n.empty(),0)}static newFoundDocument(e,n,r,s){return new zt(e,1,n,ge.min(),r,s,0)}static newNoDocument(e,n){return new zt(e,2,n,ge.min(),ge.min(),$n.empty(),0)}static newUnknownDocument(e,n){return new zt(e,3,n,ge.min(),ge.min(),$n.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ge.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=$n.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=$n.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ge.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof zt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new zt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dh{constructor(e,n){this.position=e,this.inclusive=n}}function Vx(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=ie.comparator(ie.fromName(o.referenceValue),n.key):r=Ya(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function Fx(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Xr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qc{constructor(e,n="asc"){this.field=e,this.dir=n}}function g5(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bA{}class pt extends bA{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new v5(e,n,r):n==="array-contains"?new E5(e,r):n==="in"?new x5(e,r):n==="not-in"?new T5(e,r):n==="array-contains-any"?new S5(e,r):new pt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new w5(e,r):new _5(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Ya(n,this.value)):n!==null&&ki(this.value)===ki(n)&&this.matchesComparison(Ya(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return fe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class _r extends bA{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new _r(e,n)}matches(e){return IA(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function IA(t){return t.op==="and"}function CA(t){return y5(t)&&IA(t)}function y5(t){for(const e of t.filters)if(e instanceof _r)return!1;return!0}function ry(t){if(t instanceof pt)return t.field.canonicalString()+t.op.toString()+Xa(t.value);if(CA(t))return t.filters.map(e=>ry(e)).join(",");{const e=t.filters.map(n=>ry(n)).join(",");return`${t.op}(${e})`}}function AA(t,e){return t instanceof pt?function(r,s){return s instanceof pt&&r.op===s.op&&r.field.isEqual(s.field)&&Xr(r.value,s.value)}(t,e):t instanceof _r?function(r,s){return s instanceof _r&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,o,a)=>i&&AA(o,s.filters[a]),!0):!1}(t,e):void fe(19439)}function RA(t){return t instanceof pt?function(n){return`${n.field.canonicalString()} ${n.op} ${Xa(n.value)}`}(t):t instanceof _r?function(n){return n.op.toString()+" {"+n.getFilters().map(RA).join(" ,")+"}"}(t):"Filter"}class v5 extends pt{constructor(e,n,r){super(e,n,r),this.key=ie.fromName(r.referenceValue)}matches(e){const n=ie.comparator(e.key,this.key);return this.matchesComparison(n)}}class w5 extends pt{constructor(e,n){super(e,"in",n),this.keys=PA("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class _5 extends pt{constructor(e,n){super(e,"not-in",n),this.keys=PA("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function PA(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map(r=>ie.fromName(r.referenceValue))}class E5 extends pt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return uw(n)&&Kc(n.arrayValue,this.value)}}class x5 extends pt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Kc(this.value.arrayValue,n)}}class T5 extends pt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Kc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Kc(this.value.arrayValue,n)}}class S5 extends pt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!uw(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Kc(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b5{constructor(e,n=null,r=[],s=[],i=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=a,this.Te=null}}function Ux(t,e=null,n=[],r=[],s=null,i=null,o=null){return new b5(t,e,n,r,s,i,o)}function dw(t){const e=ye(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>ry(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),Uf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Xa(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Xa(r)).join(",")),e.Te=n}return e.Te}function hw(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!g5(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!AA(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Fx(t.startAt,e.startAt)&&Fx(t.endAt,e.endAt)}function sy(t){return ie.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $o{constructor(e,n=null,r=[],s=[],i=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=l,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function I5(t,e,n,r,s,i,o,a){return new $o(t,e,n,r,s,i,o,a)}function Bf(t){return new $o(t)}function $x(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function NA(t){return t.collectionGroup!==null}function pc(t){const e=ye(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const i of e.explicitOrderBy)e.Ie.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new _t(kt.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.Ie.push(new Qc(i,r))}),n.has(kt.keyField().canonicalString())||e.Ie.push(new Qc(kt.keyField(),r))}return e.Ie}function qr(t){const e=ye(t);return e.Ee||(e.Ee=C5(e,pc(t))),e.Ee}function C5(t,e){if(t.limitType==="F")return Ux(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new Qc(s.field,i)});const n=t.endAt?new Dh(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Dh(t.startAt.position,t.startAt.inclusive):null;return Ux(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function iy(t,e){const n=t.filters.concat([e]);return new $o(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function oy(t,e,n){return new $o(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function zf(t,e){return hw(qr(t),qr(e))&&t.limitType===e.limitType}function kA(t){return`${dw(qr(t))}|lt:${t.limitType}`}function ta(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>RA(s)).join(", ")}]`),Uf(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>Xa(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>Xa(s)).join(",")),`Target(${r})`}(qr(t))}; limitType=${t.limitType})`}function Wf(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):ie.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of pc(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(o,a,l){const u=Vx(o,a,l);return o.inclusive?u<=0:u<0}(r.startAt,pc(r),s)||r.endAt&&!function(o,a,l){const u=Vx(o,a,l);return o.inclusive?u>=0:u>0}(r.endAt,pc(r),s))}(t,e)}function A5(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function OA(t){return(e,n)=>{let r=!1;for(const s of pc(t)){const i=R5(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function R5(t,e,n){const r=t.field.isKeyField()?ie.comparator(e.key,n.key):function(i,o,a){const l=o.data.field(i),u=a.data.field(i);return l!==null&&u!==null?Ya(l,u):fe(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return fe(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bo{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Uo(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return gA(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P5=new tt(ie.comparator);function Ss(){return P5}const DA=new tt(ie.comparator);function Yl(...t){let e=DA;for(const n of t)e=e.insert(n.key,n);return e}function LA(t){let e=DA;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function ro(){return mc()}function MA(){return mc()}function mc(){return new Bo(t=>t.toString(),(t,e)=>t.isEqual(e))}const N5=new tt(ie.comparator),k5=new _t(ie.comparator);function Se(...t){let e=k5;for(const n of t)e=e.add(n);return e}const O5=new _t(Te);function D5(){return O5}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fw(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Nh(e)?"-0":e}}function jA(t){return{integerValue:""+t}}function L5(t,e){return l5(e)?jA(e):fw(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hf{constructor(){this._=void 0}}function M5(t,e,n){return t instanceof Yc?function(s,i){const o={fields:{[wA]:{stringValue:vA},[EA]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&cw(i)&&(i=$f(i)),i&&(o.fields[_A]=i),{mapValue:o}}(n,e):t instanceof Xc?FA(t,e):t instanceof Jc?UA(t,e):function(s,i){const o=VA(s,i),a=Bx(o)+Bx(s.Ae);return ny(o)&&ny(s.Ae)?jA(a):fw(s.serializer,a)}(t,e)}function j5(t,e,n){return t instanceof Xc?FA(t,e):t instanceof Jc?UA(t,e):n}function VA(t,e){return t instanceof Lh?function(r){return ny(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class Yc extends Hf{}class Xc extends Hf{constructor(e){super(),this.elements=e}}function FA(t,e){const n=$A(e);for(const r of t.elements)n.some(s=>Xr(s,r))||n.push(r);return{arrayValue:{values:n}}}class Jc extends Hf{constructor(e){super(),this.elements=e}}function UA(t,e){let n=$A(e);for(const r of t.elements)n=n.filter(s=>!Xr(s,r));return{arrayValue:{values:n}}}class Lh extends Hf{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function Bx(t){return at(t.integerValue||t.doubleValue)}function $A(t){return uw(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V5{constructor(e,n){this.field=e,this.transform=n}}function F5(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof Xc&&s instanceof Xc||r instanceof Jc&&s instanceof Jc?Qa(r.elements,s.elements,Xr):r instanceof Lh&&s instanceof Lh?Xr(r.Ae,s.Ae):r instanceof Yc&&s instanceof Yc}(t.transform,e.transform)}class U5{constructor(e,n){this.version=e,this.transformResults=n}}class mr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new mr}static exists(e){return new mr(void 0,e)}static updateTime(e){return new mr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ud(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class qf{}function BA(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new pw(t.key,mr.none()):new yu(t.key,t.data,mr.none());{const n=t.data,r=$n.empty();let s=new _t(kt.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new zo(t.key,r,new dr(s.toArray()),mr.none())}}function $5(t,e,n){t instanceof yu?function(s,i,o){const a=s.value.clone(),l=Wx(s.fieldTransforms,i,o.transformResults);a.setAll(l),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof zo?function(s,i,o){if(!Ud(s.precondition,i))return void i.convertToUnknownDocument(o.version);const a=Wx(s.fieldTransforms,i,o.transformResults),l=i.data;l.setAll(zA(s)),l.setAll(a),i.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function gc(t,e,n,r){return t instanceof yu?function(i,o,a,l){if(!Ud(i.precondition,o))return a;const u=i.value.clone(),d=Hx(i.fieldTransforms,l,o);return u.setAll(d),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof zo?function(i,o,a,l){if(!Ud(i.precondition,o))return a;const u=Hx(i.fieldTransforms,l,o),d=o.data;return d.setAll(zA(i)),d.setAll(u),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),a===null?null:a.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(i,o,a){return Ud(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function B5(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=VA(r.transform,s||null);i!=null&&(n===null&&(n=$n.empty()),n.set(r.field,i))}return n||null}function zx(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&Qa(r,s,(i,o)=>F5(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class yu extends qf{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class zo extends qf{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function zA(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function Wx(t,e,n){const r=new Map;Oe(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,a=e.data.field(i.field);r.set(i.field,j5(o,a,n[s]))}return r}function Hx(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,M5(i,o,e))}return r}class pw extends qf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class z5 extends qf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W5{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&$5(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=gc(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=gc(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=MA();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=n.has(s.key)?null:a;const l=BA(o,a);l!==null&&r.set(s.key,l),o.isValidDocument()||o.convertToNoDocument(ge.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Se())}isEqual(e){return this.batchId===e.batchId&&Qa(this.mutations,e.mutations,(n,r)=>zx(n,r))&&Qa(this.baseMutations,e.baseMutations,(n,r)=>zx(n,r))}}class mw{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){Oe(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let s=function(){return N5}();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new mw(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let H5=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q5{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var dt,Re;function G5(t){switch(t){case z.OK:return fe(64938);case z.CANCELLED:case z.UNKNOWN:case z.DEADLINE_EXCEEDED:case z.RESOURCE_EXHAUSTED:case z.INTERNAL:case z.UNAVAILABLE:case z.UNAUTHENTICATED:return!1;case z.INVALID_ARGUMENT:case z.NOT_FOUND:case z.ALREADY_EXISTS:case z.PERMISSION_DENIED:case z.FAILED_PRECONDITION:case z.ABORTED:case z.OUT_OF_RANGE:case z.UNIMPLEMENTED:case z.DATA_LOSS:return!0;default:return fe(15467,{code:t})}}function WA(t){if(t===void 0)return Ts("GRPC error has no .code"),z.UNKNOWN;switch(t){case dt.OK:return z.OK;case dt.CANCELLED:return z.CANCELLED;case dt.UNKNOWN:return z.UNKNOWN;case dt.DEADLINE_EXCEEDED:return z.DEADLINE_EXCEEDED;case dt.RESOURCE_EXHAUSTED:return z.RESOURCE_EXHAUSTED;case dt.INTERNAL:return z.INTERNAL;case dt.UNAVAILABLE:return z.UNAVAILABLE;case dt.UNAUTHENTICATED:return z.UNAUTHENTICATED;case dt.INVALID_ARGUMENT:return z.INVALID_ARGUMENT;case dt.NOT_FOUND:return z.NOT_FOUND;case dt.ALREADY_EXISTS:return z.ALREADY_EXISTS;case dt.PERMISSION_DENIED:return z.PERMISSION_DENIED;case dt.FAILED_PRECONDITION:return z.FAILED_PRECONDITION;case dt.ABORTED:return z.ABORTED;case dt.OUT_OF_RANGE:return z.OUT_OF_RANGE;case dt.UNIMPLEMENTED:return z.UNIMPLEMENTED;case dt.DATA_LOSS:return z.DATA_LOSS;default:return fe(39323,{code:t})}}(Re=dt||(dt={}))[Re.OK=0]="OK",Re[Re.CANCELLED=1]="CANCELLED",Re[Re.UNKNOWN=2]="UNKNOWN",Re[Re.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Re[Re.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Re[Re.NOT_FOUND=5]="NOT_FOUND",Re[Re.ALREADY_EXISTS=6]="ALREADY_EXISTS",Re[Re.PERMISSION_DENIED=7]="PERMISSION_DENIED",Re[Re.UNAUTHENTICATED=16]="UNAUTHENTICATED",Re[Re.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Re[Re.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Re[Re.ABORTED=10]="ABORTED",Re[Re.OUT_OF_RANGE=11]="OUT_OF_RANGE",Re[Re.UNIMPLEMENTED=12]="UNIMPLEMENTED",Re[Re.INTERNAL=13]="INTERNAL",Re[Re.UNAVAILABLE=14]="UNAVAILABLE",Re[Re.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K5(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q5=new xi([4294967295,4294967295],0);function qx(t){const e=K5().encode(t),n=new oA;return n.update(e),new Uint8Array(n.digest())}function Gx(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new xi([n,r],0),new xi([s,i],0)]}class gw{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Xl(`Invalid padding: ${n}`);if(r<0)throw new Xl(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Xl(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Xl(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=xi.fromNumber(this.ge)}ye(e,n,r){let s=e.add(n.multiply(xi.fromNumber(r)));return s.compare(Q5)===1&&(s=new xi([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=qx(e),[r,s]=Gx(n);for(let i=0;i<this.hashCount;i++){const o=this.ye(r,s,i);if(!this.we(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new gw(i,s,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.ge===0)return;const n=qx(e),[r,s]=Gx(n);for(let i=0;i<this.hashCount;i++){const o=this.ye(r,s,i);this.Se(o)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Xl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gf{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,vu.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Gf(ge.min(),s,new tt(Te),Ss(),Se())}}class vu{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new vu(r,n,Se(),Se(),Se())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $d{constructor(e,n,r,s){this.be=e,this.removedTargetIds=n,this.key=r,this.De=s}}class HA{constructor(e,n){this.targetId=e,this.Ce=n}}class qA{constructor(e,n,r=Mt.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class Kx{constructor(){this.ve=0,this.Fe=Qx(),this.Me=Mt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Se(),n=Se(),r=Se();return this.Fe.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:fe(38017,{changeType:i})}}),new vu(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=Qx()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Oe(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class Y5{constructor(e){this.Ge=e,this.ze=new Map,this.je=Ss(),this.Je=cd(),this.He=cd(),this.Ye=new tt(Te)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:fe(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((r,s)=>{this.rt(s)&&n(s)})}st(e){const n=e.targetId,r=e.Ce.count,s=this.ot(n);if(s){const i=s.target;if(sy(i))if(r===0){const o=new ie(i.path);this.et(n,o,zt.newNoDocument(o,ge.min()))}else Oe(r===1,20013,{expectedCount:r});else{const o=this._t(n);if(o!==r){const a=this.ut(e),l=a?this.ct(a,e,o):1;if(l!==0){this.it(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,u)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,a;try{o=Ni(r).toUint8Array()}catch(l){if(l instanceof yA)return Ka("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new gw(o,s,i)}catch(l){return Ka(l instanceof Xl?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.ge===0?null:a}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const o=this.Ge.ht(),a=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(a)||(this.et(n,i,null),s++)}),s}Tt(e){const n=new Map;this.ze.forEach((i,o)=>{const a=this.ot(o);if(a){if(i.current&&sy(a.target)){const l=new ie(a.target.path);this.It(l).has(o)||this.Et(o,l)||this.et(o,l,zt.newNoDocument(l,e))}i.Be&&(n.set(o,i.ke()),i.qe())}});let r=Se();this.He.forEach((i,o)=>{let a=!0;o.forEachWhile(l=>{const u=this.ot(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(i))}),this.je.forEach((i,o)=>o.setReadTime(e));const s=new Gf(e,n,this.Ye,this.je,r);return this.je=Ss(),this.Je=cd(),this.He=cd(),this.Ye=new tt(Te),s}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const s=this.nt(e);this.Et(e,n)?s.Qe(n,1):s.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new Kx,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new _t(Te),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new _t(Te),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||te("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Kx),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function cd(){return new tt(ie.comparator)}function Qx(){return new tt(ie.comparator)}const X5={asc:"ASCENDING",desc:"DESCENDING"},J5={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Z5={and:"AND",or:"OR"};class e9{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function ay(t,e){return t.useProto3Json||Uf(e)?e:{value:e}}function Mh(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function GA(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function t9(t,e){return Mh(t,e.toTimestamp())}function Gr(t){return Oe(!!t,49232),ge.fromTimestamp(function(n){const r=Pi(n);return new Ke(r.seconds,r.nanos)}(t))}function yw(t,e){return ly(t,e).canonicalString()}function ly(t,e){const n=function(s){return new Ue(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function KA(t){const e=Ue.fromString(t);return Oe(ZA(e),10190,{key:e.toString()}),e}function cy(t,e){return yw(t.databaseId,e.path)}function ym(t,e){const n=KA(e);if(n.get(1)!==t.databaseId.projectId)throw new ee(z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ee(z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ie(YA(n))}function QA(t,e){return yw(t.databaseId,e)}function n9(t){const e=KA(t);return e.length===4?Ue.emptyPath():YA(e)}function uy(t){return new Ue(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function YA(t){return Oe(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function Yx(t,e,n){return{name:cy(t,e),fields:n.value.mapValue.fields}}function r9(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:fe(39313,{state:u})}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(u,d){return u.useProto3Json?(Oe(d===void 0||typeof d=="string",58123),Mt.fromBase64String(d||"")):(Oe(d===void 0||d instanceof Buffer||d instanceof Uint8Array,16193),Mt.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const d=u.code===void 0?z.UNKNOWN:WA(u.code);return new ee(d,u.message||"")}(o);n=new qA(r,s,i,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=ym(t,r.document.name),i=Gr(r.document.updateTime),o=r.document.createTime?Gr(r.document.createTime):ge.min(),a=new $n({mapValue:{fields:r.document.fields}}),l=zt.newFoundDocument(s,i,o,a),u=r.targetIds||[],d=r.removedTargetIds||[];n=new $d(u,d,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=ym(t,r.document),i=r.readTime?Gr(r.readTime):ge.min(),o=zt.newNoDocument(s,i),a=r.removedTargetIds||[];n=new $d([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=ym(t,r.document),i=r.removedTargetIds||[];n=new $d([],i,s,null)}else{if(!("filter"in e))return fe(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new q5(s,i),a=r.targetId;n=new HA(a,o)}}return n}function s9(t,e){let n;if(e instanceof yu)n={update:Yx(t,e.key,e.value)};else if(e instanceof pw)n={delete:cy(t,e.key)};else if(e instanceof zo)n={update:Yx(t,e.key,e.data),updateMask:f9(e.fieldMask)};else{if(!(e instanceof z5))return fe(16599,{Vt:e.type});n={verify:cy(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const a=o.transform;if(a instanceof Yc)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Xc)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Jc)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Lh)return{fieldPath:o.field.canonicalString(),increment:a.Ae};throw fe(20930,{transform:o.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:t9(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:fe(27497)}(t,e.precondition)),n}function i9(t,e){return t&&t.length>0?(Oe(e!==void 0,14353),t.map(n=>function(s,i){let o=s.updateTime?Gr(s.updateTime):Gr(i);return o.isEqual(ge.min())&&(o=Gr(i)),new U5(o,s.transformResults||[])}(n,e))):[]}function o9(t,e){return{documents:[QA(t,e.path)]}}function a9(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=QA(t,s);const i=function(u){if(u.length!==0)return JA(_r.create(u,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(u){if(u.length!==0)return u.map(d=>function(p){return{field:na(p.field),direction:u9(p.dir)}}(d))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=ay(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{ft:n,parent:s}}function l9(t){let e=n9(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){Oe(r===1,65062);const d=n.from[0];d.allDescendants?s=d.collectionId:e=e.child(d.collectionId)}let i=[];n.where&&(i=function(f){const p=XA(f);return p instanceof _r&&CA(p)?p.getFilters():[p]}(n.where));let o=[];n.orderBy&&(o=function(f){return f.map(p=>function(S){return new Qc(ra(S.field),function(x){switch(x){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(S.direction))}(p))}(n.orderBy));let a=null;n.limit&&(a=function(f){let p;return p=typeof f=="object"?f.value:f,Uf(p)?null:p}(n.limit));let l=null;n.startAt&&(l=function(f){const p=!!f.before,g=f.values||[];return new Dh(g,p)}(n.startAt));let u=null;return n.endAt&&(u=function(f){const p=!f.before,g=f.values||[];return new Dh(g,p)}(n.endAt)),I5(e,s,o,i,a,"F",l,u)}function c9(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return fe(28987,{purpose:s})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function XA(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=ra(n.unaryFilter.field);return pt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=ra(n.unaryFilter.field);return pt.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=ra(n.unaryFilter.field);return pt.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=ra(n.unaryFilter.field);return pt.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return fe(61313);default:return fe(60726)}}(t):t.fieldFilter!==void 0?function(n){return pt.create(ra(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return fe(58110);default:return fe(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return _r.create(n.compositeFilter.filters.map(r=>XA(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return fe(1026)}}(n.compositeFilter.op))}(t):fe(30097,{filter:t})}function u9(t){return X5[t]}function d9(t){return J5[t]}function h9(t){return Z5[t]}function na(t){return{fieldPath:t.canonicalString()}}function ra(t){return kt.fromServerFormat(t.fieldPath)}function JA(t){return t instanceof pt?function(n){if(n.op==="=="){if(jx(n.value))return{unaryFilter:{field:na(n.field),op:"IS_NAN"}};if(Mx(n.value))return{unaryFilter:{field:na(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(jx(n.value))return{unaryFilter:{field:na(n.field),op:"IS_NOT_NAN"}};if(Mx(n.value))return{unaryFilter:{field:na(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:na(n.field),op:d9(n.op),value:n.value}}}(t):t instanceof _r?function(n){const r=n.getFilters().map(s=>JA(s));return r.length===1?r[0]:{compositeFilter:{op:h9(n.op),filters:r}}}(t):fe(54877,{filter:t})}function f9(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function ZA(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ci{constructor(e,n,r,s,i=ge.min(),o=ge.min(),a=Mt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new ci(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ci(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ci(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ci(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p9{constructor(e){this.yt=e}}function m9(t){const e=l9({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?oy(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g9{constructor(){this.Cn=new y9}addToCollectionParentIndex(e,n){return this.Cn.add(n),W.resolve()}getCollectionParents(e,n){return W.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return W.resolve()}deleteFieldIndex(e,n){return W.resolve()}deleteAllFieldIndexes(e){return W.resolve()}createTargetIndexes(e,n){return W.resolve()}getDocumentsMatchingTarget(e,n){return W.resolve(null)}getIndexType(e,n){return W.resolve(0)}getFieldIndexes(e,n){return W.resolve([])}getNextCollectionGroupToUpdate(e){return W.resolve(null)}getMinOffset(e,n){return W.resolve(Ri.min())}getMinOffsetFromCollectionGroup(e,n){return W.resolve(Ri.min())}updateCollectionGroup(e,n,r){return W.resolve()}updateIndexEntries(e,n){return W.resolve()}}class y9{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new _t(Ue.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new _t(Ue.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xx={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},eR=41943040;class ln{static withCacheSize(e){return new ln(e,ln.DEFAULT_COLLECTION_PERCENTILE,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ln.DEFAULT_COLLECTION_PERCENTILE=10,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ln.DEFAULT=new ln(eR,ln.DEFAULT_COLLECTION_PERCENTILE,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ln.DISABLED=new ln(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ja{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Ja(0)}static cr(){return new Ja(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jx="LruGarbageCollector",v9=1048576;function Zx([t,e],[n,r]){const s=Te(t,n);return s===0?Te(e,r):s}class w9{constructor(e){this.Ir=e,this.buffer=new _t(Zx),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();Zx(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class _9{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){te(Jx,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){pl(n)?te(Jx,"Ignoring IndexedDB error during garbage collection: ",n):await fl(n)}await this.Vr(3e5)})}}class E9{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return W.resolve(Ff.ce);const r=new w9(n);return this.mr.forEachTarget(e,s=>r.Ar(s.sequenceNumber)).next(()=>this.mr.pr(e,s=>r.Ar(s))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(te("LruGarbageCollector","Garbage collection skipped; disabled"),W.resolve(Xx)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(te("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Xx):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,s,i,o,a,l,u;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(te("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),s=this.params.maximumSequenceNumbersToCollect):s=f,o=Date.now(),this.nthSequenceNumber(e,s))).next(f=>(r=f,a=Date.now(),this.removeTargets(e,r,n))).next(f=>(i=f,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(f=>(u=Date.now(),ea()<=xe.DEBUG&&te("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-d}ms
	Determined least recently used ${s} in `+(a-o)+`ms
	Removed ${i} targets in `+(l-a)+`ms
	Removed ${f} documents in `+(u-l)+`ms
Total Duration: ${u-d}ms`),W.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:i,documentsRemoved:f})))}}function x9(t,e){return new E9(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T9{constructor(){this.changes=new Bo(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,zt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?W.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S9{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b9{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&gc(r.mutation,s,dr.empty(),Ke.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Se()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Se()){const s=ro();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let o=Yl();return i.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=ro();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Se()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,s){let i=Ss();const o=mc(),a=function(){return mc()}();return n.forEach((l,u)=>{const d=r.get(u.key);s.has(u.key)&&(d===void 0||d.mutation instanceof zo)?i=i.insert(u.key,u):d!==void 0?(o.set(u.key,d.mutation.getFieldMask()),gc(d.mutation,u,d.mutation.getFieldMask(),Ke.now())):o.set(u.key,dr.empty())}),this.recalculateAndSaveOverlays(e,i).next(l=>(l.forEach((u,d)=>o.set(u,d)),n.forEach((u,d)=>a.set(u,new S9(d,o.get(u)??null))),a))}recalculateAndSaveOverlays(e,n){const r=mc();let s=new tt((o,a)=>o-a),i=Se();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let d=r.get(l)||dr.empty();d=a.applyToLocalView(u,d),r.set(l,d);const f=(s.get(a.batchId)||Se()).add(l);s=s.insert(a.batchId,f)})}).next(()=>{const o=[],a=s.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,d=l.value,f=MA();d.forEach(p=>{if(!i.has(p)){const g=BA(n.get(p),r.get(p));g!==null&&f.set(p,g),i=i.add(p)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,f))}return W.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(o){return ie.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):NA(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):W.resolve(ro());let a=Hc,l=i;return o.next(u=>W.forEach(u,(d,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),i.get(d)?W.resolve():this.remoteDocumentCache.getEntry(e,d).next(p=>{l=l.insert(d,p)}))).next(()=>this.populateOverlays(e,u,i)).next(()=>this.computeViews(e,l,u,Se())).next(d=>({batchId:a,changes:LA(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ie(n)).next(r=>{let s=Yl();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let o=Yl();return this.indexManager.getCollectionParents(e,i).next(a=>W.forEach(a,l=>{const u=function(f,p){return new $o(p,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,l.child(i));return this.getDocumentsMatchingCollectionQuery(e,u,r,s).next(d=>{d.forEach((f,p)=>{o=o.insert(f,p)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(o=>{i.forEach((l,u)=>{const d=u.getKey();o.get(d)===null&&(o=o.insert(d,zt.newInvalidDocument(d)))});let a=Yl();return o.forEach((l,u)=>{const d=i.get(l);d!==void 0&&gc(d.mutation,u,dr.empty(),Ke.now()),Wf(n,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I9{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return W.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:Gr(s.createTime)}}(n)),W.resolve()}getNamedQuery(e,n){return W.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(s){return{name:s.name,query:m9(s.bundledQuery),readTime:Gr(s.readTime)}}(n)),W.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C9{constructor(){this.overlays=new tt(ie.comparator),this.qr=new Map}getOverlay(e,n){return W.resolve(this.overlays.get(n))}getOverlays(e,n){const r=ro();return W.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.St(e,n,i)}),W.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.qr.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.qr.delete(r)),W.resolve()}getOverlaysForCollection(e,n,r){const s=ro(),i=n.length+1,o=new ie(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===i&&l.largestBatchId>r&&s.set(l.getKey(),l)}return W.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new tt((u,d)=>u-d);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let d=i.get(u.largestBatchId);d===null&&(d=ro(),i=i.insert(u.largestBatchId,d)),d.set(u.getKey(),u)}}const a=ro(),l=i.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,d)=>a.set(u,d)),!(a.size()>=s)););return W.resolve(a)}St(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.qr.get(s.largestBatchId).delete(r.key);this.qr.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new H5(n,r));let i=this.qr.get(n);i===void 0&&(i=Se(),this.qr.set(n,i)),this.qr.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A9{constructor(){this.sessionToken=Mt.EMPTY_BYTE_STRING}getSessionToken(e){return W.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,W.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vw{constructor(){this.Qr=new _t(bt.$r),this.Ur=new _t(bt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new bt(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Gr(new bt(e,n))}zr(e,n){e.forEach(r=>this.removeReference(r,n))}jr(e){const n=new ie(new Ue([])),r=new bt(n,e),s=new bt(n,e+1),i=[];return this.Ur.forEachInRange([r,s],o=>{this.Gr(o),i.push(o.key)}),i}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new ie(new Ue([])),r=new bt(n,e),s=new bt(n,e+1);let i=Se();return this.Ur.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new bt(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class bt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return ie.comparator(e.key,n.key)||Te(e.Yr,n.Yr)}static Kr(e,n){return Te(e.Yr,n.Yr)||ie.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R9{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new _t(bt.$r)}checkEmpty(e){return W.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new W5(i,n,r,s);this.mutationQueue.push(o);for(const a of s)this.Zr=this.Zr.add(new bt(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return W.resolve(o)}lookupMutationBatch(e,n){return W.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.ei(r),i=s<0?0:s;return W.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return W.resolve(this.mutationQueue.length===0?lw:this.tr-1)}getAllMutationBatches(e){return W.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new bt(n,0),s=new bt(n,Number.POSITIVE_INFINITY),i=[];return this.Zr.forEachInRange([r,s],o=>{const a=this.Xr(o.Yr);i.push(a)}),W.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new _t(Te);return n.forEach(s=>{const i=new bt(s,0),o=new bt(s,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([i,o],a=>{r=r.add(a.Yr)})}),W.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;ie.isDocumentKey(i)||(i=i.child(""));const o=new bt(new ie(i),0);let a=new _t(Te);return this.Zr.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===s&&(a=a.add(l.Yr)),!0)},o),W.resolve(this.ti(a))}ti(e){const n=[];return e.forEach(r=>{const s=this.Xr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){Oe(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return W.forEach(n.mutations,s=>{const i=new bt(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Zr=r})}ir(e){}containsKey(e,n){const r=new bt(n,0),s=this.Zr.firstAfterOrEqual(r);return W.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,W.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P9{constructor(e){this.ri=e,this.docs=function(){return new tt(ie.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return W.resolve(r?r.document.mutableCopy():zt.newInvalidDocument(n))}getEntries(e,n){let r=Ss();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():zt.newInvalidDocument(s))}),W.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=Ss();const o=n.path,a=new ie(o.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:d}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||s5(r5(d),r)<=0||(s.has(d.key)||Wf(n,d))&&(i=i.insert(d.key,d.mutableCopy()))}return W.resolve(i)}getAllFromCollectionGroup(e,n,r,s){fe(9500)}ii(e,n){return W.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new N9(this)}getSize(e){return W.resolve(this.size)}}class N9 extends T9{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.Nr.addEntry(e,s)):this.Nr.removeEntry(r)}),W.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k9{constructor(e){this.persistence=e,this.si=new Bo(n=>dw(n),hw),this.lastRemoteSnapshotVersion=ge.min(),this.highestTargetId=0,this.oi=0,this._i=new vw,this.targetCount=0,this.ai=Ja.ur()}forEachTarget(e,n){return this.si.forEach((r,s)=>n(s)),W.resolve()}getLastRemoteSnapshotVersion(e){return W.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return W.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),W.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),W.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Ja(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,W.resolve()}updateTargetData(e,n){return this.Pr(n),W.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,W.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.si.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.si.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),s++)}),W.waitFor(i).next(()=>s)}getTargetCount(e){return W.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return W.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),W.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),W.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),W.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return W.resolve(r)}containsKey(e,n){return W.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tR{constructor(e,n){this.ui={},this.overlays={},this.ci=new Ff(0),this.li=!1,this.li=!0,this.hi=new A9,this.referenceDelegate=e(this),this.Pi=new k9(this),this.indexManager=new g9,this.remoteDocumentCache=function(s){return new P9(s)}(r=>this.referenceDelegate.Ti(r)),this.serializer=new p9(n),this.Ii=new I9(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new C9,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new R9(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){te("MemoryPersistence","Starting transaction:",e);const s=new O9(this.ci.next());return this.referenceDelegate.Ei(),r(s).next(i=>this.referenceDelegate.di(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Ai(e,n){return W.or(Object.values(this.ui).map(r=>()=>r.containsKey(e,n)))}}class O9 extends o5{constructor(e){super(),this.currentSequenceNumber=e}}class ww{constructor(e){this.persistence=e,this.Ri=new vw,this.Vi=null}static mi(e){return new ww(e)}get fi(){if(this.Vi)return this.Vi;throw fe(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),W.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),W.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),W.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(s=>this.fi.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.fi.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return W.forEach(this.fi,r=>{const s=ie.fromPath(r);return this.gi(e,s).next(i=>{i||n.removeEntry(s,ge.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return W.or([()=>W.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class jh{constructor(e,n){this.persistence=e,this.pi=new Bo(r=>c5(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=x9(this,n)}static mi(e,n){return new jh(e,n)}Ei(){}di(e){return W.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(s=>r+s))}wr(e){let n=0;return this.pr(e,r=>{n++}).next(()=>n)}pr(e,n){return W.forEach(this.pi,(r,s)=>this.br(e,r,s).next(i=>i?W.resolve():n(s)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),i=s.newChangeBuffer();return s.ii(e,o=>this.br(e,o,n).next(a=>{a||(r++,i.removeEntry(o,ge.min()))})).next(()=>i.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),W.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),W.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),W.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),W.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Vd(e.data.value)),n}br(e,n,r){return W.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.pi.get(n);return W.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _w{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=s}static As(e,n){let r=Se(),s=Se();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new _w(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D9{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L9{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return lF()?8:a5(Kt())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.ys(e,n).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.ws(e,n,s,r).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new D9;return this.Ss(e,n,o).next(a=>{if(i.result=a,this.Vs)return this.bs(e,n,o,a.size)})}).next(()=>i.result)}bs(e,n,r,s){return r.documentReadCount<this.fs?(ea()<=xe.DEBUG&&te("QueryEngine","SDK will not create cache indexes for query:",ta(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),W.resolve()):(ea()<=xe.DEBUG&&te("QueryEngine","Query:",ta(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.gs*s?(ea()<=xe.DEBUG&&te("QueryEngine","The SDK decides to create cache indexes for query:",ta(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,qr(n))):W.resolve())}ys(e,n){if($x(n))return W.resolve(null);let r=qr(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=oy(n,null,"F"),r=qr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const o=Se(...i);return this.ps.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.Ds(n,a);return this.Cs(n,u,o,l.readTime)?this.ys(e,oy(n,null,"F")):this.vs(e,u,n,l)}))})))}ws(e,n,r,s){return $x(n)||s.isEqual(ge.min())?W.resolve(null):this.ps.getDocuments(e,r).next(i=>{const o=this.Ds(n,i);return this.Cs(n,o,r,s)?W.resolve(null):(ea()<=xe.DEBUG&&te("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),ta(n)),this.vs(e,o,n,n5(s,Hc)).next(a=>a))})}Ds(e,n){let r=new _t(OA(e));return n.forEach((s,i)=>{Wf(e,i)&&(r=r.add(i))}),r}Cs(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Ss(e,n,r){return ea()<=xe.DEBUG&&te("QueryEngine","Using full collection scan to execute query:",ta(n)),this.ps.getDocumentsMatchingQuery(e,n,Ri.min(),r)}vs(e,n,r,s){return this.ps.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ew="LocalStore",M9=3e8;class j9{constructor(e,n,r,s){this.persistence=e,this.Fs=n,this.serializer=s,this.Ms=new tt(Te),this.xs=new Bo(i=>dw(i),hw),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new b9(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function V9(t,e,n,r){return new j9(t,e,n,r)}async function nR(t,e){const n=ye(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.Bs(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],a=[];let l=Se();for(const u of s){o.push(u.batchId);for(const d of u.mutations)l=l.add(d.key)}for(const u of i){a.push(u.batchId);for(const d of u.mutations)l=l.add(d.key)}return n.localDocuments.getDocuments(r,l).next(u=>({Ls:u,removedBatchIds:o,addedBatchIds:a}))})})}function F9(t,e){const n=ye(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.Ns.newChangeBuffer({trackRemovals:!0});return function(a,l,u,d){const f=u.batch,p=f.keys();let g=W.resolve();return p.forEach(S=>{g=g.next(()=>d.getEntry(l,S)).next(v=>{const x=u.docVersions.get(S);Oe(x!==null,48541),v.version.compareTo(x)<0&&(f.applyToRemoteDocument(v,u),v.isValidDocument()&&(v.setReadTime(u.commitVersion),d.addEntry(v)))})}),g.next(()=>a.mutationQueue.removeMutationBatch(l,f))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=Se();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function rR(t){const e=ye(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function U9(t,e){const n=ye(t),r=e.snapshotVersion;let s=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.Ns.newChangeBuffer({trackRemovals:!0});s=n.Ms;const a=[];e.targetChanges.forEach((d,f)=>{const p=s.get(f);if(!p)return;a.push(n.Pi.removeMatchingKeys(i,d.removedDocuments,f).next(()=>n.Pi.addMatchingKeys(i,d.addedDocuments,f)));let g=p.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(f)!==null?g=g.withResumeToken(Mt.EMPTY_BYTE_STRING,ge.min()).withLastLimboFreeSnapshotVersion(ge.min()):d.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(d.resumeToken,r)),s=s.insert(f,g),function(v,x,E){return v.resumeToken.approximateByteSize()===0||x.snapshotVersion.toMicroseconds()-v.snapshotVersion.toMicroseconds()>=M9?!0:E.addedDocuments.size+E.modifiedDocuments.size+E.removedDocuments.size>0}(p,g,d)&&a.push(n.Pi.updateTargetData(i,g))});let l=Ss(),u=Se();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(i,d))}),a.push($9(i,o,e.documentUpdates).next(d=>{l=d.ks,u=d.qs})),!r.isEqual(ge.min())){const d=n.Pi.getLastRemoteSnapshotVersion(i).next(f=>n.Pi.setTargetsMetadata(i,i.currentSequenceNumber,r));a.push(d)}return W.waitFor(a).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,l,u)).next(()=>l)}).then(i=>(n.Ms=s,i))}function $9(t,e,n){let r=Se(),s=Se();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let o=Ss();return n.forEach((a,l)=>{const u=i.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(s=s.add(a)),l.isNoDocument()&&l.version.isEqual(ge.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):te(Ew,"Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{ks:o,qs:s}})}function B9(t,e){const n=ye(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=lw),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function z9(t,e){const n=ye(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Pi.getTargetData(r,e).next(i=>i?(s=i,W.resolve(s)):n.Pi.allocateTargetId(r).next(o=>(s=new ci(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.Ms.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r})}async function dy(t,e,n){const r=ye(t),s=r.Ms.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!pl(o))throw o;te(Ew,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ms=r.Ms.remove(e),r.xs.delete(s.target)}function eT(t,e,n){const r=ye(t);let s=ge.min(),i=Se();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,u,d){const f=ye(l),p=f.xs.get(d);return p!==void 0?W.resolve(f.Ms.get(p)):f.Pi.getTargetData(u,d)}(r,o,qr(e)).next(a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(o,a.targetId).next(l=>{i=l})}).next(()=>r.Fs.getDocumentsMatchingQuery(o,e,n?s:ge.min(),n?i:Se())).next(a=>(W9(r,A5(e),a),{documents:a,Qs:i})))}function W9(t,e,n){let r=t.Os.get(e)||ge.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.Os.set(e,r)}class tT{constructor(){this.activeTargetIds=D5()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class H9{constructor(){this.Mo=new tT,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new tT,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q9{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nT="ConnectivityMonitor";class rT{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){te(nT,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){te(nT,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ud=null;function hy(){return ud===null?ud=function(){return 268435456+Math.round(2147483648*Math.random())}():ud++,"0x"+ud.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vm="RestConnection",G9={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class K9{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${s}`,this.Wo=this.databaseId.database===kh?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Go(e,n,r,s,i){const o=hy(),a=this.zo(e,n.toUriEncodedString());te(vm,`Sending RPC '${e}' ${o}:`,a,r);const l={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(l,s,i);const{host:u}=new URL(a),d=Zr(u);return this.Jo(e,a,l,r,d).then(f=>(te(vm,`Received RPC '${e}' ${o}: `,f),f),f=>{throw Ka(vm,`RPC '${e}' ${o} failed with error: `,f,"url: ",a,"request:",r),f})}Ho(e,n,r,s,i,o){return this.Go(e,n,r,s,i)}jo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+hl}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,i)=>e[i]=s),r&&r.headers.forEach((s,i)=>e[i]=s)}zo(e,n){const r=G9[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q9{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ut="WebChannelConnection";class Y9 extends K9{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,s,i){const o=hy();return new Promise((a,l)=>{const u=new aA;u.setWithCredentials(!0),u.listenOnce(lA.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case jd.NO_ERROR:const f=u.getResponseJson();te(Ut,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(f)),a(f);break;case jd.TIMEOUT:te(Ut,`RPC '${e}' ${o} timed out`),l(new ee(z.DEADLINE_EXCEEDED,"Request time out"));break;case jd.HTTP_ERROR:const p=u.getStatus();if(te(Ut,`RPC '${e}' ${o} failed with status:`,p,"response text:",u.getResponseText()),p>0){let g=u.getResponseJson();Array.isArray(g)&&(g=g[0]);const S=g==null?void 0:g.error;if(S&&S.status&&S.message){const v=function(E){const w=E.toLowerCase().replace(/_/g,"-");return Object.values(z).indexOf(w)>=0?w:z.UNKNOWN}(S.status);l(new ee(v,S.message))}else l(new ee(z.UNKNOWN,"Server responded with status "+u.getStatus()))}else l(new ee(z.UNAVAILABLE,"Connection failed."));break;default:fe(9055,{l_:e,streamId:o,h_:u.getLastErrorCode(),P_:u.getLastError()})}}finally{te(Ut,`RPC '${e}' ${o} completed.`)}});const d=JSON.stringify(s);te(Ut,`RPC '${e}' ${o} sending request:`,s),u.send(n,"POST",d,r,15)})}T_(e,n,r){const s=hy(),i=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=dA(),a=uA(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.jo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const d=i.join("");te(Ut,`Creating RPC '${e}' stream ${s}: ${d}`,l);const f=o.createWebChannel(d,l);this.I_(f);let p=!1,g=!1;const S=new Q9({Yo:x=>{g?te(Ut,`Not sending because RPC '${e}' stream ${s} is closed:`,x):(p||(te(Ut,`Opening RPC '${e}' stream ${s} transport.`),f.open(),p=!0),te(Ut,`RPC '${e}' stream ${s} sending:`,x),f.send(x))},Zo:()=>f.close()}),v=(x,E,w)=>{x.listen(E,T=>{try{w(T)}catch(C){setTimeout(()=>{throw C},0)}})};return v(f,Ql.EventType.OPEN,()=>{g||(te(Ut,`RPC '${e}' stream ${s} transport opened.`),S.o_())}),v(f,Ql.EventType.CLOSE,()=>{g||(g=!0,te(Ut,`RPC '${e}' stream ${s} transport closed`),S.a_(),this.E_(f))}),v(f,Ql.EventType.ERROR,x=>{g||(g=!0,Ka(Ut,`RPC '${e}' stream ${s} transport errored. Name:`,x.name,"Message:",x.message),S.a_(new ee(z.UNAVAILABLE,"The operation could not be completed")))}),v(f,Ql.EventType.MESSAGE,x=>{var E;if(!g){const w=x.data[0];Oe(!!w,16349);const T=w,C=(T==null?void 0:T.error)||((E=T[0])==null?void 0:E.error);if(C){te(Ut,`RPC '${e}' stream ${s} received error:`,C);const D=C.status;let L=function(R){const k=dt[R];if(k!==void 0)return WA(k)}(D),I=C.message;L===void 0&&(L=z.INTERNAL,I="Unknown error status: "+D+" with message "+C.message),g=!0,S.a_(new ee(L,I)),f.close()}else te(Ut,`RPC '${e}' stream ${s} received:`,w),S.u_(w)}}),v(a,cA.STAT_EVENT,x=>{x.stat===Zg.PROXY?te(Ut,`RPC '${e}' stream ${s} detected buffering proxy`):x.stat===Zg.NOPROXY&&te(Ut,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{S.__()},0),S}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}function wm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kf(t){return new e9(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sR{constructor(e,n,r=1e3,s=1.5,i=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=s,this.R_=i,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),s=Math.max(0,n-r);s>0&&te("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,s,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sT="PersistentStream";class iR{constructor(e,n,r,s,i,o,a,l){this.Mi=e,this.S_=r,this.b_=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new sR(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===z.RESOURCE_EXHAUSTED?(Ts(n.toString()),Ts("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.D_===n&&this.G_(r,s)},r=>{e(()=>{const s=new ee(z.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(s)})})}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{r(()=>this.listener.Xo())}),this.stream.t_(()=>{r(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(s=>{r(()=>this.z_(s))}),this.stream.onMessage(s=>{r(()=>++this.F_==1?this.J_(s):this.onNext(s))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return te(sT,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(te(sT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class X9 extends iR{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=r9(this.serializer,e),r=function(i){if(!("targetChange"in i))return ge.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?ge.min():o.readTime?Gr(o.readTime):ge.min()}(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=uy(this.serializer),n.addTarget=function(i,o){let a;const l=o.target;if(a=sy(l)?{documents:o9(i,l)}:{query:a9(i,l).ft},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=GA(i,o.resumeToken);const u=ay(i,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(ge.min())>0){a.readTime=Mh(i,o.snapshotVersion.toTimestamp());const u=ay(i,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const r=c9(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=uy(this.serializer),n.removeTarget=e,this.q_(n)}}class J9 extends iR{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Oe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Oe(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Oe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=i9(e.writeResults,e.commitTime),r=Gr(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=uy(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>s9(this.serializer,r))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z9{}class e$ extends Z9{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new ee(z.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.Go(e,ly(n,r),s,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new ee(z.UNKNOWN,i.toString())})}Ho(e,n,r,s,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Ho(e,ly(n,r),s,o,a,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ee(z.UNKNOWN,o.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class t${constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ts(n),this.aa=!1):te("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Co="RemoteStore";class n${constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=i,this.Aa.Oo(o=>{r.enqueueAndForget(async()=>{Wo(this)&&(te(Co,"Restarting streams for network reachability change."),await async function(l){const u=ye(l);u.Ea.add(4),await wu(u),u.Ra.set("Unknown"),u.Ea.delete(4),await Qf(u)}(this))})}),this.Ra=new t$(r,s)}}async function Qf(t){if(Wo(t))for(const e of t.da)await e(!0)}async function wu(t){for(const e of t.da)await e(!1)}function oR(t,e){const n=ye(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),bw(n)?Sw(n):ml(n).O_()&&Tw(n,e))}function xw(t,e){const n=ye(t),r=ml(n);n.Ia.delete(e),r.O_()&&aR(n,e),n.Ia.size===0&&(r.O_()?r.L_():Wo(n)&&n.Ra.set("Unknown"))}function Tw(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ge.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}ml(t).Y_(e)}function aR(t,e){t.Va.Ue(e),ml(t).Z_(e)}function Sw(t){t.Va=new Y5({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),ml(t).start(),t.Ra.ua()}function bw(t){return Wo(t)&&!ml(t).x_()&&t.Ia.size>0}function Wo(t){return ye(t).Ea.size===0}function lR(t){t.Va=void 0}async function r$(t){t.Ra.set("Online")}async function s$(t){t.Ia.forEach((e,n)=>{Tw(t,e)})}async function i$(t,e){lR(t),bw(t)?(t.Ra.ha(e),Sw(t)):t.Ra.set("Unknown")}async function o$(t,e,n){if(t.Ra.set("Online"),e instanceof qA&&e.state===2&&e.cause)try{await async function(s,i){const o=i.cause;for(const a of i.targetIds)s.Ia.has(a)&&(await s.remoteSyncer.rejectListen(a,o),s.Ia.delete(a),s.Va.removeTarget(a))}(t,e)}catch(r){te(Co,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Vh(t,r)}else if(e instanceof $d?t.Va.Ze(e):e instanceof HA?t.Va.st(e):t.Va.tt(e),!n.isEqual(ge.min()))try{const r=await rR(t.localStore);n.compareTo(r)>=0&&await function(i,o){const a=i.Va.Tt(o);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const d=i.Ia.get(u);d&&i.Ia.set(u,d.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,u)=>{const d=i.Ia.get(l);if(!d)return;i.Ia.set(l,d.withResumeToken(Mt.EMPTY_BYTE_STRING,d.snapshotVersion)),aR(i,l);const f=new ci(d.target,l,u,d.sequenceNumber);Tw(i,f)}),i.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){te(Co,"Failed to raise snapshot:",r),await Vh(t,r)}}async function Vh(t,e,n){if(!pl(e))throw e;t.Ea.add(1),await wu(t),t.Ra.set("Offline"),n||(n=()=>rR(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{te(Co,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Qf(t)})}function cR(t,e){return e().catch(n=>Vh(t,n,e))}async function Yf(t){const e=ye(t),n=Oi(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:lw;for(;a$(e);)try{const s=await B9(e.localStore,r);if(s===null){e.Ta.length===0&&n.L_();break}r=s.batchId,l$(e,s)}catch(s){await Vh(e,s)}uR(e)&&dR(e)}function a$(t){return Wo(t)&&t.Ta.length<10}function l$(t,e){t.Ta.push(e);const n=Oi(t);n.O_()&&n.X_&&n.ea(e.mutations)}function uR(t){return Wo(t)&&!Oi(t).x_()&&t.Ta.length>0}function dR(t){Oi(t).start()}async function c$(t){Oi(t).ra()}async function u$(t){const e=Oi(t);for(const n of t.Ta)e.ea(n.mutations)}async function d$(t,e,n){const r=t.Ta.shift(),s=mw.from(r,e,n);await cR(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await Yf(t)}async function h$(t,e){e&&Oi(t).X_&&await async function(r,s){if(function(o){return G5(o)&&o!==z.ABORTED}(s.code)){const i=r.Ta.shift();Oi(r).B_(),await cR(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await Yf(r)}}(t,e),uR(t)&&dR(t)}async function iT(t,e){const n=ye(t);n.asyncQueue.verifyOperationInProgress(),te(Co,"RemoteStore received new credentials");const r=Wo(n);n.Ea.add(3),await wu(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Qf(n)}async function f$(t,e){const n=ye(t);e?(n.Ea.delete(2),await Qf(n)):e||(n.Ea.add(2),await wu(n),n.Ra.set("Unknown"))}function ml(t){return t.ma||(t.ma=function(n,r,s){const i=ye(n);return i.sa(),new X9(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Xo:r$.bind(null,t),t_:s$.bind(null,t),r_:i$.bind(null,t),H_:o$.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),bw(t)?Sw(t):t.Ra.set("Unknown")):(await t.ma.stop(),lR(t))})),t.ma}function Oi(t){return t.fa||(t.fa=function(n,r,s){const i=ye(n);return i.sa(),new J9(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:c$.bind(null,t),r_:h$.bind(null,t),ta:u$.bind(null,t),na:d$.bind(null,t)}),t.da.push(async e=>{e?(t.fa.B_(),await Yf(t)):(await t.fa.stop(),t.Ta.length>0&&(te(Co,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iw{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new ps,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,a=new Iw(e,n,o,s,i);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ee(z.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Cw(t,e){if(Ts("AsyncQueue",`${e}: ${t}`),pl(t))return new ee(z.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ca{static emptySet(e){return new Ca(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||ie.comparator(n.key,r.key):(n,r)=>ie.comparator(n.key,r.key),this.keyedMap=Yl(),this.sortedSet=new tt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ca)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Ca;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oT{constructor(){this.ga=new tt(ie.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):fe(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,r)=>{e.push(r)}),e}}class Za{constructor(e,n,r,s,i,o,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Za(e,n,Ca.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&zf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p${constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class m${constructor(){this.queries=aT(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const s=ye(n),i=s.queries;s.queries=aT(),i.forEach((o,a)=>{for(const l of a.Sa)l.onError(r)})})(this,new ee(z.ABORTED,"Firestore shutting down"))}}function aT(){return new Bo(t=>kA(t),zf)}async function Aw(t,e){const n=ye(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.ba()&&e.Da()&&(r=2):(i=new p$,r=e.Da()?0:1);try{switch(r){case 0:i.wa=await n.onListen(s,!0);break;case 1:i.wa=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(o){const a=Cw(o,`Initialization of query '${ta(e.query)}' failed`);return void e.onError(a)}n.queries.set(s,i),i.Sa.push(e),e.va(n.onlineState),i.wa&&e.Fa(i.wa)&&Pw(n)}async function Rw(t,e){const n=ye(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const o=i.Sa.indexOf(e);o>=0&&(i.Sa.splice(o,1),i.Sa.length===0?s=e.Da()?0:1:!i.ba()&&e.Da()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function g$(t,e){const n=ye(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const a of o.Sa)a.Fa(s)&&(r=!0);o.wa=s}}r&&Pw(n)}function y$(t,e,n){const r=ye(t),s=r.queries.get(e);if(s)for(const i of s.Sa)i.onError(n);r.queries.delete(e)}function Pw(t){t.Ca.forEach(e=>{e.next()})}var fy,lT;(lT=fy||(fy={})).Ma="default",lT.Cache="cache";class Nw{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new Za(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Za.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==fy.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hR{constructor(e){this.key=e}}class fR{constructor(e){this.key=e}}class v${constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Se(),this.mutatedKeys=Se(),this.eu=OA(e),this.tu=new Ca(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new oT,s=n?n.tu:this.tu;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,a=!1;const l=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,u=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((d,f)=>{const p=s.get(d),g=Wf(this.query,f)?f:null,S=!!p&&this.mutatedKeys.has(p.key),v=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations);let x=!1;p&&g?p.data.isEqual(g.data)?S!==v&&(r.track({type:3,doc:g}),x=!0):this.su(p,g)||(r.track({type:2,doc:g}),x=!0,(l&&this.eu(g,l)>0||u&&this.eu(g,u)<0)&&(a=!0)):!p&&g?(r.track({type:0,doc:g}),x=!0):p&&!g&&(r.track({type:1,doc:p}),x=!0,(l||u)&&(a=!0)),x&&(g?(o=o.add(g),i=v?i.add(d):i.delete(d)):(o=o.delete(d),i=i.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),i=i.delete(d.key),r.track({type:1,doc:d})}return{tu:o,iu:r,Cs:a,mutatedKeys:i}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const o=e.iu.ya();o.sort((d,f)=>function(g,S){const v=x=>{switch(x){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return fe(20277,{Rt:x})}};return v(g)-v(S)}(d.type,f.type)||this.eu(d.doc,f.doc)),this.ou(r),s=s??!1;const a=n&&!s?this._u():[],l=this.Xa.size===0&&this.current&&!s?1:0,u=l!==this.Za;return this.Za=l,o.length!==0||u?{snapshot:new Za(this.query,e.tu,i,o,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:a}:{au:a}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new oT,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Se(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))});const n=[];return e.forEach(r=>{this.Xa.has(r)||n.push(new fR(r))}),this.Xa.forEach(r=>{e.has(r)||n.push(new hR(r))}),n}cu(e){this.Ya=e.Qs,this.Xa=Se();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Za.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const kw="SyncEngine";class w${constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class _${constructor(e){this.key=e,this.hu=!1}}class E${constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new Bo(a=>kA(a),zf),this.Iu=new Map,this.Eu=new Set,this.du=new tt(ie.comparator),this.Au=new Map,this.Ru=new vw,this.Vu={},this.mu=new Map,this.fu=Ja.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function x$(t,e,n=!0){const r=wR(t);let s;const i=r.Tu.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.lu()):s=await pR(r,e,n,!0),s}async function T$(t,e){const n=wR(t);await pR(n,e,!0,!1)}async function pR(t,e,n,r){const s=await z9(t.localStore,qr(e)),i=s.targetId,o=t.sharedClientState.addLocalQueryTarget(i,n);let a;return r&&(a=await S$(t,e,i,o==="current",s.resumeToken)),t.isPrimaryClient&&n&&oR(t.remoteStore,s),a}async function S$(t,e,n,r,s){t.pu=(f,p,g)=>async function(v,x,E,w){let T=x.view.ru(E);T.Cs&&(T=await eT(v.localStore,x.query,!1).then(({documents:I})=>x.view.ru(I,T)));const C=w&&w.targetChanges.get(x.targetId),D=w&&w.targetMismatches.get(x.targetId)!=null,L=x.view.applyChanges(T,v.isPrimaryClient,C,D);return uT(v,x.targetId,L.au),L.snapshot}(t,f,p,g);const i=await eT(t.localStore,e,!0),o=new v$(e,i.Qs),a=o.ru(i.documents),l=vu.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),u=o.applyChanges(a,t.isPrimaryClient,l);uT(t,n,u.au);const d=new w$(e,n,o);return t.Tu.set(e,d),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),u.snapshot}async function b$(t,e,n){const r=ye(t),s=r.Tu.get(e),i=r.Iu.get(s.targetId);if(i.length>1)return r.Iu.set(s.targetId,i.filter(o=>!zf(o,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await dy(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&xw(r.remoteStore,s.targetId),py(r,s.targetId)}).catch(fl)):(py(r,s.targetId),await dy(r.localStore,s.targetId,!0))}async function I$(t,e){const n=ye(t),r=n.Tu.get(e),s=n.Iu.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),xw(n.remoteStore,r.targetId))}async function C$(t,e,n){const r=D$(t);try{const s=await function(o,a){const l=ye(o),u=Ke.now(),d=a.reduce((g,S)=>g.add(S.key),Se());let f,p;return l.persistence.runTransaction("Locally write mutations","readwrite",g=>{let S=Ss(),v=Se();return l.Ns.getEntries(g,d).next(x=>{S=x,S.forEach((E,w)=>{w.isValidDocument()||(v=v.add(E))})}).next(()=>l.localDocuments.getOverlayedDocuments(g,S)).next(x=>{f=x;const E=[];for(const w of a){const T=B5(w,f.get(w.key).overlayedDocument);T!=null&&E.push(new zo(w.key,T,SA(T.value.mapValue),mr.exists(!0)))}return l.mutationQueue.addMutationBatch(g,u,E,a)}).next(x=>{p=x;const E=x.applyToLocalDocumentSet(f,v);return l.documentOverlayCache.saveOverlays(g,x.batchId,E)})}).then(()=>({batchId:p.batchId,changes:LA(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(o,a,l){let u=o.Vu[o.currentUser.toKey()];u||(u=new tt(Te)),u=u.insert(a,l),o.Vu[o.currentUser.toKey()]=u}(r,s.batchId,n),await _u(r,s.changes),await Yf(r.remoteStore)}catch(s){const i=Cw(s,"Failed to persist write");n.reject(i)}}async function mR(t,e){const n=ye(t);try{const r=await U9(n.localStore,e);e.targetChanges.forEach((s,i)=>{const o=n.Au.get(i);o&&(Oe(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?o.hu=!0:s.modifiedDocuments.size>0?Oe(o.hu,14607):s.removedDocuments.size>0&&(Oe(o.hu,42227),o.hu=!1))}),await _u(n,r,e)}catch(r){await fl(r)}}function cT(t,e,n){const r=ye(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Tu.forEach((i,o)=>{const a=o.view.va(e);a.snapshot&&s.push(a.snapshot)}),function(o,a){const l=ye(o);l.onlineState=a;let u=!1;l.queries.forEach((d,f)=>{for(const p of f.Sa)p.va(a)&&(u=!0)}),u&&Pw(l)}(r.eventManager,e),s.length&&r.Pu.H_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function A$(t,e,n){const r=ye(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Au.get(e),i=s&&s.key;if(i){let o=new tt(ie.comparator);o=o.insert(i,zt.newNoDocument(i,ge.min()));const a=Se().add(i),l=new Gf(ge.min(),new Map,new tt(Te),o,a);await mR(r,l),r.du=r.du.remove(i),r.Au.delete(e),Ow(r)}else await dy(r.localStore,e,!1).then(()=>py(r,e,n)).catch(fl)}async function R$(t,e){const n=ye(t),r=e.batch.batchId;try{const s=await F9(n.localStore,e);yR(n,r,null),gR(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await _u(n,s)}catch(s){await fl(s)}}async function P$(t,e,n){const r=ye(t);try{const s=await function(o,a){const l=ye(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let d;return l.mutationQueue.lookupMutationBatch(u,a).next(f=>(Oe(f!==null,37113),d=f.keys(),l.mutationQueue.removeMutationBatch(u,f))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,d,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,d)).next(()=>l.localDocuments.getDocuments(u,d))})}(r.localStore,e);yR(r,e,n),gR(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await _u(r,s)}catch(s){await fl(s)}}function gR(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function yR(t,e,n){const r=ye(t);let s=r.Vu[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Vu[r.currentUser.toKey()]=s}}function py(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(r=>{t.Ru.containsKey(r)||vR(t,r)})}function vR(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(xw(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),Ow(t))}function uT(t,e,n){for(const r of n)r instanceof hR?(t.Ru.addReference(r.key,e),N$(t,r)):r instanceof fR?(te(kw,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||vR(t,r.key)):fe(19791,{wu:r})}function N$(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(te(kw,"New document in limbo: "+n),t.Eu.add(r),Ow(t))}function Ow(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new ie(Ue.fromString(e)),r=t.fu.next();t.Au.set(r,new _$(n)),t.du=t.du.insert(n,r),oR(t.remoteStore,new ci(qr(Bf(n.path)),r,"TargetPurposeLimboResolution",Ff.ce))}}async function _u(t,e,n){const r=ye(t),s=[],i=[],o=[];r.Tu.isEmpty()||(r.Tu.forEach((a,l)=>{o.push(r.pu(l,e,n).then(u=>{var d;if((u||n)&&r.isPrimaryClient){const f=u?!u.fromCache:(d=n==null?void 0:n.targetChanges.get(l.targetId))==null?void 0:d.current;r.sharedClientState.updateQueryState(l.targetId,f?"current":"not-current")}if(u){s.push(u);const f=_w.As(l.targetId,u);i.push(f)}}))}),await Promise.all(o),r.Pu.H_(s),await async function(l,u){const d=ye(l);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>W.forEach(u,p=>W.forEach(p.Es,g=>d.persistence.referenceDelegate.addReference(f,p.targetId,g)).next(()=>W.forEach(p.ds,g=>d.persistence.referenceDelegate.removeReference(f,p.targetId,g)))))}catch(f){if(!pl(f))throw f;te(Ew,"Failed to update sequence numbers: "+f)}for(const f of u){const p=f.targetId;if(!f.fromCache){const g=d.Ms.get(p),S=g.snapshotVersion,v=g.withLastLimboFreeSnapshotVersion(S);d.Ms=d.Ms.insert(p,v)}}}(r.localStore,i))}async function k$(t,e){const n=ye(t);if(!n.currentUser.isEqual(e)){te(kw,"User change. New user:",e.toKey());const r=await nR(n.localStore,e);n.currentUser=e,function(i,o){i.mu.forEach(a=>{a.forEach(l=>{l.reject(new ee(z.CANCELLED,o))})}),i.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await _u(n,r.Ls)}}function O$(t,e){const n=ye(t),r=n.Au.get(e);if(r&&r.hu)return Se().add(r.key);{let s=Se();const i=n.Iu.get(e);if(!i)return s;for(const o of i){const a=n.Tu.get(o);s=s.unionWith(a.view.nu)}return s}}function wR(t){const e=ye(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=mR.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=O$.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=A$.bind(null,e),e.Pu.H_=g$.bind(null,e.eventManager),e.Pu.yu=y$.bind(null,e.eventManager),e}function D$(t){const e=ye(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=R$.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=P$.bind(null,e),e}class Fh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Kf(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return V9(this.persistence,new L9,e.initialUser,this.serializer)}Cu(e){return new tR(ww.mi,this.serializer)}Du(e){return new H9}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Fh.provider={build:()=>new Fh};class L$ extends Fh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Oe(this.persistence.referenceDelegate instanceof jh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new _9(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?ln.withCacheSize(this.cacheSizeBytes):ln.DEFAULT;return new tR(r=>jh.mi(r,n),this.serializer)}}class my{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>cT(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=k$.bind(null,this.syncEngine),await f$(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new m$}()}createDatastore(e){const n=Kf(e.databaseInfo.databaseId),r=function(i){return new Y9(i)}(e.databaseInfo);return function(i,o,a,l){return new e$(i,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,o,a){return new n$(r,s,i,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>cT(this.syncEngine,n,0),function(){return rT.v()?new rT:new q9}())}createSyncEngine(e,n){return function(s,i,o,a,l,u,d){const f=new E$(s,i,o,a,l,u);return d&&(f.gu=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const i=ye(s);te(Co,"RemoteStore shutting down."),i.Ea.add(5),await wu(i),i.Aa.shutdown(),i.Ra.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}my.provider={build:()=>new my};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dw{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Ts("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Di="FirestoreClient";class M${constructor(e,n,r,s,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=$t.UNAUTHENTICATED,this.clientId=ow.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,async o=>{te(Di,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(te(Di,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ps;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Cw(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function _m(t,e){t.asyncQueue.verifyOperationInProgress(),te(Di,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await nR(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function dT(t,e){t.asyncQueue.verifyOperationInProgress();const n=await j$(t);te(Di,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>iT(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>iT(e.remoteStore,s)),t._onlineComponents=e}async function j$(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){te(Di,"Using user provided OfflineComponentProvider");try{await _m(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===z.FAILED_PRECONDITION||s.code===z.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;Ka("Error using user provided cache. Falling back to memory cache: "+n),await _m(t,new Fh)}}else te(Di,"Using default OfflineComponentProvider"),await _m(t,new L$(void 0));return t._offlineComponents}async function _R(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(te(Di,"Using user provided OnlineComponentProvider"),await dT(t,t._uninitializedComponentsProvider._online)):(te(Di,"Using default OnlineComponentProvider"),await dT(t,new my))),t._onlineComponents}function V$(t){return _R(t).then(e=>e.syncEngine)}async function Uh(t){const e=await _R(t),n=e.eventManager;return n.onListen=x$.bind(null,e.syncEngine),n.onUnlisten=b$.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=T$.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=I$.bind(null,e.syncEngine),n}function F$(t,e,n={}){const r=new ps;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,l,u){const d=new Dw({next:p=>{d.Nu(),o.enqueueAndForget(()=>Rw(i,f));const g=p.docs.has(a);!g&&p.fromCache?u.reject(new ee(z.UNAVAILABLE,"Failed to get document because the client is offline.")):g&&p.fromCache&&l&&l.source==="server"?u.reject(new ee(z.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(p)},error:p=>u.reject(p)}),f=new Nw(Bf(a.path),d,{includeMetadataChanges:!0,qa:!0});return Aw(i,f)}(await Uh(t),t.asyncQueue,e,n,r)),r.promise}function U$(t,e,n={}){const r=new ps;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,l,u){const d=new Dw({next:p=>{d.Nu(),o.enqueueAndForget(()=>Rw(i,f)),p.fromCache&&l.source==="server"?u.reject(new ee(z.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(p)},error:p=>u.reject(p)}),f=new Nw(a,d,{includeMetadataChanges:!0,qa:!0});return Aw(i,f)}(await Uh(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ER(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hT=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xR="firestore.googleapis.com",fT=!0;class pT{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ee(z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=xR,this.ssl=fT}else this.host=e.host,this.ssl=e.ssl??fT;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=eR;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<v9)throw new ee(z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}t5("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=ER(e.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new ee(z.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new ee(z.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new ee(z.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Eu{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new pT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ee(z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ee(z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new pT(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new H3;switch(r.type){case"firstParty":return new Q3(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ee(z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=hT.get(n);r&&(te("ComponentProvider","Removing Datastore"),hT.delete(n),r.terminate())}(this),Promise.resolve()}}function $$(t,e,n,r={}){var u;t=An(t,Eu);const s=Zr(e),i=t._getSettings(),o={...i,emulatorOptions:t._getEmulatorOptions()},a=`${e}:${n}`;s&&(Nf(`https://${a}`),kf("Firestore",!0)),i.host!==xR&&i.host!==a&&Ka("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l={...i,host:a,ssl:s,emulatorOptions:r};if(!Ai(l,o)&&(t._setSettings(l),r.mockUserToken)){let d,f;if(typeof r.mockUserToken=="string")d=r.mockUserToken,f=$t.MOCK_USER;else{d=f1(r.mockUserToken,(u=t._app)==null?void 0:u.options.projectId);const p=r.mockUserToken.sub||r.mockUserToken.user_id;if(!p)throw new ee(z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new $t(p)}t._authCredentials=new q3(new fA(d,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ns{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Ns(this.firestore,e,this._query)}}class ct{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ti(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ct(this.firestore,e,this._key)}toJSON(){return{type:ct._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(gu(n,ct._jsonSchema))return new ct(e,r||null,new ie(Ue.fromString(n.referencePath)))}}ct._jsonSchemaVersion="firestore/documentReference/1.0",ct._jsonSchema={type:mt("string",ct._jsonSchemaVersion),referencePath:mt("string")};class Ti extends Ns{constructor(e,n,r){super(e,n,Bf(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ct(this.firestore,null,new ie(e))}withConverter(e){return new Ti(this.firestore,e,this._path)}}function ht(t,e,...n){if(t=We(t),aw("collection","path",e),t instanceof Eu){const r=Ue.fromString(e,...n);return Cx(r),new Ti(t,null,r)}{if(!(t instanceof ct||t instanceof Ti))throw new ee(z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ue.fromString(e,...n));return Cx(r),new Ti(t.firestore,null,r)}}function mT(t,e){if(t=An(t,Eu),aw("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new ee(z.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Ns(t,null,function(r){return new $o(Ue.emptyPath(),r)}(e))}function Ae(t,e,...n){if(t=We(t),arguments.length===1&&(e=ow.newId()),aw("doc","path",e),t instanceof Eu){const r=Ue.fromString(e,...n);return Ix(r),new ct(t,null,new ie(r))}{if(!(t instanceof ct||t instanceof Ti))throw new ee(z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ue.fromString(e,...n));return Ix(r),new ct(t.firestore,t instanceof Ti?t.converter:null,new ie(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gT="AsyncQueue";class yT{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new sR(this,"async_queue_retry"),this._c=()=>{const r=wm();r&&te(gT,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=wm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=wm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new ps;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!pl(e))throw e;te(gT,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,Ts("INTERNAL UNHANDLED ERROR: ",vT(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const s=Iw.createAndSchedule(this,e,n,r,i=>this.hc(i));return this.tc.push(s),s}uc(){this.nc&&fe(47125,{Pc:vT(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function vT(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wT(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const s=n;for(const i of r)if(i in s&&typeof s[i]=="function")return!0;return!1}(t,["next","error","complete"])}class Li extends Eu{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new yT,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new yT(e),this._firestoreClient=void 0,await e}}}function B$(t,e){const n=typeof t=="object"?t:du(),r=typeof t=="string"?t:kh,s=As(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=Gv("firestore");i&&$$(s,...i)}return s}function Xf(t){if(t._terminated)throw new ee(z.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||z$(t),t._firestoreClient}function z$(t){var r,s,i;const e=t._freezeSettings(),n=function(a,l,u,d){return new h5(a,l,u,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,ER(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)}(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(s=e.localCache)!=null&&s._offlineComponentProvider&&((i=e.localCache)!=null&&i._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new M$(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Bn(Mt.fromBase64String(e))}catch(n){throw new ee(z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Bn(Mt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Bn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(gu(e,Bn._jsonSchema))return Bn.fromBase64String(e.bytes)}}Bn._jsonSchemaVersion="firestore/bytes/1.0",Bn._jsonSchema={type:mt("string",Bn._jsonSchemaVersion),bytes:mt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lw{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ee(z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new kt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mw{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kr{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ee(z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ee(z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Te(this._lat,e._lat)||Te(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Kr._jsonSchemaVersion}}static fromJSON(e){if(gu(e,Kr._jsonSchema))return new Kr(e.latitude,e.longitude)}}Kr._jsonSchemaVersion="firestore/geoPoint/1.0",Kr._jsonSchema={type:mt("string",Kr._jsonSchemaVersion),latitude:mt("number"),longitude:mt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qr{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Qr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(gu(e,Qr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new Qr(e.vectorValues);throw new ee(z.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Qr._jsonSchemaVersion="firestore/vectorValue/1.0",Qr._jsonSchema={type:mt("string",Qr._jsonSchemaVersion),vectorValues:mt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W$=/^__.*__$/;class H${constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new zo(e,this.data,this.fieldMask,n,this.fieldTransforms):new yu(e,this.data,n,this.fieldTransforms)}}function TR(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw fe(40011,{Ac:t})}}class jw{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.Rc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new jw({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var s;const n=(s=this.path)==null?void 0:s.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var s;const n=(s=this.path)==null?void 0:s.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return $h(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(TR(this.Ac)&&W$.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class q${constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Kf(e)}Cc(e,n,r,s=!1){return new jw({Ac:e,methodName:n,Dc:r,path:kt.emptyPath(),fc:!1,bc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Vw(t){const e=t._freezeSettings(),n=Kf(t._databaseId);return new q$(t._databaseId,!!e.ignoreUndefinedProperties,n)}function SR(t,e,n,r,s,i={}){const o=t.Cc(i.merge||i.mergeFields?2:0,e,n,s);CR("Data must be an object, but it was:",o,r);const a=bR(r,o);let l,u;if(i.merge)l=new dr(o.fieldMask),u=o.fieldTransforms;else if(i.mergeFields){const d=[];for(const f of i.mergeFields){const p=K$(e,f,n);if(!o.contains(p))throw new ee(z.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);Y$(d,p)||d.push(p)}l=new dr(d),u=o.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,u=o.fieldTransforms;return new H$(new $n(a),l,u)}class Fw extends Mw{_toFieldTransform(e){return new V5(e.path,new Yc)}isEqual(e){return e instanceof Fw}}function G$(t,e,n,r=!1){return Uw(n,t.Cc(r?4:3,e))}function Uw(t,e){if(IR(t=We(t)))return CR("Unsupported field value:",e,t),bR(t,e);if(t instanceof Mw)return function(r,s){if(!TR(s.Ac))throw s.Sc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Sc(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(r,s){const i=[];let o=0;for(const a of r){let l=Uw(a,s.wc(o));l==null&&(l={nullValue:"NULL_VALUE"}),i.push(l),o++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=We(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return L5(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=Ke.fromDate(r);return{timestampValue:Mh(s.serializer,i)}}if(r instanceof Ke){const i=new Ke(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Mh(s.serializer,i)}}if(r instanceof Kr)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Bn)return{bytesValue:GA(s.serializer,r._byteString)};if(r instanceof ct){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.Sc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:yw(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof Qr)return function(o,a){return{mapValue:{fields:{[xA]:{stringValue:TA},[Oh]:{arrayValue:{values:o.toArray().map(u=>{if(typeof u!="number")throw a.Sc("VectorValues must only contain numeric values.");return fw(a.serializer,u)})}}}}}}(r,s);throw s.Sc(`Unsupported field value: ${Vf(r)}`)}(t,e)}function bR(t,e){const n={};return gA(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Uo(t,(r,s)=>{const i=Uw(s,e.mc(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function IR(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ke||t instanceof Kr||t instanceof Bn||t instanceof ct||t instanceof Mw||t instanceof Qr)}function CR(t,e,n){if(!IR(n)||!pA(n)){const r=Vf(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function K$(t,e,n){if((e=We(e))instanceof Lw)return e._internalPath;if(typeof e=="string")return AR(t,e);throw $h("Field path arguments must be of type string or ",t,!1,void 0,n)}const Q$=new RegExp("[~\\*/\\[\\]]");function AR(t,e,n){if(e.search(Q$)>=0)throw $h(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Lw(...e.split("."))._internalPath}catch{throw $h(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function $h(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(i||o)&&(l+=" (found",i&&(l+=` in field ${r}`),o&&(l+=` in document ${s}`),l+=")"),new ee(z.INVALID_ARGUMENT,a+t+l)}function Y$(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RR{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new ct(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new X$(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Jf("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class X$ extends RR{data(){return super.data()}}function Jf(t,e){return typeof e=="string"?AR(t,e):e instanceof Lw?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PR(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ee(z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class $w{}class NR extends $w{}function gr(t,e,...n){let r=[];e instanceof $w&&r.push(e),r=r.concat(n),function(i){const o=i.filter(l=>l instanceof Bw).length,a=i.filter(l=>l instanceof Zf).length;if(o>1||o>0&&a>0)throw new ee(z.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)t=s._apply(t);return t}class Zf extends NR{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Zf(e,n,r)}_apply(e){const n=this._parse(e);return kR(e._query,n),new Ns(e.firestore,e.converter,iy(e._query,n))}_parse(e){const n=Vw(e.firestore);return function(i,o,a,l,u,d,f){let p;if(u.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new ee(z.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){ET(f,d);const S=[];for(const v of f)S.push(_T(l,i,v));p={arrayValue:{values:S}}}else p=_T(l,i,f)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||ET(f,d),p=G$(a,o,f,d==="in"||d==="not-in");return pt.create(u,d,p)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Lr(t,e,n){const r=e,s=Jf("where",t);return Zf._create(s,r,n)}class Bw extends $w{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Bw(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:_r.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,i){let o=s;const a=i.getFlattenedFilters();for(const l of a)kR(o,l),o=iy(o,l)}(e._query,n),new Ns(e.firestore,e.converter,iy(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class zw extends NR{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new zw(e,n)}_apply(e){const n=function(s,i,o){if(s.startAt!==null)throw new ee(z.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new ee(z.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Qc(i,o)}(e._query,this._field,this._direction);return new Ns(e.firestore,e.converter,function(s,i){const o=s.explicitOrderBy.concat([i]);return new $o(s.path,s.collectionGroup,o,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,n))}}function Bh(t,e="asc"){const n=e,r=Jf("orderBy",t);return zw._create(r,n)}function _T(t,e,n){if(typeof(n=We(n))=="string"){if(n==="")throw new ee(z.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!NA(e)&&n.indexOf("/")!==-1)throw new ee(z.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Ue.fromString(n));if(!ie.isDocumentKey(r))throw new ee(z.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Lx(t,new ie(r))}if(n instanceof ct)return Lx(t,n._key);throw new ee(z.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Vf(n)}.`)}function ET(t,e){if(!Array.isArray(t)||t.length===0)throw new ee(z.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function kR(t,e){const n=function(s,i){for(const o of s)for(const a of o.getFlattenedFilters())if(i.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new ee(z.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ee(z.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class J${convertValue(e,n="none"){switch(ki(e)){case 0:return null;case 1:return e.booleanValue;case 2:return at(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ni(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw fe(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Uo(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertVectorValue(e){var r,s,i;const n=(i=(s=(r=e.fields)==null?void 0:r[Oh].arrayValue)==null?void 0:s.values)==null?void 0:i.map(o=>at(o.doubleValue));return new Qr(n)}convertGeoPoint(e){return new Kr(at(e.latitude),at(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=$f(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(qc(e));default:return null}}convertTimestamp(e){const n=Pi(e);return new Ke(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Ue.fromString(e);Oe(ZA(r),9688,{name:e});const s=new Gc(r.get(1),r.get(3)),i=new ie(r.popFirst(5));return s.isEqual(n)||Ts(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OR(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class Jl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class po extends RR{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Bd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Jf("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ee(z.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=po._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}po._jsonSchemaVersion="firestore/documentSnapshot/1.0",po._jsonSchema={type:mt("string",po._jsonSchemaVersion),bundleSource:mt("string","DocumentSnapshot"),bundleName:mt("string"),bundle:mt("string")};class Bd extends po{data(e={}){return super.data(e)}}class mo{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new Jl(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Bd(this._firestore,this._userDataWriter,r.key,r,new Jl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ee(z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(a=>{const l=new Bd(s._firestore,s._userDataWriter,a.doc.key,a.doc,new Jl(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(a=>i||a.type!==3).map(a=>{const l=new Bd(s._firestore,s._userDataWriter,a.doc.key,a.doc,new Jl(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);let u=-1,d=-1;return a.type!==0&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),d=o.indexOf(a.doc.key)),{type:Z$(a.type),doc:l,oldIndex:u,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ee(z.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=mo._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=ow.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],s=[];return this.docs.forEach(i=>{i._document!==null&&(n.push(i._document),r.push(this._userDataWriter.convertObjectMap(i._document.data.value.mapValue.fields,"previous")),s.push(i.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function Z$(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return fe(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cn(t){t=An(t,ct);const e=An(t.firestore,Li);return F$(Xf(e),t._key).then(n=>DR(e,t,n))}mo._jsonSchemaVersion="firestore/querySnapshot/1.0",mo._jsonSchema={type:mt("string",mo._jsonSchemaVersion),bundleSource:mt("string","QuerySnapshot"),bundleName:mt("string"),bundle:mt("string")};class Ww extends J${constructor(e){super(),this.firestore=e}convertBytes(e){return new Bn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new ct(this.firestore,null,n)}}function go(t){t=An(t,Ns);const e=An(t.firestore,Li),n=Xf(e),r=new Ww(e);return PR(t._query),U$(n,t._query).then(s=>new mo(e,r,t,s))}function Ct(t,e,n){t=An(t,ct);const r=An(t.firestore,Li),s=OR(t.converter,e,n);return Hw(r,[SR(Vw(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,mr.none())])}function dd(t){return Hw(An(t.firestore,Li),[new pw(t._key,mr.none())])}function ep(t,e){const n=An(t.firestore,Li),r=Ae(t),s=OR(t.converter,e);return Hw(n,[SR(Vw(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,mr.exists(!1))]).then(()=>r)}function Tn(t,...e){var l,u,d;t=We(t);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||wT(e[r])||(n=e[r++]);const s={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(wT(e[r])){const f=e[r];e[r]=(l=f.next)==null?void 0:l.bind(f),e[r+1]=(u=f.error)==null?void 0:u.bind(f),e[r+2]=(d=f.complete)==null?void 0:d.bind(f)}let i,o,a;if(t instanceof ct)o=An(t.firestore,Li),a=Bf(t._key.path),i={next:f=>{e[r]&&e[r](DR(o,t,f))},error:e[r+1],complete:e[r+2]};else{const f=An(t,Ns);o=An(f.firestore,Li),a=f._query;const p=new Ww(o);i={next:g=>{e[r]&&e[r](new mo(o,p,f,g))},error:e[r+1],complete:e[r+2]},PR(t._query)}return function(p,g,S,v){const x=new Dw(v),E=new Nw(g,x,S);return p.asyncQueue.enqueueAndForget(async()=>Aw(await Uh(p),E)),()=>{x.Nu(),p.asyncQueue.enqueueAndForget(async()=>Rw(await Uh(p),E))}}(Xf(o),a,s,i)}function Hw(t,e){return function(r,s){const i=new ps;return r.asyncQueue.enqueueAndForget(async()=>C$(await V$(r),s,i)),i.promise}(Xf(t),e)}function DR(t,e,n){const r=n.docs.get(e._key),s=new Ww(t);return new po(t,s,e._key,r,new Jl(n.hasPendingWrites,n.fromCache),e.converter)}function tp(){return new Fw("serverTimestamp")}(function(e,n=!0){(function(s){hl=s})(Fo),Qn(new kn("firestore",(r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),a=new Li(new G3(r.getProvider("auth-internal")),new Y3(o,r.getProvider("app-check-internal")),function(u,d){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new ee(z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Gc(u.options.projectId,d)}(o,s),o);return i={useFetchStreams:n,...i},a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),qt(xx,Tx,e),qt(xx,Tx,"esm2020")})();var eB="firebase",tB="12.3.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */qt(eB,tB,"app");const LR="@firebase/installations",qw="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MR=1e4,jR=`w:${qw}`,VR="FIS_v2",nB="https://firebaseinstallations.googleapis.com/v1",rB=60*60*1e3,sB="installations",iB="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oB={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Ao=new Vo(sB,iB,oB);function FR(t){return t instanceof Ln&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UR({projectId:t}){return`${nB}/projects/${t}/installations`}function $R(t){return{token:t.token,requestStatus:2,expiresIn:lB(t.expiresIn),creationTime:Date.now()}}async function BR(t,e){const r=(await e.json()).error;return Ao.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function zR({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function aB(t,{refreshToken:e}){const n=zR(t);return n.append("Authorization",cB(e)),n}async function WR(t){const e=await t();return e.status>=500&&e.status<600?t():e}function lB(t){return Number(t.replace("s","000"))}function cB(t){return`${VR} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uB({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=UR(t),s=zR(t),i=e.getImmediate({optional:!0});if(i){const u=await i.getHeartbeatsHeader();u&&s.append("x-firebase-client",u)}const o={fid:n,authVersion:VR,appId:t.appId,sdkVersion:jR},a={method:"POST",headers:s,body:JSON.stringify(o)},l=await WR(()=>fetch(r,a));if(l.ok){const u=await l.json();return{fid:u.fid||n,registrationStatus:2,refreshToken:u.refreshToken,authToken:$R(u.authToken)}}else throw await BR("Create Installation",l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HR(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dB(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hB=/^[cdef][\w-]{21}$/,gy="";function fB(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=pB(t);return hB.test(n)?n:gy}catch{return gy}}function pB(t){return dB(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function np(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qR=new Map;function GR(t,e){const n=np(t);KR(n,e),mB(n,e)}function KR(t,e){const n=qR.get(t);if(n)for(const r of n)r(e)}function mB(t,e){const n=gB();n&&n.postMessage({key:t,fid:e}),yB()}let so=null;function gB(){return!so&&"BroadcastChannel"in self&&(so=new BroadcastChannel("[Firebase] FID Change"),so.onmessage=t=>{KR(t.data.key,t.data.fid)}),so}function yB(){qR.size===0&&so&&(so.close(),so=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vB="firebase-installations-database",wB=1,Ro="firebase-installations-store";let Em=null;function Gw(){return Em||(Em=w1(vB,wB,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Ro)}}})),Em}async function zh(t,e){const n=np(t),s=(await Gw()).transaction(Ro,"readwrite"),i=s.objectStore(Ro),o=await i.get(n);return await i.put(e,n),await s.done,(!o||o.fid!==e.fid)&&GR(t,e.fid),e}async function QR(t){const e=np(t),r=(await Gw()).transaction(Ro,"readwrite");await r.objectStore(Ro).delete(e),await r.done}async function rp(t,e){const n=np(t),s=(await Gw()).transaction(Ro,"readwrite"),i=s.objectStore(Ro),o=await i.get(n),a=e(o);return a===void 0?await i.delete(n):await i.put(a,n),await s.done,a&&(!o||o.fid!==a.fid)&&GR(t,a.fid),a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kw(t){let e;const n=await rp(t.appConfig,r=>{const s=_B(r),i=EB(t,s);return e=i.registrationPromise,i.installationEntry});return n.fid===gy?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function _B(t){const e=t||{fid:fB(),registrationStatus:0};return YR(e)}function EB(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const s=Promise.reject(Ao.create("app-offline"));return{installationEntry:e,registrationPromise:s}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=xB(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:TB(t)}:{installationEntry:e}}async function xB(t,e){try{const n=await uB(t,e);return zh(t.appConfig,n)}catch(n){throw FR(n)&&n.customData.serverCode===409?await QR(t.appConfig):await zh(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function TB(t){let e=await xT(t.appConfig);for(;e.registrationStatus===1;)await HR(100),e=await xT(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await Kw(t);return r||n}return e}function xT(t){return rp(t,e=>{if(!e)throw Ao.create("installation-not-found");return YR(e)})}function YR(t){return SB(t)?{fid:t.fid,registrationStatus:0}:t}function SB(t){return t.registrationStatus===1&&t.registrationTime+MR<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bB({appConfig:t,heartbeatServiceProvider:e},n){const r=IB(t,n),s=aB(t,n),i=e.getImmediate({optional:!0});if(i){const u=await i.getHeartbeatsHeader();u&&s.append("x-firebase-client",u)}const o={installation:{sdkVersion:jR,appId:t.appId}},a={method:"POST",headers:s,body:JSON.stringify(o)},l=await WR(()=>fetch(r,a));if(l.ok){const u=await l.json();return $R(u)}else throw await BR("Generate Auth Token",l)}function IB(t,{fid:e}){return`${UR(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qw(t,e=!1){let n;const r=await rp(t.appConfig,i=>{if(!XR(i))throw Ao.create("not-registered");const o=i.authToken;if(!e&&RB(o))return i;if(o.requestStatus===1)return n=CB(t,e),i;{if(!navigator.onLine)throw Ao.create("app-offline");const a=NB(i);return n=AB(t,a),a}});return n?await n:r.authToken}async function CB(t,e){let n=await TT(t.appConfig);for(;n.authToken.requestStatus===1;)await HR(100),n=await TT(t.appConfig);const r=n.authToken;return r.requestStatus===0?Qw(t,e):r}function TT(t){return rp(t,e=>{if(!XR(e))throw Ao.create("not-registered");const n=e.authToken;return kB(n)?{...e,authToken:{requestStatus:0}}:e})}async function AB(t,e){try{const n=await bB(t,e),r={...e,authToken:n};return await zh(t.appConfig,r),n}catch(n){if(FR(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await QR(t.appConfig);else{const r={...e,authToken:{requestStatus:0}};await zh(t.appConfig,r)}throw n}}function XR(t){return t!==void 0&&t.registrationStatus===2}function RB(t){return t.requestStatus===2&&!PB(t)}function PB(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+rB}function NB(t){const e={requestStatus:1,requestTime:Date.now()};return{...t,authToken:e}}function kB(t){return t.requestStatus===1&&t.requestTime+MR<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OB(t){const e=t,{installationEntry:n,registrationPromise:r}=await Kw(e);return r?r.catch(console.error):Qw(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DB(t,e=!1){const n=t;return await LB(n),(await Qw(n,e)).token}async function LB(t){const{registrationPromise:e}=await Kw(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MB(t){if(!t||!t.options)throw xm("App Configuration");if(!t.name)throw xm("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw xm(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function xm(t){return Ao.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JR="installations",jB="installations-internal",VB=t=>{const e=t.getProvider("app").getImmediate(),n=MB(e),r=As(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},FB=t=>{const e=t.getProvider("app").getImmediate(),n=As(e,JR).getImmediate();return{getId:()=>OB(n),getToken:s=>DB(n,s)}};function UB(){Qn(new kn(JR,VB,"PUBLIC")),Qn(new kn(jB,FB,"PRIVATE"))}UB();qt(LR,qw);qt(LR,qw,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wh="analytics",$B="firebase_id",BB="origin",zB=60*1e3,WB="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Yw="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gn=new Of("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HB={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Rn=new Vo("analytics","Analytics",HB);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qB(t){if(!t.startsWith(Yw)){const e=Rn.create("invalid-gtag-resource",{gtagURL:t});return gn.warn(e.message),""}return t}function ZR(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function GB(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function KB(t,e){const n=GB("firebase-js-sdk-policy",{createScriptURL:qB}),r=document.createElement("script"),s=`${Yw}?l=${t}&id=${e}`;r.src=n?n==null?void 0:n.createScriptURL(s):s,r.async=!0,document.head.appendChild(r)}function QB(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function YB(t,e,n,r,s,i){const o=r[s];try{if(o)await e[o];else{const l=(await ZR(n)).find(u=>u.measurementId===s);l&&await e[l.appId]}}catch(a){gn.error(a)}t("config",s,i)}async function XB(t,e,n,r,s){try{let i=[];if(s&&s.send_to){let o=s.send_to;Array.isArray(o)||(o=[o]);const a=await ZR(n);for(const l of o){const u=a.find(f=>f.measurementId===l),d=u&&e[u.appId];if(d)i.push(d);else{i=[];break}}}i.length===0&&(i=Object.values(e)),await Promise.all(i),t("event",r,s||{})}catch(i){gn.error(i)}}function JB(t,e,n,r){async function s(i,...o){try{if(i==="event"){const[a,l]=o;await XB(t,e,n,a,l)}else if(i==="config"){const[a,l]=o;await YB(t,e,n,r,a,l)}else if(i==="consent"){const[a,l]=o;t("consent",a,l)}else if(i==="get"){const[a,l,u]=o;t("get",a,l,u)}else if(i==="set"){const[a]=o;t("set",a)}else t(i,...o)}catch(a){gn.error(a)}}return s}function ZB(t,e,n,r,s){let i=function(...o){window[r].push(arguments)};return window[s]&&typeof window[s]=="function"&&(i=window[s]),window[s]=JB(i,t,e,n),{gtagCore:i,wrappedGtag:window[s]}}function ez(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(Yw)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tz=30,nz=1e3;class rz{constructor(e={},n=nz){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const eP=new rz;function sz(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function iz(t){var o;const{appId:e,apiKey:n}=t,r={method:"GET",headers:sz(n)},s=WB.replace("{app-id}",e),i=await fetch(s,r);if(i.status!==200&&i.status!==304){let a="";try{const l=await i.json();(o=l.error)!=null&&o.message&&(a=l.error.message)}catch{}throw Rn.create("config-fetch-failed",{httpStatus:i.status,responseMessage:a})}return i.json()}async function oz(t,e=eP,n){const{appId:r,apiKey:s,measurementId:i}=t.options;if(!r)throw Rn.create("no-app-id");if(!s){if(i)return{measurementId:i,appId:r};throw Rn.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new cz;return setTimeout(async()=>{a.abort()},zB),tP({appId:r,apiKey:s,measurementId:i},o,a,e)}async function tP(t,{throttleEndTimeMillis:e,backoffCount:n},r,s=eP){var a;const{appId:i,measurementId:o}=t;try{await az(r,e)}catch(l){if(o)return gn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${l==null?void 0:l.message}]`),{appId:i,measurementId:o};throw l}try{const l=await iz(t);return s.deleteThrottleMetadata(i),l}catch(l){const u=l;if(!lz(u)){if(s.deleteThrottleMetadata(i),o)return gn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${u==null?void 0:u.message}]`),{appId:i,measurementId:o};throw l}const d=Number((a=u==null?void 0:u.customData)==null?void 0:a.httpStatus)===503?GE(n,s.intervalMillis,tz):GE(n,s.intervalMillis),f={throttleEndTimeMillis:Date.now()+d,backoffCount:n+1};return s.setThrottleMetadata(i,f),gn.debug(`Calling attemptFetch again in ${d} millis`),tP(t,f,r,s)}}function az(t,e){return new Promise((n,r)=>{const s=Math.max(e-Date.now(),0),i=setTimeout(n,s);t.addEventListener(()=>{clearTimeout(i),r(Rn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function lz(t){if(!(t instanceof Ln)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class cz{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function uz(t,e,n,r,s){if(s&&s.global){t("event",n,r);return}else{const i=await e,o={...r,send_to:i};t("event",n,o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dz(){if(m1())try{await g1()}catch(t){return gn.warn(Rn.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return gn.warn(Rn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function hz(t,e,n,r,s,i,o){const a=oz(t);a.then(p=>{n[p.measurementId]=p.appId,t.options.measurementId&&p.measurementId!==t.options.measurementId&&gn.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${p.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(p=>gn.error(p)),e.push(a);const l=dz().then(p=>{if(p)return r.getId()}),[u,d]=await Promise.all([a,l]);ez(i)||KB(i,u.measurementId),s("js",new Date);const f=(o==null?void 0:o.config)??{};return f[BB]="firebase",f.update=!0,d!=null&&(f[$B]=d),s("config",u.measurementId,f),u.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fz{constructor(e){this.app=e}_delete(){return delete yc[this.app.options.appId],Promise.resolve()}}let yc={},ST=[];const bT={};let Tm="dataLayer",pz="gtag",IT,nP,CT=!1;function mz(){const t=[];if(p1()&&t.push("This is a browser extension environment."),cF()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,s)=>`(${s+1}) ${r}`).join(" "),n=Rn.create("invalid-analytics-context",{errorInfo:e});gn.warn(n.message)}}function gz(t,e,n){mz();const r=t.options.appId;if(!r)throw Rn.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)gn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Rn.create("no-api-key");if(yc[r]!=null)throw Rn.create("already-exists",{id:r});if(!CT){QB(Tm);const{wrappedGtag:i,gtagCore:o}=ZB(yc,ST,bT,Tm,pz);nP=i,IT=o,CT=!0}return yc[r]=hz(t,ST,bT,e,IT,Tm,n),new fz(t)}function yz(t=du()){t=We(t);const e=As(t,Wh);return e.isInitialized()?e.getImmediate():vz(t)}function vz(t,e={}){const n=As(t,Wh);if(n.isInitialized()){const s=n.getImmediate();if(Ai(e,n.getOptions()))return s;throw Rn.create("already-initialized")}return n.initialize({options:e})}function wz(t,e,n,r){t=We(t),uz(nP,yc[t.app.options.appId],e,n,r).catch(s=>gn.error(s))}const AT="@firebase/analytics",RT="0.10.18";function _z(){Qn(new kn(Wh,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("installations-internal").getImmediate();return gz(r,s,n)},"PUBLIC")),Qn(new kn("analytics-internal",t,"PRIVATE")),qt(AT,RT),qt(AT,RT,"esm2020");function t(e){try{const n=e.getProvider(Wh).getImmediate();return{logEvent:(r,s,i)=>wz(n,r,s,i)}}catch(n){throw Rn.create("interop-component-reg-failed",{reason:n})}}}_z();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rP="firebasestorage.googleapis.com",sP="storageBucket",Ez=2*60*1e3,xz=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ot extends Ln{constructor(e,n,r=0){super(Sm(e),`Firebase Storage: ${n} (${Sm(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,ot.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Sm(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var it;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(it||(it={}));function Sm(t){return"storage/"+t}function Xw(){const t="An unknown error occurred, please check the error payload for server response.";return new ot(it.UNKNOWN,t)}function Tz(t){return new ot(it.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function Sz(t){return new ot(it.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function bz(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new ot(it.UNAUTHENTICATED,t)}function Iz(){return new ot(it.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function Cz(t){return new ot(it.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function Az(){return new ot(it.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Rz(){return new ot(it.CANCELED,"User canceled the upload/download.")}function Pz(t){return new ot(it.INVALID_URL,"Invalid URL '"+t+"'.")}function Nz(t){return new ot(it.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function kz(){return new ot(it.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+sP+"' property when initializing the app?")}function Oz(){return new ot(it.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function Dz(){return new ot(it.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function Lz(t){return new ot(it.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function yy(t){return new ot(it.INVALID_ARGUMENT,t)}function iP(){return new ot(it.APP_DELETED,"The Firebase app was deleted.")}function Mz(t){return new ot(it.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function vc(t,e){return new ot(it.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function $l(t){throw new ot(it.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bn{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=bn.makeFromUrl(e,n)}catch{return new bn(e,"")}if(r.path==="")return r;throw Nz(e)}static makeFromUrl(e,n){let r=null;const s="([A-Za-z0-9.\\-_]+)";function i(C){C.path.charAt(C.path.length-1)==="/"&&(C.path_=C.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+s+o,"i"),l={bucket:1,path:3};function u(C){C.path_=decodeURIComponent(C.path)}const d="v[A-Za-z0-9_]+",f=n.replace(/[.]/g,"\\."),p="(/([^?#]*).*)?$",g=new RegExp(`^https?://${f}/${d}/b/${s}/o${p}`,"i"),S={bucket:1,path:3},v=n===rP?"(?:storage.googleapis.com|storage.cloud.google.com)":n,x="([^?#]*)",E=new RegExp(`^https?://${v}/${s}/${x}`,"i"),T=[{regex:a,indices:l,postModify:i},{regex:g,indices:S,postModify:u},{regex:E,indices:{bucket:1,path:2},postModify:u}];for(let C=0;C<T.length;C++){const D=T[C],L=D.regex.exec(e);if(L){const I=L[D.indices.bucket];let b=L[D.indices.path];b||(b=""),r=new bn(I,b),D.postModify(r);break}}if(r==null)throw Pz(e);return r}}class jz{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vz(t,e,n){let r=1,s=null,i=null,o=!1,a=0;function l(){return a===2}let u=!1;function d(...x){u||(u=!0,e.apply(null,x))}function f(x){s=setTimeout(()=>{s=null,t(g,l())},x)}function p(){i&&clearTimeout(i)}function g(x,...E){if(u){p();return}if(x){p(),d.call(null,x,...E);return}if(l()||o){p(),d.call(null,x,...E);return}r<64&&(r*=2);let T;a===1?(a=2,T=0):T=(r+Math.random())*1e3,f(T)}let S=!1;function v(x){S||(S=!0,p(),!u&&(s!==null?(x||(a=2),clearTimeout(s),f(0)):x||(a=1)))}return f(0),i=setTimeout(()=>{o=!0,v(!0)},n),v}function Fz(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uz(t){return t!==void 0}function $z(t){return typeof t=="object"&&!Array.isArray(t)}function Jw(t){return typeof t=="string"||t instanceof String}function PT(t){return Zw()&&t instanceof Blob}function Zw(){return typeof Blob<"u"}function NT(t,e,n,r){if(r<e)throw yy(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw yy(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sp(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function oP(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const s=e(r)+"="+e(t[r]);n=n+s+"&"}return n=n.slice(0,-1),n}var yo;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(yo||(yo={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bz(t,e){const n=t>=500&&t<600,s=[408,429].indexOf(t)!==-1,i=e.indexOf(t)!==-1;return n||s||i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zz{constructor(e,n,r,s,i,o,a,l,u,d,f,p=!0,g=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=s,this.successCodes_=i,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=u,this.progressCallback_=d,this.connectionFactory_=f,this.retry=p,this.isUsingEmulator=g,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((S,v)=>{this.resolve_=S,this.reject_=v,this.start_()})}start_(){const e=(r,s)=>{if(s){r(!1,new hd(!1,null,!0));return}const i=this.connectionFactory_();this.pendingConnection_=i;const o=a=>{const l=a.loaded,u=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,u)};this.progressCallback_!==null&&i.addUploadProgressListener(o),i.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&i.removeUploadProgressListener(o),this.pendingConnection_=null;const a=i.getErrorCode()===yo.NO_ERROR,l=i.getStatus();if(!a||Bz(l,this.additionalRetryCodes_)&&this.retry){const d=i.getErrorCode()===yo.ABORT;r(!1,new hd(!1,null,d));return}const u=this.successCodes_.indexOf(l)!==-1;r(!0,new hd(u,i))})},n=(r,s)=>{const i=this.resolve_,o=this.reject_,a=s.connection;if(s.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());Uz(l)?i(l):i()}catch(l){o(l)}else if(a!==null){const l=Xw();l.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,l)):o(l)}else if(s.canceled){const l=this.appDelete_?iP():Rz();o(l)}else{const l=Az();o(l)}};this.canceled_?n(!1,new hd(!1,null,!0)):this.backoffId_=Vz(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&Fz(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class hd{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function Wz(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function Hz(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function qz(t,e){e&&(t["X-Firebase-GMPID"]=e)}function Gz(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function Kz(t,e,n,r,s,i,o=!0,a=!1){const l=oP(t.urlParams),u=t.url+l,d=Object.assign({},t.headers);return qz(d,e),Wz(d,n),Hz(d,i),Gz(d,r),new zz(u,t.method,d,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,s,o,a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qz(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function Yz(...t){const e=Qz();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(Zw())return new Blob(t);throw new ot(it.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function Xz(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jz(t){if(typeof atob>"u")throw Lz("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ur={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class bm{constructor(e,n){this.data=e,this.contentType=n||null}}function Zz(t,e){switch(t){case Ur.RAW:return new bm(aP(e));case Ur.BASE64:case Ur.BASE64URL:return new bm(lP(t,e));case Ur.DATA_URL:return new bm(t8(e),n8(e))}throw Xw()}function aP(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const i=r,o=t.charCodeAt(++n);r=65536|(i&1023)<<10|o&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function e8(t){let e;try{e=decodeURIComponent(t)}catch{throw vc(Ur.DATA_URL,"Malformed data URL.")}return aP(e)}function lP(t,e){switch(t){case Ur.BASE64:{const s=e.indexOf("-")!==-1,i=e.indexOf("_")!==-1;if(s||i)throw vc(t,"Invalid character '"+(s?"-":"_")+"' found: is it base64url encoded?");break}case Ur.BASE64URL:{const s=e.indexOf("+")!==-1,i=e.indexOf("/")!==-1;if(s||i)throw vc(t,"Invalid character '"+(s?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=Jz(e)}catch(s){throw s.message.includes("polyfill")?s:vc(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}class cP{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw vc(Ur.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=r8(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function t8(t){const e=new cP(t);return e.base64?lP(Ur.BASE64,e.rest):e8(e.rest)}function n8(t){return new cP(t).contentType}function r8(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zs{constructor(e,n){let r=0,s="";PT(e)?(this.data_=e,r=e.size,s=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=s}size(){return this.size_}type(){return this.type_}slice(e,n){if(PT(this.data_)){const r=this.data_,s=Xz(r,e,n);return s===null?null:new Zs(s)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new Zs(r,!0)}}static getBlob(...e){if(Zw()){const n=e.map(r=>r instanceof Zs?r.data_:r);return new Zs(Yz.apply(null,n))}else{const n=e.map(o=>Jw(o)?Zz(Ur.RAW,o).data:o.data_);let r=0;n.forEach(o=>{r+=o.byteLength});const s=new Uint8Array(r);let i=0;return n.forEach(o=>{for(let a=0;a<o.length;a++)s[i++]=o[a]}),new Zs(s,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uP(t){let e;try{e=JSON.parse(t)}catch{return null}return $z(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s8(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function i8(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function dP(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o8(t,e){return e}class Yt{constructor(e,n,r,s){this.server=e,this.local=n||e,this.writable=!!r,this.xform=s||o8}}let fd=null;function a8(t){return!Jw(t)||t.length<2?t:dP(t)}function hP(){if(fd)return fd;const t=[];t.push(new Yt("bucket")),t.push(new Yt("generation")),t.push(new Yt("metageneration")),t.push(new Yt("name","fullPath",!0));function e(i,o){return a8(o)}const n=new Yt("name");n.xform=e,t.push(n);function r(i,o){return o!==void 0?Number(o):o}const s=new Yt("size");return s.xform=r,t.push(s),t.push(new Yt("timeCreated")),t.push(new Yt("updated")),t.push(new Yt("md5Hash",null,!0)),t.push(new Yt("cacheControl",null,!0)),t.push(new Yt("contentDisposition",null,!0)),t.push(new Yt("contentEncoding",null,!0)),t.push(new Yt("contentLanguage",null,!0)),t.push(new Yt("contentType",null,!0)),t.push(new Yt("metadata","customMetadata",!0)),fd=t,fd}function l8(t,e){function n(){const r=t.bucket,s=t.fullPath,i=new bn(r,s);return e._makeStorageReference(i)}Object.defineProperty(t,"ref",{get:n})}function c8(t,e,n){const r={};r.type="file";const s=n.length;for(let i=0;i<s;i++){const o=n[i];r[o.local]=o.xform(r,e[o.server])}return l8(r,t),r}function fP(t,e,n){const r=uP(e);return r===null?null:c8(t,r,n)}function u8(t,e,n,r){const s=uP(e);if(s===null||!Jw(s.downloadTokens))return null;const i=s.downloadTokens;if(i.length===0)return null;const o=encodeURIComponent;return i.split(",").map(u=>{const d=t.bucket,f=t.fullPath,p="/b/"+o(d)+"/o/"+o(f),g=sp(p,n,r),S=oP({alt:"media",token:u});return g+S})[0]}function d8(t,e){const n={},r=e.length;for(let s=0;s<r;s++){const i=e[s];i.writable&&(n[i.server]=t[i.local])}return JSON.stringify(n)}class e_{constructor(e,n,r,s){this.url=e,this.method=n,this.handler=r,this.timeout=s,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pP(t){if(!t)throw Xw()}function h8(t,e){function n(r,s){const i=fP(t,s,e);return pP(i!==null),i}return n}function f8(t,e){function n(r,s){const i=fP(t,s,e);return pP(i!==null),u8(i,s,t.host,t._protocol)}return n}function mP(t){function e(n,r){let s;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?s=Iz():s=bz():n.getStatus()===402?s=Sz(t.bucket):n.getStatus()===403?s=Cz(t.path):s=r,s.status=n.getStatus(),s.serverResponse=r.serverResponse,s}return e}function gP(t){const e=mP(t);function n(r,s){let i=e(r,s);return r.getStatus()===404&&(i=Tz(t.path)),i.serverResponse=s.serverResponse,i}return n}function p8(t,e,n){const r=e.fullServerUrl(),s=sp(r,t.host,t._protocol),i="GET",o=t.maxOperationRetryTime,a=new e_(s,i,f8(t,n),o);return a.errorHandler=gP(e),a}function m8(t,e){const n=e.fullServerUrl(),r=sp(n,t.host,t._protocol),s="DELETE",i=t.maxOperationRetryTime;function o(l,u){}const a=new e_(r,s,o,i);return a.successCodes=[200,204],a.errorHandler=gP(e),a}function g8(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function y8(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=g8(null,e)),r}function v8(t,e,n,r,s){const i=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function a(){let T="";for(let C=0;C<2;C++)T=T+Math.random().toString().slice(2);return T}const l=a();o["Content-Type"]="multipart/related; boundary="+l;const u=y8(e,r,s),d=d8(u,n),f="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+d+`\r
--`+l+`\r
Content-Type: `+u.contentType+`\r
\r
`,p=`\r
--`+l+"--",g=Zs.getBlob(f,r,p);if(g===null)throw Oz();const S={name:u.fullPath},v=sp(i,t.host,t._protocol),x="POST",E=t.maxUploadRetryTime,w=new e_(v,x,h8(t,n),E);return w.urlParams=S,w.headers=o,w.body=g.uploadData(),w.errorHandler=mP(e),w}class w8{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=yo.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=yo.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=yo.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,s,i){if(this.sent_)throw $l("cannot .send() more than once");if(Zr(e)&&r&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(const o in i)i.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,i[o].toString());return s!==void 0?this.xhr_.send(s):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw $l("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw $l("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw $l("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw $l("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class _8 extends w8{initXhr(){this.xhr_.responseType="text"}}function t_(){return new _8}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Po{constructor(e,n){this._service=e,n instanceof bn?this._location=n:this._location=bn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Po(e,n)}get root(){const e=new bn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return dP(this._location.path)}get storage(){return this._service}get parent(){const e=s8(this._location.path);if(e===null)return null;const n=new bn(this._location.bucket,e);return new Po(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw Mz(e)}}function E8(t,e,n){t._throwIfRoot("uploadBytes");const r=v8(t.storage,t._location,hP(),new Zs(e,!0),n);return t.storage.makeRequestWithTokens(r,t_).then(s=>({metadata:s,ref:t}))}function x8(t){t._throwIfRoot("getDownloadURL");const e=p8(t.storage,t._location,hP());return t.storage.makeRequestWithTokens(e,t_).then(n=>{if(n===null)throw Dz();return n})}function T8(t){t._throwIfRoot("deleteObject");const e=m8(t.storage,t._location);return t.storage.makeRequestWithTokens(e,t_)}function S8(t,e){const n=i8(t._location.path,e),r=new bn(t._location.bucket,n);return new Po(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b8(t){return/^[A-Za-z]+:\/\//.test(t)}function I8(t,e){return new Po(t,e)}function yP(t,e){if(t instanceof n_){const n=t;if(n._bucket==null)throw kz();const r=new Po(n,n._bucket);return e!=null?yP(r,e):r}else return e!==void 0?S8(t,e):t}function C8(t,e){if(e&&b8(e)){if(t instanceof n_)return I8(t,e);throw yy("To use ref(service, url), the first argument must be a Storage instance.")}else return yP(t,e)}function kT(t,e){const n=e==null?void 0:e[sP];return n==null?null:bn.makeFromBucketSpec(n,t)}function A8(t,e,n,r={}){t.host=`${e}:${n}`;const s=Zr(e);s&&(Nf(`https://${t.host}/b`),kf("Storage",!0)),t._isUsingEmulator=!0,t._protocol=s?"https":"http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:f1(i,t.app.options.projectId))}class n_{constructor(e,n,r,s,i,o=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=s,this._firebaseVersion=i,this._isUsingEmulator=o,this._bucket=null,this._host=rP,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=Ez,this._maxUploadRetryTime=xz,this._requests=new Set,s!=null?this._bucket=bn.makeFromBucketSpec(s,this._host):this._bucket=kT(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=bn.makeFromBucketSpec(this._url,e):this._bucket=kT(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){NT("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){NT("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(Ht(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Po(this,e)}_makeRequest(e,n,r,s,i=!0){if(this._deleted)return new jz(iP());{const o=Kz(e,this._appId,r,s,n,this._firebaseVersion,i,this._isUsingEmulator);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,s).getPromise()}}const OT="@firebase/storage",DT="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vP="storage";function R8(t,e,n){return t=We(t),E8(t,e,n)}function P8(t){return t=We(t),x8(t)}function N8(t){return t=We(t),T8(t)}function LT(t,e){return t=We(t),C8(t,e)}function k8(t=du(),e){t=We(t);const r=As(t,vP).getImmediate({identifier:e}),s=Gv("storage");return s&&O8(r,...s),r}function O8(t,e,n,r={}){A8(t,e,n,r)}function D8(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return new n_(n,r,s,e,Fo)}function L8(){Qn(new kn(vP,D8,"PUBLIC").setMultipleInstances(!0)),qt(OT,DT,""),qt(OT,DT,"esm2020")}L8();const M8={apiKey:"AIzaSyB9cLdv9ooBChYDLa_cWTZnnjar7PKUhs0",authDomain:"nextgen-online-school.firebaseapp.com",projectId:"nextgen-online-school",storageBucket:"nextgen-online-school.firebasestorage.app",messagingSenderId:"235126447754",appId:"1:235126447754:web:0f9433dbb3fa5fb0ded773",measurementId:"G-CPE2LZ0QZS"},ks=_1(M8);yz(ks);const se=B$(ks),as=dl(ks),MT=k8(ks);new jr;const wP=y.createContext(null),_P=({children:t})=>{const[e,n]=y.useState(null),[r,s]=y.useState(!0);y.useEffect(()=>{let l=null;const u=NU(as,async d=>{if(!d){n(null),s(!1),l&&l();return}const p=(await d.getIdTokenResult(!0)).claims,g=d.uid,S=["admins","principals","teachers","students","parents","pendingTeachers","pendingStudents"];let v=!1;for(const x of S){const E=Ae(se,x,g);if((await cn(E)).exists()){v=!0,l&&l(),l=Tn(E,T=>{if(T.exists()){const C=T.data(),D=x.startsWith("pending"),L=D?x.replace("pending","").toLowerCase().slice(0,-1):x.slice(0,-1);n({...d,...C,role:p.role||C.role||L,status:C.status||(D?"pending":"approved")})}else n({...d,role:p.role||"unassigned",status:"unknown"});s(!1)});break}}v||(n({...d,role:p.role||"unassigned",status:"unknown"}),s(!1))});return o3(as).then(d=>{d!=null&&d.user&&n(d.user)}),()=>{u(),l&&l()}},[]);const i=async(l,u)=>{const{user:d}=await AU(as,l,u);return d},o=async()=>{const l=new jr;try{return(await JU(as,l)).user}catch(u){console.warn("Popup login failed, falling back to redirect:",u),await s3(as,l)}},a=async()=>{await kU(as),n(null)};return h.jsx(wP.Provider,{value:{user:e,loading:r,login:i,loginWithGoogle:o,logout:a,setUser:n},children:t})},Mn=()=>{const t=y.useContext(wP);if(!t)throw new Error("useAuth must be used within an AuthProvider");return t},j8=({allowedRoles:t,children:e})=>{const{user:n}=Mn();return n?t.includes(n.role)?h.jsx(h.Fragment,{children:e}):h.jsx(UE,{to:"/",replace:!0}):h.jsx(UE,{to:"/",replace:!0})},Pn=y.forwardRef(({className:t,...e},n)=>h.jsx("div",{ref:n,className:be("rounded-lg border border-border/40 bg-background shadow-sm",t),...e}));Pn.displayName="Card";const bs=y.forwardRef(({className:t,...e},n)=>h.jsx("div",{ref:n,className:be("flex flex-col space-y-1.5 p-6",t),...e}));bs.displayName="CardHeader";const Is=y.forwardRef(({className:t,...e},n)=>h.jsx("h3",{ref:n,className:be("text-2xl font-semibold leading-none tracking-tight text-foreground",t),...e}));Is.displayName="CardTitle";const Hh=y.forwardRef(({className:t,...e},n)=>h.jsx("p",{ref:n,className:be("text-sm text-muted-foreground",t),...e}));Hh.displayName="CardDescription";const Hn=y.forwardRef(({className:t,...e},n)=>h.jsx("div",{ref:n,className:be("p-6 pt-0",t),...e}));Hn.displayName="CardContent";const V8=y.forwardRef(({className:t,...e},n)=>h.jsx("div",{ref:n,className:be("flex items-center p-6 pt-0",t),...e}));V8.displayName="CardFooter";const F8=Cf("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),De=y.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...s},i)=>{const o=r?UD:"button";return h.jsx(o,{className:be(F8({variant:e,size:n,className:t})),ref:i,...s})});De.displayName="Button";const Wt=y.forwardRef(({className:t,type:e,...n},r)=>h.jsx("input",{type:e,className:be("flex h-10 w-full rounded-md border border-border/60 bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:r,...n}));Wt.displayName="Input";var U8="Label",EP=y.forwardRef((t,e)=>h.jsx(_e.label,{...t,ref:e,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=t.onMouseDown)==null||s.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));EP.displayName=U8;var xP=EP;const $8=Cf("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",{variants:{variant:{default:"text-foreground",muted:"text-muted-foreground",accent:"text-primary"},size:{default:"text-sm",xs:"text-xs",sm:"text-sm",lg:"text-base"}},defaultVariants:{variant:"default",size:"default"}}),Je=y.forwardRef(({className:t,variant:e,size:n,...r},s)=>h.jsx(xP,{ref:s,className:be($8({variant:e,size:n}),t),...r}));Je.displayName=xP.displayName;const B8=Cf("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground shadow-sm",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive",success:"border-green-500/50 text-green-600 dark:text-green-400 [&>svg]:text-green-600 dark:[&>svg]:text-green-400 bg-green-50 dark:bg-green-950/20",warning:"border-yellow-500/50 text-yellow-600 dark:text-yellow-400 [&>svg]:text-yellow-600 dark:[&>svg]:text-yellow-400 bg-yellow-50 dark:bg-yellow-950/20",info:"border-primary/50 text-primary dark:text-primary-foreground [&>svg]:text-primary bg-primary/10 dark:bg-primary/20"}},defaultVariants:{variant:"default"}}),ip=y.forwardRef(({className:t,variant:e,...n},r)=>h.jsx("div",{ref:r,role:"alert",className:be(B8({variant:e}),t),...n}));ip.displayName="Alert";const z8=y.forwardRef(({className:t,...e},n)=>h.jsx("h5",{ref:n,className:be("mb-1 font-medium leading-none tracking-tight",t),...e}));z8.displayName="AlertTitle";const op=y.forwardRef(({className:t,...e},n)=>h.jsx("div",{ref:n,className:be("text-sm [&_p]:leading-relaxed opacity-90",t),...e}));op.displayName="AlertDescription";var TP={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},jT=K.createContext&&K.createContext(TP),W8=["attr","size","title"];function H8(t,e){if(t==null)return{};var n=q8(t,e),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function q8(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function qh(){return qh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},qh.apply(this,arguments)}function VT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function Gh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?VT(Object(n),!0).forEach(function(r){G8(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):VT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function G8(t,e,n){return e=K8(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function K8(t){var e=Q8(t,"string");return typeof e=="symbol"?e:e+""}function Q8(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function SP(t){return t&&t.map((e,n)=>K.createElement(e.tag,Gh({key:n},e.attr),SP(e.child)))}function Y8(t){return e=>K.createElement(X8,qh({attr:Gh({},t.attr)},e),SP(t.child))}function X8(t){var e=n=>{var{attr:r,size:s,title:i}=t,o=H8(t,W8),a=s||n.size||"1em",l;return n.className&&(l=n.className),t.className&&(l=(l?l+" ":"")+t.className),K.createElement("svg",qh({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,o,{className:l,style:Gh(Gh({color:t.color||n.color},n.style),t.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),i&&K.createElement("title",null,i),t.children)};return jT!==void 0?K.createElement(jT.Consumer,null,n=>e(n)):e(TP)}function J8(t){return Y8({attr:{version:"1.1",x:"0px",y:"0px",viewBox:"0 0 48 48",enableBackground:"new 0 0 48 48"},child:[{tag:"path",attr:{fill:"#FFC107",d:`M43.611,20.083H42V20H24v8h11.303c-1.649,4.657-6.08,8-11.303,8c-6.627,0-12-5.373-12-12\r
	c0-6.627,5.373-12,12-12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C12.955,4,4,12.955,4,24\r
	c0,11.045,8.955,20,20,20c11.045,0,20-8.955,20-20C44,22.659,43.862,21.35,43.611,20.083z`},child:[]},{tag:"path",attr:{fill:"#FF3D00",d:`M6.306,14.691l6.571,4.819C14.655,15.108,18.961,12,24,12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657\r
	C34.046,6.053,29.268,4,24,4C16.318,4,9.656,8.337,6.306,14.691z`},child:[]},{tag:"path",attr:{fill:"#4CAF50",d:`M24,44c5.166,0,9.86-1.977,13.409-5.192l-6.19-5.238C29.211,35.091,26.715,36,24,36\r
	c-5.202,0-9.619-3.317-11.283-7.946l-6.522,5.025C9.505,39.556,16.227,44,24,44z`},child:[]},{tag:"path",attr:{fill:"#1976D2",d:`M43.611,20.083H42V20H24v8h11.303c-0.792,2.237-2.231,4.166-4.087,5.571\r
	c0.001-0.001,0.002-0.001,0.003-0.002l6.19,5.238C36.971,39.205,44,34,44,24C44,22.659,43.862,21.35,43.611,20.083z`},child:[]}]})(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z8="type.googleapis.com/google.protobuf.Int64Value",e7="type.googleapis.com/google.protobuf.UInt64Value";function bP(t,e){const n={};for(const r in t)t.hasOwnProperty(r)&&(n[r]=e(t[r]));return n}function Kh(t){if(t==null)return null;if(t instanceof Number&&(t=t.valueOf()),typeof t=="number"&&isFinite(t)||t===!0||t===!1||Object.prototype.toString.call(t)==="[object String]")return t;if(t instanceof Date)return t.toISOString();if(Array.isArray(t))return t.map(e=>Kh(e));if(typeof t=="function"||typeof t=="object")return bP(t,e=>Kh(e));throw new Error("Data cannot be encoded in JSON: "+t)}function el(t){if(t==null)return t;if(t["@type"])switch(t["@type"]){case Z8:case e7:{const e=Number(t.value);if(isNaN(e))throw new Error("Data cannot be decoded from JSON: "+t);return e}default:throw new Error("Data cannot be decoded from JSON: "+t)}return Array.isArray(t)?t.map(e=>el(e)):typeof t=="function"||typeof t=="object"?bP(t,e=>el(e)):t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r_="functions";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FT={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class hn extends Ln{constructor(e,n,r){super(`${r_}/${e}`,n||""),this.details=r,Object.setPrototypeOf(this,hn.prototype)}}function t7(t){if(t>=200&&t<300)return"ok";switch(t){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}function Qh(t,e){let n=t7(t),r=n,s;try{const i=e&&e.error;if(i){const o=i.status;if(typeof o=="string"){if(!FT[o])return new hn("internal","internal");n=FT[o],r=o}const a=i.message;typeof a=="string"&&(r=a),s=i.details,s!==void 0&&(s=el(s))}}catch{}return n==="ok"?null:new hn(n,r,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n7{constructor(e,n,r,s){this.app=e,this.auth=null,this.messaging=null,this.appCheck=null,this.serverAppAppCheckToken=null,Ht(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.auth=n.getImmediate({optional:!0}),this.messaging=r.getImmediate({optional:!0}),this.auth||n.get().then(i=>this.auth=i,()=>{}),this.messaging||r.get().then(i=>this.messaging=i,()=>{}),this.appCheck||s==null||s.get().then(i=>this.appCheck=i,()=>{})}async getAuthToken(){if(this.auth)try{const e=await this.auth.getToken();return e==null?void 0:e.accessToken}catch{return}}async getMessagingToken(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return await this.messaging.getToken()}catch{return}}async getAppCheckToken(e){if(this.serverAppAppCheckToken)return this.serverAppAppCheckToken;if(this.appCheck){const n=e?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return n.error?null:n.token}return null}async getContext(e){const n=await this.getAuthToken(),r=await this.getMessagingToken(),s=await this.getAppCheckToken(e);return{authToken:n,messagingToken:r,appCheckToken:s}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vy="us-central1",r7=/^data: (.*?)(?:\n|$)/;function s7(t){let e=null;return{promise:new Promise((n,r)=>{e=setTimeout(()=>{r(new hn("deadline-exceeded","deadline-exceeded"))},t)}),cancel:()=>{e&&clearTimeout(e)}}}class i7{constructor(e,n,r,s,i=vy,o=(...a)=>fetch(...a)){this.app=e,this.fetchImpl=o,this.emulatorOrigin=null,this.contextProvider=new n7(e,n,r,s),this.cancelAllRequests=new Promise(a=>{this.deleteService=()=>Promise.resolve(a())});try{const a=new URL(i);this.customDomain=a.origin+(a.pathname==="/"?"":a.pathname),this.region=vy}catch{this.customDomain=null,this.region=i}}_delete(){return this.deleteService()}_url(e){const n=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${n}/${this.region}/${e}`:this.customDomain!==null?`${this.customDomain}/${e}`:`https://${this.region}-${n}.cloudfunctions.net/${e}`}}function o7(t,e,n){const r=Zr(e);t.emulatorOrigin=`http${r?"s":""}://${e}:${n}`,r&&(Nf(t.emulatorOrigin+"/backends"),kf("Functions",!0))}function a7(t,e,n){const r=s=>c7(t,e,s,{});return r.stream=(s,i)=>d7(t,e,s,i),r}function IP(t){return t.emulatorOrigin&&Zr(t.emulatorOrigin)?"include":void 0}async function l7(t,e,n,r,s){n["Content-Type"]="application/json";let i;try{i=await r(t,{method:"POST",body:JSON.stringify(e),headers:n,credentials:IP(s)})}catch{return{status:0,json:null}}let o=null;try{o=await i.json()}catch{}return{status:i.status,json:o}}async function CP(t,e){const n={},r=await t.contextProvider.getContext(e.limitedUseAppCheckTokens);return r.authToken&&(n.Authorization="Bearer "+r.authToken),r.messagingToken&&(n["Firebase-Instance-ID-Token"]=r.messagingToken),r.appCheckToken!==null&&(n["X-Firebase-AppCheck"]=r.appCheckToken),n}function c7(t,e,n,r){const s=t._url(e);return u7(t,s,n,r)}async function u7(t,e,n,r){n=Kh(n);const s={data:n},i=await CP(t,r),o=r.timeout||7e4,a=s7(o),l=await Promise.race([l7(e,s,i,t.fetchImpl,t),a.promise,t.cancelAllRequests]);if(a.cancel(),!l)throw new hn("cancelled","Firebase Functions instance was deleted.");const u=Qh(l.status,l.json);if(u)throw u;if(!l.json)throw new hn("internal","Response is not valid JSON object.");let d=l.json.data;if(typeof d>"u"&&(d=l.json.result),typeof d>"u")throw new hn("internal","Response is missing data field.");return{data:el(d)}}function d7(t,e,n,r){const s=t._url(e);return h7(t,s,n,r||{})}async function h7(t,e,n,r){var p;n=Kh(n);const s={data:n},i=await CP(t,r);i["Content-Type"]="application/json",i.Accept="text/event-stream";let o;try{o=await t.fetchImpl(e,{method:"POST",body:JSON.stringify(s),headers:i,signal:r==null?void 0:r.signal,credentials:IP(t)})}catch(g){if(g instanceof Error&&g.name==="AbortError"){const v=new hn("cancelled","Request was cancelled.");return{data:Promise.reject(v),stream:{[Symbol.asyncIterator](){return{next(){return Promise.reject(v)}}}}}}const S=Qh(0,null);return{data:Promise.reject(S),stream:{[Symbol.asyncIterator](){return{next(){return Promise.reject(S)}}}}}}let a,l;const u=new Promise((g,S)=>{a=g,l=S});(p=r==null?void 0:r.signal)==null||p.addEventListener("abort",()=>{const g=new hn("cancelled","Request was cancelled.");l(g)});const d=o.body.getReader(),f=f7(d,a,l,r==null?void 0:r.signal);return{stream:{[Symbol.asyncIterator](){const g=f.getReader();return{async next(){const{value:S,done:v}=await g.read();return{value:S,done:v}},async return(){return await g.cancel(),{done:!0,value:void 0}}}}},data:u}}function f7(t,e,n,r){const s=(o,a)=>{const l=o.match(r7);if(!l)return;const u=l[1];try{const d=JSON.parse(u);if("result"in d){e(el(d.result));return}if("message"in d){a.enqueue(el(d.message));return}if("error"in d){const f=Qh(0,d);a.error(f),n(f);return}}catch(d){if(d instanceof hn){a.error(d),n(d);return}}},i=new TextDecoder;return new ReadableStream({start(o){let a="";return l();async function l(){if(r!=null&&r.aborted){const u=new hn("cancelled","Request was cancelled");return o.error(u),n(u),Promise.resolve()}try{const{value:u,done:d}=await t.read();if(d){a.trim()&&s(a.trim(),o),o.close();return}if(r!=null&&r.aborted){const p=new hn("cancelled","Request was cancelled");o.error(p),n(p),await t.cancel();return}a+=i.decode(u,{stream:!0});const f=a.split(`
`);a=f.pop()||"";for(const p of f)p.trim()&&s(p.trim(),o);return l()}catch(u){const d=u instanceof hn?u:Qh(0,null);o.error(d),n(d)}}},cancel(){return t.cancel()}})}const UT="@firebase/functions",$T="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p7="auth-internal",m7="app-check-internal",g7="messaging-internal";function y7(t){const e=(n,{instanceIdentifier:r})=>{const s=n.getProvider("app").getImmediate(),i=n.getProvider(p7),o=n.getProvider(g7),a=n.getProvider(m7);return new i7(s,i,o,a,r)};Qn(new kn(r_,e,"PUBLIC").setMultipleInstances(!0)),qt(UT,$T,t),qt(UT,$T,"esm2020")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v7(t=du(),e=vy){const r=As(We(t),r_).getImmediate({identifier:e}),s=Gv("functions");return s&&w7(r,...s),r}function w7(t,e,n){o7(We(t),e,n)}function AP(t,e,n){return a7(We(t),e)}y7();const RP=v7(ks,"us-central1"),PP={TEACHER:"teacher",PARENT:"parent"};async function NP(){const t=dl(ks);t.currentUser&&await t.currentUser.getIdToken(!0)}async function _7(t,e,n,r,s){if(!t||!e||!n||!r)throw new Error("❌ createUserProfile: role, email, password, and name are required.");try{const o=await AP(RP,"createUserProfile")({role:t,email:e,password:n,name:r,extraData:s});return await NP(),o.data}catch(i){throw console.error("❌ createUserProfile error:",i),new Error(`${i.code||"internal"}: ${i.message||"Failed to create user profile"}`)}}async function E7(t,e){if(!t||!e)throw new Error("❌ deleteUserProfile: targetUid and role are required.");try{const r=await AP(RP,"deleteUser")({targetUid:t,role:e});return await NP(),r.data}catch(n){throw console.error("❌ deleteUserProfile error:",n),new Error(`${n.code||"internal"}: ${n.message||"Failed to delete user profile"}`)}}async function x7(t){if(!t)throw new Error("❌ resetUserPassword: email is required.");try{const e=dl(ks);return await CU(e,t),{success:!0,message:`Password reset link sent to ${t}`}}catch(e){throw console.error("❌ resetUserPassword error:",e),new Error(`${e.code||"internal"}: ${e.message||"Failed to send password reset email"}`)}}async function T7(t,e,n){const r=dl(ks),s=await q1(r,t,e);return await Ct(Ae(se,"parents",s.user.uid),{uid:s.user.uid,email:t,role:PP.PARENT,...n,createdAt:new Date().toISOString()}),s.user}async function S7(t,e,n){const r=dl(ks),s=await q1(r,t,e);return await Ct(Ae(se,"pendingTeachers",s.user.uid),{uid:s.user.uid,email:t,role:PP.TEACHER,status:"pending",...n,createdAt:new Date().toISOString()}),s.user}const BT=()=>{const{login:t,loginWithGoogle:e}=Mn(),n=Rf();dl();const[r,s]=y.useState(""),[i,o]=y.useState(""),[a,l]=y.useState("parent"),[u,d]=y.useState(""),[f,p]=y.useState(""),[g,S]=y.useState(!1),[v,x]=y.useState(!1),[E,w]=y.useState(!1),[T]=y.useState(["Grade 8","Grade 9","Grade 10","Grade 11","Grade 12"]),[C,D]=y.useState(""),[L,I]=y.useState([]),[b,R]=y.useState(""),[k,P]=y.useState([]),[O,N]=y.useState("");y.useEffect(()=>{a==="teacher"&&(async()=>{const M=ht(se,"teachers"),F=await go(M),H=[];F.forEach(re=>{const Z=re.data();Z.subject&&!H.includes(Z.subject)&&H.push(Z.subject)}),P(H)})()},[a]),y.useEffect(()=>{a==="student"&&C&&(async()=>{const M=ht(se,"students"),F=await go(M),H=[];F.forEach(re=>{const Z=re.data();Z.grade===C&&H.push({id:re.id,...Z})}),I(H)})()},[a,C]);const V=async B=>{B.preventDefault(),p(""),S(!0);try{if(a==="student"){if(!b)throw new Error("Please select your name.");const re=Ae(se,"students",b),Z=await cn(re);if(!Z.exists())throw new Error("No student record found. Contact your parent or principal.");const oe=Z.data().email;if((await t(oe,i)).user.uid!==b)throw new Error("Account mismatch. Please contact your principal.");n("/student-dashboard");return}if(a==="teacher"){const Z=(await t(r,i)).user.uid,ce=await cn(Ae(se,"teachers",Z)),oe=await cn(Ae(se,"pendingTeachers",Z));if(ce.exists())n("/teacher-dashboard");else throw oe.exists()?new Error("Your teacher account is still pending approval."):new Error("No teacher record found.");return}const F=(await t(r,i)).user.uid;if(!(await cn(Ae(se,`${a}s`,F))).exists())throw new Error(`No ${a} record found. Contact admin.`);n(`/${a}-dashboard`)}catch(M){p(M.message)}finally{S(!1)}},Q=async B=>{if(B.preventDefault(),a==="student"){p("Students cannot sign up. Please ask your parent to register you.");return}if(a==="principal"){p("Principals cannot self-register. Contact admin.");return}p(""),S(!0);try{a==="parent"&&(await T7(r,i,{firstName:u,lastName:""}),n("/parent-dashboard")),a==="teacher"&&(await S7(r,i,{name:u,subject:O||null}),alert("Your teacher account is pending approval by the principal."),n("/"))}catch(M){p(M.message)}finally{S(!1)}},q=async()=>{p(""),S(!0);try{const B=await e(),M=B.uid;if(a==="student"){if(!b)throw new Error("Please select your name.");const F=Ae(se,"students",b),H=await cn(F);if(!H.exists())throw new Error("No student record found. Contact your parent or principal.");const re=H.data();if(B.email!==re.email)throw new Error("Google account mismatch. Use the email registered by your parent.");n("/student-dashboard");return}if(a==="teacher"){const F=await cn(Ae(se,"teachers",M)),H=await cn(Ae(se,"pendingTeachers",M));if(F.exists()){n("/teacher-dashboard");return}if(H.exists()){alert("Your teacher account is still pending approval."),n("/");return}await Ct(Ae(se,"pendingTeachers",M),{uid:M,email:B.email,name:B.displayName||u||"",role:"teacher",subject:O||null,status:"pending",createdAt:new Date().toISOString()}),alert("Your teacher registration is pending approval by the principal."),n("/");return}if(a==="parent"){if((await cn(Ae(se,"parents",M))).exists()){n("/parent-dashboard");return}await Ct(Ae(se,"parents",M),{uid:M,email:B.email,name:B.displayName||u||"",role:"parent",createdAt:new Date().toISOString()}),n("/parent-dashboard");return}if(a==="principal")throw new Error("Principals cannot self-register. Contact admin.")}catch(B){p(B.message)}finally{S(!1)}};return h.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center p-4",children:h.jsxs(Pn,{className:"w-full max-w-md",children:[h.jsxs(bs,{className:"text-center",children:[h.jsxs("div",{className:"flex items-center justify-center gap-2 mb-4",children:[h.jsx(oV,{className:"w-8 h-8 text-blue-600"}),h.jsx("span",{className:"text-2xl font-bold text-gray-900",children:"NextGen Independent Online (CAPS) High School"})]}),h.jsx(Is,{className:"text-xl",children:v?"Sign Up":"Welcome Back"}),h.jsx(Hh,{children:v?"Create your account":"Sign in to access your dashboard"})]}),h.jsxs(Hn,{className:"space-y-4",children:[f&&h.jsx(ip,{variant:"destructive",children:h.jsx(op,{children:f})}),h.jsxs("form",{onSubmit:v?Q:V,className:"space-y-4",children:[h.jsxs("div",{className:"space-y-2",children:[h.jsx(Je,{children:"Select Role"}),h.jsxs("select",{value:a,onChange:B=>l(B.target.value),className:"w-full border rounded-md p-2",required:!0,children:[h.jsx("option",{value:"principal",children:"Principal"}),h.jsx("option",{value:"teacher",children:"Teacher"}),h.jsx("option",{value:"student",children:"Student"}),h.jsx("option",{value:"parent",children:"Parent"})]})]}),a==="student"&&!v&&h.jsxs(h.Fragment,{children:[h.jsxs("div",{className:"space-y-2",children:[h.jsx(Je,{children:"Grade"}),h.jsxs("select",{value:C,onChange:B=>D(B.target.value),className:"w-full border rounded-md p-2",required:!0,children:[h.jsx("option",{value:"",children:"-- Select Grade --"}),T.map(B=>h.jsx("option",{value:B,children:B},B))]})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx(Je,{children:"Student Name"}),h.jsxs("select",{value:b,onChange:B=>R(B.target.value),className:"w-full border rounded-md p-2",required:!0,children:[h.jsx("option",{value:"",children:"-- Select Student --"}),L.map(B=>h.jsx("option",{value:B.id,children:B.name},B.id))]})]})]}),a!=="student"&&h.jsxs("div",{className:"space-y-2",children:[h.jsx(Je,{children:"Email Address"}),h.jsx(Wt,{type:"email",value:r,onChange:B=>s(B.target.value),required:!0})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx(Je,{children:"Password"}),h.jsxs("div",{className:"relative",children:[h.jsx(Wt,{type:E?"text":"password",value:i,onChange:B=>o(B.target.value),required:!0}),h.jsx("button",{type:"button",onClick:()=>w(!E),className:"absolute right-2 top-1/2 -translate-y-1/2 text-gray-500 text-sm",children:E?"Hide":"Show"})]})]}),v&&a==="parent"&&h.jsxs("div",{className:"space-y-2",children:[h.jsx(Je,{children:"Full Name"}),h.jsx(Wt,{type:"text",value:u,onChange:B=>d(B.target.value),required:!0})]}),v&&a==="teacher"&&h.jsxs("div",{className:"space-y-2",children:[h.jsx(Je,{children:"Subject"}),h.jsxs("select",{value:O,onChange:B=>N(B.target.value),className:"w-full border rounded-md p-2",required:!0,children:[h.jsx("option",{value:"",children:"-- Select Subject --"}),k.map(B=>h.jsx("option",{value:B,children:B},B))]})]}),h.jsxs("div",{className:"flex gap-2",children:[h.jsx(De,{type:"submit",className:"flex-1 bg-blue-600 hover:bg-blue-700",disabled:g,children:g?v?"Signing Up...":"Signing In...":v?"Sign Up":"Sign In"}),h.jsxs(De,{type:"button",className:"flex-1 flex items-center justify-center gap-2 border border-gray-300 hover:bg-gray-100",onClick:q,disabled:g,children:[h.jsx(J8,{className:"w-5 h-5"}),"Google"]})]}),a!=="student"&&h.jsx("div",{className:"text-center text-sm text-gray-500 mt-4",children:v?h.jsxs("span",{children:["Already have an account?"," ",h.jsx("button",{type:"button",className:"text-blue-600",onClick:()=>x(!1),children:"Sign In"})]}):h.jsxs("span",{children:["Don’t have an account?"," ",h.jsx("button",{type:"button",className:"text-blue-600",onClick:()=>x(!0),children:"Sign Up"})]})})]})]})]})})};function zT(t,[e,n]){return Math.min(n,Math.max(e,t))}var b7=y.createContext(void 0);function s_(t){const e=y.useContext(b7);return t||e||"ltr"}var Im=0;function kP(){y.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??WT()),document.body.insertAdjacentElement("beforeend",t[1]??WT()),Im++,()=>{Im===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Im--}},[])}function WT(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var Cm="focusScope.autoFocusOnMount",Am="focusScope.autoFocusOnUnmount",HT={bubbles:!1,cancelable:!0},I7="FocusScope",i_=y.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...o}=t,[a,l]=y.useState(null),u=Kn(s),d=Kn(i),f=y.useRef(null),p=ze(e,v=>l(v)),g=y.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;y.useEffect(()=>{if(r){let v=function(T){if(g.paused||!a)return;const C=T.target;a.contains(C)?f.current=C:Hs(f.current,{select:!0})},x=function(T){if(g.paused||!a)return;const C=T.relatedTarget;C!==null&&(a.contains(C)||Hs(f.current,{select:!0}))},E=function(T){if(document.activeElement===document.body)for(const D of T)D.removedNodes.length>0&&Hs(a)};document.addEventListener("focusin",v),document.addEventListener("focusout",x);const w=new MutationObserver(E);return a&&w.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",v),document.removeEventListener("focusout",x),w.disconnect()}}},[r,a,g.paused]),y.useEffect(()=>{if(a){GT.add(g);const v=document.activeElement;if(!a.contains(v)){const E=new CustomEvent(Cm,HT);a.addEventListener(Cm,u),a.dispatchEvent(E),E.defaultPrevented||(C7(k7(OP(a)),{select:!0}),document.activeElement===v&&Hs(a))}return()=>{a.removeEventListener(Cm,u),setTimeout(()=>{const E=new CustomEvent(Am,HT);a.addEventListener(Am,d),a.dispatchEvent(E),E.defaultPrevented||Hs(v??document.body,{select:!0}),a.removeEventListener(Am,d),GT.remove(g)},0)}}},[a,u,d,g]);const S=y.useCallback(v=>{if(!n&&!r||g.paused)return;const x=v.key==="Tab"&&!v.altKey&&!v.ctrlKey&&!v.metaKey,E=document.activeElement;if(x&&E){const w=v.currentTarget,[T,C]=A7(w);T&&C?!v.shiftKey&&E===C?(v.preventDefault(),n&&Hs(T,{select:!0})):v.shiftKey&&E===T&&(v.preventDefault(),n&&Hs(C,{select:!0})):E===w&&v.preventDefault()}},[n,r,g.paused]);return h.jsx(_e.div,{tabIndex:-1,...o,ref:p,onKeyDown:S})});i_.displayName=I7;function C7(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(Hs(r,{select:e}),document.activeElement!==n)return}function A7(t){const e=OP(t),n=qT(e,t),r=qT(e.reverse(),t);return[n,r]}function OP(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function qT(t,e){for(const n of t)if(!R7(n,{upTo:e}))return n}function R7(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function P7(t){return t instanceof HTMLInputElement&&"select"in t}function Hs(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&P7(t)&&e&&t.select()}}var GT=N7();function N7(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=KT(t,e),t.unshift(e)},remove(e){var n;t=KT(t,e),(n=t[0])==null||n.resume()}}}function KT(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function k7(t){return t.filter(e=>e.tagName!=="A")}function O7(t){const e=y.useRef({value:t,previous:t});return y.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var D7=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Xo=new WeakMap,pd=new WeakMap,md={},Rm=0,DP=function(t){return t&&(t.host||DP(t.parentNode))},L7=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=DP(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},M7=function(t,e,n,r){var s=L7(e,Array.isArray(t)?t:[t]);md[n]||(md[n]=new WeakMap);var i=md[n],o=[],a=new Set,l=new Set(s),u=function(f){!f||a.has(f)||(a.add(f),u(f.parentNode))};s.forEach(u);var d=function(f){!f||l.has(f)||Array.prototype.forEach.call(f.children,function(p){if(a.has(p))d(p);else try{var g=p.getAttribute(r),S=g!==null&&g!=="false",v=(Xo.get(p)||0)+1,x=(i.get(p)||0)+1;Xo.set(p,v),i.set(p,x),o.push(p),v===1&&S&&pd.set(p,!0),x===1&&p.setAttribute(n,"true"),S||p.setAttribute(r,"true")}catch(E){console.error("aria-hidden: cannot operate on ",p,E)}})};return d(e),a.clear(),Rm++,function(){o.forEach(function(f){var p=Xo.get(f)-1,g=i.get(f)-1;Xo.set(f,p),i.set(f,g),p||(pd.has(f)||f.removeAttribute(r),pd.delete(f)),g||f.removeAttribute(n)}),Rm--,Rm||(Xo=new WeakMap,Xo=new WeakMap,pd=new WeakMap,md={})}},LP=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),s=D7(t);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live], script"))),M7(r,s,n,"aria-hidden")):function(){return null}},Vr=function(){return Vr=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Vr.apply(this,arguments)};function MP(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function j7(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}var zd="right-scroll-bar-position",Wd="width-before-scroll-bar",V7="with-scroll-bars-hidden",F7="--removed-body-scroll-bar-size";function Pm(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function U7(t,e){var n=y.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=e,n.facade}var $7=typeof window<"u"?y.useLayoutEffect:y.useEffect,QT=new WeakMap;function B7(t,e){var n=U7(null,function(r){return t.forEach(function(s){return Pm(s,r)})});return $7(function(){var r=QT.get(n);if(r){var s=new Set(r),i=new Set(t),o=n.current;s.forEach(function(a){i.has(a)||Pm(a,null)}),i.forEach(function(a){s.has(a)||Pm(a,o)})}QT.set(n,t)},[t]),n}function z7(t){return t}function W7(t,e){e===void 0&&(e=z7);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(i){var o=e(i,r);return n.push(o),function(){n=n.filter(function(a){return a!==o})}},assignSyncMedium:function(i){for(r=!0;n.length;){var o=n;n=[],o.forEach(i)}n={push:function(a){return i(a)},filter:function(){return n}}},assignMedium:function(i){r=!0;var o=[];if(n.length){var a=n;n=[],a.forEach(i),o=n}var l=function(){var d=o;o=[],d.forEach(i)},u=function(){return Promise.resolve().then(l)};u(),n={push:function(d){o.push(d),u()},filter:function(d){return o=o.filter(d),n}}}};return s}function H7(t){t===void 0&&(t={});var e=W7(null);return e.options=Vr({async:!0,ssr:!1},t),e}var jP=function(t){var e=t.sideCar,n=MP(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return y.createElement(r,Vr({},n))};jP.isSideCarExport=!0;function q7(t,e){return t.useMedium(e),jP}var VP=H7(),Nm=function(){},ap=y.forwardRef(function(t,e){var n=y.useRef(null),r=y.useState({onScrollCapture:Nm,onWheelCapture:Nm,onTouchMoveCapture:Nm}),s=r[0],i=r[1],o=t.forwardProps,a=t.children,l=t.className,u=t.removeScrollBar,d=t.enabled,f=t.shards,p=t.sideCar,g=t.noRelative,S=t.noIsolation,v=t.inert,x=t.allowPinchZoom,E=t.as,w=E===void 0?"div":E,T=t.gapMode,C=MP(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),D=p,L=B7([n,e]),I=Vr(Vr({},C),s);return y.createElement(y.Fragment,null,d&&y.createElement(D,{sideCar:VP,removeScrollBar:u,shards:f,noRelative:g,noIsolation:S,inert:v,setCallbacks:i,allowPinchZoom:!!x,lockRef:n,gapMode:T}),o?y.cloneElement(y.Children.only(a),Vr(Vr({},I),{ref:L})):y.createElement(w,Vr({},I,{className:l,ref:L}),a))});ap.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};ap.classNames={fullWidth:Wd,zeroRight:zd};var G7=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function K7(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=G7();return e&&t.setAttribute("nonce",e),t}function Q7(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function Y7(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var X7=function(){var t=0,e=null;return{add:function(n){t==0&&(e=K7())&&(Q7(e,n),Y7(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},J7=function(){var t=X7();return function(e,n){y.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},FP=function(){var t=J7(),e=function(n){var r=n.styles,s=n.dynamic;return t(r,s),null};return e},Z7={left:0,top:0,right:0,gap:0},km=function(t){return parseInt(t||"",10)||0},eW=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[km(n),km(r),km(s)]},tW=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return Z7;var e=eW(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},nW=FP(),Aa="data-scroll-locked",rW=function(t,e,n,r){var s=t.left,i=t.top,o=t.right,a=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(V7,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(Aa,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(zd,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Wd,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(zd," .").concat(zd,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Wd," .").concat(Wd,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Aa,`] {
    `).concat(F7,": ").concat(a,`px;
  }
`)},YT=function(){var t=parseInt(document.body.getAttribute(Aa)||"0",10);return isFinite(t)?t:0},sW=function(){y.useEffect(function(){return document.body.setAttribute(Aa,(YT()+1).toString()),function(){var t=YT()-1;t<=0?document.body.removeAttribute(Aa):document.body.setAttribute(Aa,t.toString())}},[])},iW=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,s=r===void 0?"margin":r;sW();var i=y.useMemo(function(){return tW(s)},[s]);return y.createElement(nW,{styles:rW(i,!e,s,n?"":"!important")})},wy=!1;if(typeof window<"u")try{var gd=Object.defineProperty({},"passive",{get:function(){return wy=!0,!0}});window.addEventListener("test",gd,gd),window.removeEventListener("test",gd,gd)}catch{wy=!1}var Jo=wy?{passive:!1}:!1,oW=function(t){return t.tagName==="TEXTAREA"},UP=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!oW(t)&&n[e]==="visible")},aW=function(t){return UP(t,"overflowY")},lW=function(t){return UP(t,"overflowX")},XT=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=$P(t,r);if(s){var i=BP(t,r),o=i[1],a=i[2];if(o>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},cW=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},uW=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},$P=function(t,e){return t==="v"?aW(e):lW(e)},BP=function(t,e){return t==="v"?cW(e):uW(e)},dW=function(t,e){return t==="h"&&e==="rtl"?-1:1},hW=function(t,e,n,r,s){var i=dW(t,window.getComputedStyle(e).direction),o=i*r,a=n.target,l=e.contains(a),u=!1,d=o>0,f=0,p=0;do{if(!a)break;var g=BP(t,a),S=g[0],v=g[1],x=g[2],E=v-x-i*S;(S||E)&&$P(t,a)&&(f+=E,p+=S);var w=a.parentNode;a=w&&w.nodeType===Node.DOCUMENT_FRAGMENT_NODE?w.host:w}while(!l&&a!==document.body||l&&(e.contains(a)||e===a));return(d&&Math.abs(f)<1||!d&&Math.abs(p)<1)&&(u=!0),u},yd=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},JT=function(t){return[t.deltaX,t.deltaY]},ZT=function(t){return t&&"current"in t?t.current:t},fW=function(t,e){return t[0]===e[0]&&t[1]===e[1]},pW=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},mW=0,Zo=[];function gW(t){var e=y.useRef([]),n=y.useRef([0,0]),r=y.useRef(),s=y.useState(mW++)[0],i=y.useState(FP)[0],o=y.useRef(t);y.useEffect(function(){o.current=t},[t]),y.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var v=j7([t.lockRef.current],(t.shards||[]).map(ZT),!0).filter(Boolean);return v.forEach(function(x){return x.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),v.forEach(function(x){return x.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var a=y.useCallback(function(v,x){if("touches"in v&&v.touches.length===2||v.type==="wheel"&&v.ctrlKey)return!o.current.allowPinchZoom;var E=yd(v),w=n.current,T="deltaX"in v?v.deltaX:w[0]-E[0],C="deltaY"in v?v.deltaY:w[1]-E[1],D,L=v.target,I=Math.abs(T)>Math.abs(C)?"h":"v";if("touches"in v&&I==="h"&&L.type==="range")return!1;var b=XT(I,L);if(!b)return!0;if(b?D=I:(D=I==="v"?"h":"v",b=XT(I,L)),!b)return!1;if(!r.current&&"changedTouches"in v&&(T||C)&&(r.current=D),!D)return!0;var R=r.current||D;return hW(R,x,v,R==="h"?T:C)},[]),l=y.useCallback(function(v){var x=v;if(!(!Zo.length||Zo[Zo.length-1]!==i)){var E="deltaY"in x?JT(x):yd(x),w=e.current.filter(function(D){return D.name===x.type&&(D.target===x.target||x.target===D.shadowParent)&&fW(D.delta,E)})[0];if(w&&w.should){x.cancelable&&x.preventDefault();return}if(!w){var T=(o.current.shards||[]).map(ZT).filter(Boolean).filter(function(D){return D.contains(x.target)}),C=T.length>0?a(x,T[0]):!o.current.noIsolation;C&&x.cancelable&&x.preventDefault()}}},[]),u=y.useCallback(function(v,x,E,w){var T={name:v,delta:x,target:E,should:w,shadowParent:yW(E)};e.current.push(T),setTimeout(function(){e.current=e.current.filter(function(C){return C!==T})},1)},[]),d=y.useCallback(function(v){n.current=yd(v),r.current=void 0},[]),f=y.useCallback(function(v){u(v.type,JT(v),v.target,a(v,t.lockRef.current))},[]),p=y.useCallback(function(v){u(v.type,yd(v),v.target,a(v,t.lockRef.current))},[]);y.useEffect(function(){return Zo.push(i),t.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:p}),document.addEventListener("wheel",l,Jo),document.addEventListener("touchmove",l,Jo),document.addEventListener("touchstart",d,Jo),function(){Zo=Zo.filter(function(v){return v!==i}),document.removeEventListener("wheel",l,Jo),document.removeEventListener("touchmove",l,Jo),document.removeEventListener("touchstart",d,Jo)}},[]);var g=t.removeScrollBar,S=t.inert;return y.createElement(y.Fragment,null,S?y.createElement(i,{styles:pW(s)}):null,g?y.createElement(iW,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function yW(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const vW=q7(VP,gW);var o_=y.forwardRef(function(t,e){return y.createElement(ap,Vr({},t,{ref:e,sideCar:vW}))});o_.classNames=ap.classNames;var wW=[" ","Enter","ArrowUp","ArrowDown"],_W=[" ","Enter"],No="Select",[lp,cp,EW]=Fv(No),[gl]=Fi(No,[EW,Ef]),up=Ef(),[xW,Bi]=gl(No),[TW,SW]=gl(No),zP=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:s,onOpenChange:i,value:o,defaultValue:a,onValueChange:l,dir:u,name:d,autoComplete:f,disabled:p,required:g,form:S}=t,v=up(e),[x,E]=y.useState(null),[w,T]=y.useState(null),[C,D]=y.useState(!1),L=s_(u),[I,b]=qa({prop:r,defaultProp:s??!1,onChange:i,caller:No}),[R,k]=qa({prop:o,defaultProp:a,onChange:l,caller:No}),P=y.useRef(null),O=x?S||!!x.closest("form"):!0,[N,V]=y.useState(new Set),Q=Array.from(N).map(q=>q.props.value).join(";");return h.jsx(TM,{...v,children:h.jsxs(xW,{required:g,scope:e,trigger:x,onTriggerChange:E,valueNode:w,onValueNodeChange:T,valueNodeHasChildren:C,onValueNodeHasChildrenChange:D,contentId:vi(),value:R,onValueChange:k,open:I,onOpenChange:b,dir:L,triggerPointerDownPosRef:P,disabled:p,children:[h.jsx(lp.Provider,{scope:e,children:h.jsx(TW,{scope:t.__scopeSelect,onNativeOptionAdd:y.useCallback(q=>{V(B=>new Set(B).add(q))},[]),onNativeOptionRemove:y.useCallback(q=>{V(B=>{const M=new Set(B);return M.delete(q),M})},[]),children:n})}),O?h.jsxs(fN,{"aria-hidden":!0,required:g,tabIndex:-1,name:d,autoComplete:f,value:R,onChange:q=>k(q.target.value),disabled:p,form:S,children:[R===void 0?h.jsx("option",{value:""}):null,Array.from(N)]},Q):null]})})};zP.displayName=No;var WP="SelectTrigger",HP=y.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...s}=t,i=up(n),o=Bi(WP,n),a=o.disabled||r,l=ze(e,o.onTriggerChange),u=cp(n),d=y.useRef("touch"),[f,p,g]=mN(v=>{const x=u().filter(T=>!T.disabled),E=x.find(T=>T.value===o.value),w=gN(x,v,E);w!==void 0&&o.onValueChange(w.value)}),S=v=>{a||(o.onOpenChange(!0),g()),v&&(o.triggerPointerDownPosRef.current={x:Math.round(v.pageX),y:Math.round(v.pageY)})};return h.jsx(iC,{asChild:!0,...i,children:h.jsx(_e.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":pN(o.value)?"":void 0,...s,ref:l,onClick:ue(s.onClick,v=>{v.currentTarget.focus(),d.current!=="mouse"&&S(v)}),onPointerDown:ue(s.onPointerDown,v=>{d.current=v.pointerType;const x=v.target;x.hasPointerCapture(v.pointerId)&&x.releasePointerCapture(v.pointerId),v.button===0&&v.ctrlKey===!1&&v.pointerType==="mouse"&&(S(v),v.preventDefault())}),onKeyDown:ue(s.onKeyDown,v=>{const x=f.current!=="";!(v.ctrlKey||v.altKey||v.metaKey)&&v.key.length===1&&p(v.key),!(x&&v.key===" ")&&wW.includes(v.key)&&(S(),v.preventDefault())})})})});HP.displayName=WP;var qP="SelectValue",GP=y.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,children:i,placeholder:o="",...a}=t,l=Bi(qP,n),{onValueNodeHasChildrenChange:u}=l,d=i!==void 0,f=ze(e,l.onValueNodeChange);return Lt(()=>{u(d)},[u,d]),h.jsx(_e.span,{...a,ref:f,style:{pointerEvents:"none"},children:pN(l.value)?h.jsx(h.Fragment,{children:o}):i})});GP.displayName=qP;var bW="SelectIcon",KP=y.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...s}=t;return h.jsx(_e.span,{"aria-hidden":!0,...s,ref:e,children:r||"▼"})});KP.displayName=bW;var IW="SelectPortal",QP=t=>h.jsx(xf,{asChild:!0,...t});QP.displayName=IW;var ko="SelectContent",YP=y.forwardRef((t,e)=>{const n=Bi(ko,t.__scopeSelect),[r,s]=y.useState();if(Lt(()=>{s(new DocumentFragment)},[]),!n.open){const i=r;return i?Mo.createPortal(h.jsx(XP,{scope:t.__scopeSelect,children:h.jsx(lp.Slot,{scope:t.__scopeSelect,children:h.jsx("div",{children:t.children})})}),i):null}return h.jsx(JP,{...t,ref:e})});YP.displayName=ko;var rr=10,[XP,zi]=gl(ko),CW="SelectContentImpl",AW=Wa("SelectContent.RemoveScroll"),JP=y.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:i,onPointerDownOutside:o,side:a,sideOffset:l,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:p,collisionPadding:g,sticky:S,hideWhenDetached:v,avoidCollisions:x,...E}=t,w=Bi(ko,n),[T,C]=y.useState(null),[D,L]=y.useState(null),I=ze(e,J=>C(J)),[b,R]=y.useState(null),[k,P]=y.useState(null),O=cp(n),[N,V]=y.useState(!1),Q=y.useRef(!1);y.useEffect(()=>{if(T)return LP(T)},[T]),kP();const q=y.useCallback(J=>{const[Ie,...Y]=O().map(le=>le.ref.current),[me]=Y.slice(-1),ae=document.activeElement;for(const le of J)if(le===ae||(le==null||le.scrollIntoView({block:"nearest"}),le===Ie&&D&&(D.scrollTop=0),le===me&&D&&(D.scrollTop=D.scrollHeight),le==null||le.focus(),document.activeElement!==ae))return},[O,D]),B=y.useCallback(()=>q([b,T]),[q,b,T]);y.useEffect(()=>{N&&B()},[N,B]);const{onOpenChange:M,triggerPointerDownPosRef:F}=w;y.useEffect(()=>{if(T){let J={x:0,y:0};const Ie=me=>{var ae,le;J={x:Math.abs(Math.round(me.pageX)-(((ae=F.current)==null?void 0:ae.x)??0)),y:Math.abs(Math.round(me.pageY)-(((le=F.current)==null?void 0:le.y)??0))}},Y=me=>{J.x<=10&&J.y<=10?me.preventDefault():T.contains(me.target)||M(!1),document.removeEventListener("pointermove",Ie),F.current=null};return F.current!==null&&(document.addEventListener("pointermove",Ie),document.addEventListener("pointerup",Y,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Ie),document.removeEventListener("pointerup",Y,{capture:!0})}}},[T,M,F]),y.useEffect(()=>{const J=()=>M(!1);return window.addEventListener("blur",J),window.addEventListener("resize",J),()=>{window.removeEventListener("blur",J),window.removeEventListener("resize",J)}},[M]);const[H,re]=mN(J=>{const Ie=O().filter(ae=>!ae.disabled),Y=Ie.find(ae=>ae.ref.current===document.activeElement),me=gN(Ie,J,Y);me&&setTimeout(()=>me.ref.current.focus())}),Z=y.useCallback((J,Ie,Y)=>{const me=!Q.current&&!Y;(w.value!==void 0&&w.value===Ie||me)&&(R(J),me&&(Q.current=!0))},[w.value]),ce=y.useCallback(()=>T==null?void 0:T.focus(),[T]),oe=y.useCallback((J,Ie,Y)=>{const me=!Q.current&&!Y;(w.value!==void 0&&w.value===Ie||me)&&P(J)},[w.value]),Ne=r==="popper"?_y:ZP,Me=Ne===_y?{side:a,sideOffset:l,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:p,collisionPadding:g,sticky:S,hideWhenDetached:v,avoidCollisions:x}:{};return h.jsx(XP,{scope:n,content:T,viewport:D,onViewportChange:L,itemRefCallback:Z,selectedItem:b,onItemLeave:ce,itemTextRefCallback:oe,focusSelectedItem:B,selectedItemText:k,position:r,isPositioned:N,searchRef:H,children:h.jsx(o_,{as:AW,allowPinchZoom:!0,children:h.jsx(i_,{asChild:!0,trapped:w.open,onMountAutoFocus:J=>{J.preventDefault()},onUnmountAutoFocus:ue(s,J=>{var Ie;(Ie=w.trigger)==null||Ie.focus({preventScroll:!0}),J.preventDefault()}),children:h.jsx(au,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:J=>J.preventDefault(),onDismiss:()=>w.onOpenChange(!1),children:h.jsx(Ne,{role:"listbox",id:w.contentId,"data-state":w.open?"open":"closed",dir:w.dir,onContextMenu:J=>J.preventDefault(),...E,...Me,onPlaced:()=>V(!0),ref:I,style:{display:"flex",flexDirection:"column",outline:"none",...E.style},onKeyDown:ue(E.onKeyDown,J=>{const Ie=J.ctrlKey||J.altKey||J.metaKey;if(J.key==="Tab"&&J.preventDefault(),!Ie&&J.key.length===1&&re(J.key),["ArrowUp","ArrowDown","Home","End"].includes(J.key)){let me=O().filter(ae=>!ae.disabled).map(ae=>ae.ref.current);if(["ArrowUp","End"].includes(J.key)&&(me=me.slice().reverse()),["ArrowUp","ArrowDown"].includes(J.key)){const ae=J.target,le=me.indexOf(ae);me=me.slice(le+1)}setTimeout(()=>q(me)),J.preventDefault()}})})})})})})});JP.displayName=CW;var RW="SelectItemAlignedPosition",ZP=y.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...s}=t,i=Bi(ko,n),o=zi(ko,n),[a,l]=y.useState(null),[u,d]=y.useState(null),f=ze(e,I=>d(I)),p=cp(n),g=y.useRef(!1),S=y.useRef(!0),{viewport:v,selectedItem:x,selectedItemText:E,focusSelectedItem:w}=o,T=y.useCallback(()=>{if(i.trigger&&i.valueNode&&a&&u&&v&&x&&E){const I=i.trigger.getBoundingClientRect(),b=u.getBoundingClientRect(),R=i.valueNode.getBoundingClientRect(),k=E.getBoundingClientRect();if(i.dir!=="rtl"){const ae=k.left-b.left,le=R.left-ae,je=I.left-le,Rt=I.width+je,Jn=Math.max(Rt,b.width),rn=window.innerWidth-rr,yn=zT(le,[rr,Math.max(rr,rn-Jn)]);a.style.minWidth=Rt+"px",a.style.left=yn+"px"}else{const ae=b.right-k.right,le=window.innerWidth-R.right-ae,je=window.innerWidth-I.right-le,Rt=I.width+je,Jn=Math.max(Rt,b.width),rn=window.innerWidth-rr,yn=zT(le,[rr,Math.max(rr,rn-Jn)]);a.style.minWidth=Rt+"px",a.style.right=yn+"px"}const P=p(),O=window.innerHeight-rr*2,N=v.scrollHeight,V=window.getComputedStyle(u),Q=parseInt(V.borderTopWidth,10),q=parseInt(V.paddingTop,10),B=parseInt(V.borderBottomWidth,10),M=parseInt(V.paddingBottom,10),F=Q+q+N+M+B,H=Math.min(x.offsetHeight*5,F),re=window.getComputedStyle(v),Z=parseInt(re.paddingTop,10),ce=parseInt(re.paddingBottom,10),oe=I.top+I.height/2-rr,Ne=O-oe,Me=x.offsetHeight/2,J=x.offsetTop+Me,Ie=Q+q+J,Y=F-Ie;if(Ie<=oe){const ae=P.length>0&&x===P[P.length-1].ref.current;a.style.bottom="0px";const le=u.clientHeight-v.offsetTop-v.offsetHeight,je=Math.max(Ne,Me+(ae?ce:0)+le+B),Rt=Ie+je;a.style.height=Rt+"px"}else{const ae=P.length>0&&x===P[0].ref.current;a.style.top="0px";const je=Math.max(oe,Q+v.offsetTop+(ae?Z:0)+Me)+Y;a.style.height=je+"px",v.scrollTop=Ie-oe+v.offsetTop}a.style.margin=`${rr}px 0`,a.style.minHeight=H+"px",a.style.maxHeight=O+"px",r==null||r(),requestAnimationFrame(()=>g.current=!0)}},[p,i.trigger,i.valueNode,a,u,v,x,E,i.dir,r]);Lt(()=>T(),[T]);const[C,D]=y.useState();Lt(()=>{u&&D(window.getComputedStyle(u).zIndex)},[u]);const L=y.useCallback(I=>{I&&S.current===!0&&(T(),w==null||w(),S.current=!1)},[T,w]);return h.jsx(NW,{scope:n,contentWrapper:a,shouldExpandOnScrollRef:g,onScrollButtonChange:L,children:h.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:C},children:h.jsx(_e.div,{...s,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});ZP.displayName=RW;var PW="SelectPopperPosition",_y=y.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:s=rr,...i}=t,o=up(n);return h.jsx(oC,{...o,...i,ref:e,align:r,collisionPadding:s,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});_y.displayName=PW;var[NW,a_]=gl(ko,{}),Ey="SelectViewport",eN=y.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...s}=t,i=zi(Ey,n),o=a_(Ey,n),a=ze(e,i.onViewportChange),l=y.useRef(0);return h.jsxs(h.Fragment,{children:[h.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),h.jsx(lp.Slot,{scope:n,children:h.jsx(_e.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:a,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:ue(s.onScroll,u=>{const d=u.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:p}=o;if(p!=null&&p.current&&f){const g=Math.abs(l.current-d.scrollTop);if(g>0){const S=window.innerHeight-rr*2,v=parseFloat(f.style.minHeight),x=parseFloat(f.style.height),E=Math.max(v,x);if(E<S){const w=E+g,T=Math.min(S,w),C=w-T;f.style.height=T+"px",f.style.bottom==="0px"&&(d.scrollTop=C>0?C:0,f.style.justifyContent="flex-end")}}}l.current=d.scrollTop})})})]})});eN.displayName=Ey;var tN="SelectGroup",[kW,OW]=gl(tN),DW=y.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=vi();return h.jsx(kW,{scope:n,id:s,children:h.jsx(_e.div,{role:"group","aria-labelledby":s,...r,ref:e})})});DW.displayName=tN;var nN="SelectLabel",rN=y.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=OW(nN,n);return h.jsx(_e.div,{id:s.id,...r,ref:e})});rN.displayName=nN;var Yh="SelectItem",[LW,sN]=gl(Yh),iN=y.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:s=!1,textValue:i,...o}=t,a=Bi(Yh,n),l=zi(Yh,n),u=a.value===r,[d,f]=y.useState(i??""),[p,g]=y.useState(!1),S=ze(e,w=>{var T;return(T=l.itemRefCallback)==null?void 0:T.call(l,w,r,s)}),v=vi(),x=y.useRef("touch"),E=()=>{s||(a.onValueChange(r),a.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return h.jsx(LW,{scope:n,value:r,disabled:s,textId:v,isSelected:u,onItemTextChange:y.useCallback(w=>{f(T=>T||((w==null?void 0:w.textContent)??"").trim())},[]),children:h.jsx(lp.ItemSlot,{scope:n,value:r,disabled:s,textValue:d,children:h.jsx(_e.div,{role:"option","aria-labelledby":v,"data-highlighted":p?"":void 0,"aria-selected":u&&p,"data-state":u?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...o,ref:S,onFocus:ue(o.onFocus,()=>g(!0)),onBlur:ue(o.onBlur,()=>g(!1)),onClick:ue(o.onClick,()=>{x.current!=="mouse"&&E()}),onPointerUp:ue(o.onPointerUp,()=>{x.current==="mouse"&&E()}),onPointerDown:ue(o.onPointerDown,w=>{x.current=w.pointerType}),onPointerMove:ue(o.onPointerMove,w=>{var T;x.current=w.pointerType,s?(T=l.onItemLeave)==null||T.call(l):x.current==="mouse"&&w.currentTarget.focus({preventScroll:!0})}),onPointerLeave:ue(o.onPointerLeave,w=>{var T;w.currentTarget===document.activeElement&&((T=l.onItemLeave)==null||T.call(l))}),onKeyDown:ue(o.onKeyDown,w=>{var C;((C=l.searchRef)==null?void 0:C.current)!==""&&w.key===" "||(_W.includes(w.key)&&E(),w.key===" "&&w.preventDefault())})})})})});iN.displayName=Yh;var Zl="SelectItemText",oN=y.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,...i}=t,o=Bi(Zl,n),a=zi(Zl,n),l=sN(Zl,n),u=SW(Zl,n),[d,f]=y.useState(null),p=ze(e,E=>f(E),l.onItemTextChange,E=>{var w;return(w=a.itemTextRefCallback)==null?void 0:w.call(a,E,l.value,l.disabled)}),g=d==null?void 0:d.textContent,S=y.useMemo(()=>h.jsx("option",{value:l.value,disabled:l.disabled,children:g},l.value),[l.disabled,l.value,g]),{onNativeOptionAdd:v,onNativeOptionRemove:x}=u;return Lt(()=>(v(S),()=>x(S)),[v,x,S]),h.jsxs(h.Fragment,{children:[h.jsx(_e.span,{id:l.textId,...i,ref:p}),l.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Mo.createPortal(i.children,o.valueNode):null]})});oN.displayName=Zl;var aN="SelectItemIndicator",lN=y.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return sN(aN,n).isSelected?h.jsx(_e.span,{"aria-hidden":!0,...r,ref:e}):null});lN.displayName=aN;var xy="SelectScrollUpButton",cN=y.forwardRef((t,e)=>{const n=zi(xy,t.__scopeSelect),r=a_(xy,t.__scopeSelect),[s,i]=y.useState(!1),o=ze(e,r.onScrollButtonChange);return Lt(()=>{if(n.viewport&&n.isPositioned){let a=function(){const u=l.scrollTop>0;i(u)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),s?h.jsx(dN,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop-l.offsetHeight)}}):null});cN.displayName=xy;var Ty="SelectScrollDownButton",uN=y.forwardRef((t,e)=>{const n=zi(Ty,t.__scopeSelect),r=a_(Ty,t.__scopeSelect),[s,i]=y.useState(!1),o=ze(e,r.onScrollButtonChange);return Lt(()=>{if(n.viewport&&n.isPositioned){let a=function(){const u=l.scrollHeight-l.clientHeight,d=Math.ceil(l.scrollTop)<u;i(d)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),s?h.jsx(dN,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop+l.offsetHeight)}}):null});uN.displayName=Ty;var dN=y.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...s}=t,i=zi("SelectScrollButton",n),o=y.useRef(null),a=cp(n),l=y.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return y.useEffect(()=>()=>l(),[l]),Lt(()=>{var d;const u=a().find(f=>f.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[a]),h.jsx(_e.div,{"aria-hidden":!0,...s,ref:e,style:{flexShrink:0,...s.style},onPointerDown:ue(s.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(r,50))}),onPointerMove:ue(s.onPointerMove,()=>{var u;(u=i.onItemLeave)==null||u.call(i),o.current===null&&(o.current=window.setInterval(r,50))}),onPointerLeave:ue(s.onPointerLeave,()=>{l()})})}),MW="SelectSeparator",hN=y.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return h.jsx(_e.div,{"aria-hidden":!0,...r,ref:e})});hN.displayName=MW;var Sy="SelectArrow",jW=y.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=up(n),i=Bi(Sy,n),o=zi(Sy,n);return i.open&&o.position==="popper"?h.jsx(aC,{...s,...r,ref:e}):null});jW.displayName=Sy;var VW="SelectBubbleInput",fN=y.forwardRef(({__scopeSelect:t,value:e,...n},r)=>{const s=y.useRef(null),i=ze(r,s),o=O7(e);return y.useEffect(()=>{const a=s.current;if(!a)return;const l=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(l,"value").set;if(o!==e&&d){const f=new Event("change",{bubbles:!0});d.call(a,e),a.dispatchEvent(f)}},[o,e]),h.jsx(_e.select,{...n,style:{...lC,...n.style},ref:i,defaultValue:e})});fN.displayName=VW;function pN(t){return t===""||t===void 0}function mN(t){const e=Kn(t),n=y.useRef(""),r=y.useRef(0),s=y.useCallback(o=>{const a=n.current+o;e(a),function l(u){n.current=u,window.clearTimeout(r.current),u!==""&&(r.current=window.setTimeout(()=>l(""),1e3))}(a)},[e]),i=y.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return y.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,s,i]}function gN(t,e,n){const s=e.length>1&&Array.from(e).every(u=>u===e[0])?e[0]:e,i=n?t.indexOf(n):-1;let o=FW(t,Math.max(i,0));s.length===1&&(o=o.filter(u=>u!==n));const l=o.find(u=>u.textValue.toLowerCase().startsWith(s.toLowerCase()));return l!==n?l:void 0}function FW(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var UW=zP,yN=HP,$W=GP,BW=KP,zW=QP,vN=YP,WW=eN,wN=rN,_N=iN,HW=oN,qW=lN,EN=cN,xN=uN,TN=hN;const GW=UW,KW=$W,SN=y.forwardRef(({className:t,children:e,...n},r)=>h.jsxs(yN,{ref:r,className:be("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground/60 focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-primary focus-visible:border-primary/50 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1 transition-colors",t),...n,children:[e,h.jsx(BW,{asChild:!0,children:h.jsx(WC,{className:"h-4 w-4 opacity-50 transition-transform duration-200 ease-in-out group-data-[state=open]:rotate-180"})})]}));SN.displayName=yN.displayName;const bN=y.forwardRef(({className:t,...e},n)=>h.jsx(EN,{ref:n,className:be("flex cursor-default items-center justify-center py-1 text-muted-foreground",t),...e,children:h.jsx(iV,{className:"h-4 w-4"})}));bN.displayName=EN.displayName;const IN=y.forwardRef(({className:t,...e},n)=>h.jsx(xN,{ref:n,className:be("flex cursor-default items-center justify-center py-1 text-muted-foreground",t),...e,children:h.jsx(WC,{className:"h-4 w-4"})}));IN.displayName=xN.displayName;const CN=y.forwardRef(({className:t,children:e,position:n="popper",...r},s)=>h.jsx(zW,{children:h.jsxs(vN,{ref:s,className:be("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border border-border/40 bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 duration-200",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[h.jsx(bN,{}),h.jsx(WW,{className:be("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),h.jsx(IN,{})]})}));CN.displayName=vN.displayName;const QW=y.forwardRef(({className:t,...e},n)=>h.jsx(wN,{ref:n,className:be("py-1.5 pl-8 pr-2 text-sm font-medium text-muted-foreground",t),...e}));QW.displayName=wN.displayName;const Hd=y.forwardRef(({className:t,children:e,...n},r)=>h.jsxs(_N,{ref:r,className:be("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent/50 focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 transition-colors",t),...n,children:[h.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:h.jsx(qW,{children:h.jsx(sV,{className:"h-4 w-4 text-primary"})})}),h.jsx(HW,{children:e})]}));Hd.displayName=_N.displayName;const YW=y.forwardRef(({className:t,...e},n)=>h.jsx(TN,{ref:n,className:be("-mx-1 my-1 h-px bg-muted",t),...e}));YW.displayName=TN.displayName;function XW(){const{user:t}=Mn(),[e,n]=y.useState(""),[r,s]=y.useState(""),[i,o]=y.useState(""),[a,l]=y.useState(""),[u,d]=y.useState("registration"),[f,p]=y.useState({internet:!1,computer:!1,camera:!1,stopOrder:!1}),[g,S]=y.useState(!1),[v,x]=y.useState(!1),[E,w]=y.useState(null),T=async C=>{if(C.preventDefault(),!!t){x(!0);try{const D=await ep(ht(se,"registrations"),{parentId:t.uid,parentData:{name:e,email:r},learnerData:{firstName:i.split(" ")[0],lastName:i.split(" ").slice(1).join(" "),grade:a},purpose:u,status:"payment_pending",paymentReceived:!1,createdAt:tp()});w(D.id)}catch(D){console.error("Error saving registration:",D)}finally{x(!1)}}};return h.jsxs("div",{className:"max-w-2xl mx-auto p-6 space-y-6",children:[h.jsx("h2",{className:"text-2xl font-bold",children:"Parent & Learner Registration"}),E?h.jsxs("div",{className:"p-6 bg-green-50 border rounded-lg",children:[h.jsx("h3",{className:"text-lg font-semibold",children:"Registration Submitted!"}),h.jsxs("p",{className:"mt-2 text-sm text-gray-700",children:["Your registration ID is: ",h.jsx("strong",{children:E}),". ",h.jsx("br",{}),"Next, please complete your payment."]}),h.jsx(De,{asChild:!0,className:"mt-4 bg-blue-600 hover:bg-blue-700",children:h.jsx("a",{href:`/payments/${E}`,children:"Go to Payment"})})]}):h.jsxs("form",{onSubmit:T,className:"space-y-6",children:[h.jsxs("div",{className:"border rounded-lg p-6 bg-gray-50",children:[h.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Parent Information"}),h.jsx(Je,{children:"Name"}),h.jsx(Wt,{type:"text",required:!0,value:e,onChange:C=>n(C.target.value)}),h.jsx(Je,{className:"mt-3",children:"Email"}),h.jsx(Wt,{type:"email",required:!0,value:r,onChange:C=>s(C.target.value)})]}),h.jsxs("div",{className:"border rounded-lg p-6 bg-gray-50",children:[h.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Learner Information"}),h.jsx(Je,{children:"Full Name"}),h.jsx(Wt,{type:"text",required:!0,value:i,onChange:C=>o(C.target.value)}),h.jsx(Je,{className:"mt-3",children:"Grade"}),h.jsx(Wt,{type:"text",required:!0,value:a,onChange:C=>l(C.target.value)})]}),h.jsxs("div",{className:"border rounded-lg p-6 bg-green-50",children:[h.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Fee Structure"}),h.jsxs("ul",{className:"list-disc list-inside space-y-1 text-sm text-gray-700",children:[h.jsxs("li",{children:[h.jsx("span",{className:"font-medium",children:"Registration Fee:"})," R500 (once-off, non-refundable)"]}),h.jsxs("li",{children:[h.jsx("span",{className:"font-medium",children:"Tuition Fees:"})," R2000 per term"]}),h.jsxs("li",{children:[h.jsx("span",{className:"font-medium",children:"Other Payments:"})," Events, donations, or extras as selected"]})]})]}),h.jsxs("div",{className:"border rounded-lg p-6 bg-yellow-50",children:[h.jsx(Je,{className:"font-semibold",children:"Payment Type"}),h.jsxs(GW,{value:u,onValueChange:C=>d(C),children:[h.jsx(SN,{children:h.jsx(KW,{placeholder:"Select Payment Type"})}),h.jsxs(CN,{children:[h.jsx(Hd,{value:"registration",children:"Registration Fee"}),h.jsx(Hd,{value:"fees",children:"Tuition Fees"}),h.jsx(Hd,{value:"other",children:"Other"})]})]})]}),h.jsxs("div",{className:"border rounded-lg p-6 bg-blue-50",children:[h.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Minimum Enrolment Requirements"}),h.jsxs("div",{className:"space-y-2 text-sm",children:[h.jsxs("label",{className:"flex items-center gap-2",children:[h.jsx("input",{type:"checkbox",checked:f.internet,onChange:C=>p({...f,internet:C.target.checked}),className:"w-4 h-4"}),"Stable internet connection"]}),h.jsxs("label",{className:"flex items-center gap-2",children:[h.jsx("input",{type:"checkbox",checked:f.computer,onChange:C=>p({...f,computer:C.target.checked}),className:"w-4 h-4"}),"Computer with at least ",h.jsx("strong",{children:"Intel Core i5"}),","," ",h.jsx("strong",{children:"4GB RAM"}),", ",h.jsx("strong",{children:"240GB SSD"})]}),h.jsxs("label",{className:"flex items-center gap-2",children:[h.jsx("input",{type:"checkbox",checked:f.camera,onChange:C=>p({...f,camera:C.target.checked}),className:"w-4 h-4"}),"Working camera for online classes"]}),h.jsxs("label",{className:"flex items-center gap-2",children:[h.jsx("input",{type:"checkbox",checked:f.stopOrder,onChange:C=>p({...f,stopOrder:C.target.checked}),className:"w-4 h-4"}),"Ability to set up a monthly stop-order for tuition fees"]})]})]}),h.jsxs("div",{className:"border rounded-lg p-6 bg-red-50",children:[h.jsx(Je,{className:"font-semibold",children:"Declaration"}),h.jsxs("label",{className:"flex items-center gap-2 mt-2 text-sm",children:[h.jsx("input",{type:"checkbox",checked:g,onChange:C=>S(C.target.checked),className:"w-4 h-4"}),"I confirm that I meet all the above requirements and agree to the school’s enrolment policies and fee obligations."]})]}),h.jsx(De,{type:"submit",disabled:v||!f.internet||!f.computer||!f.camera||!f.stopOrder||!g,className:"bg-green-600 hover:bg-green-700 disabled:bg-gray-400",children:v?"Submitting...":"Submit Registration"})]})]})}function JW(){const{user:t}=Mn(),[e,n]=y.useState([]),[r,s]=y.useState(!0),[i,o]=y.useState(!1),a=async()=>{if(t!=null&&t.uid)try{const l=gr(ht(se,"registrations"),Lr("parentId","==",t.uid)),d=(await go(l)).docs.map(f=>({id:f.id,...f.data()}));n(d)}catch(l){console.error("Error fetching registrations:",l)}finally{s(!1)}};return y.useEffect(()=>{a()},[t,i]),r?h.jsx("p",{children:"Loading..."}):i?h.jsx(XW,{onBack:()=>o(!1)}):h.jsxs("div",{children:[h.jsx("button",{className:"px-3 py-2 bg-blue-500 text-white rounded",onClick:()=>o(!0),children:"➕ Register New Child"}),h.jsx("ul",{className:"mt-4 space-y-2",children:e.map(l=>h.jsx("li",{className:"flex justify-between border-b py-2",children:h.jsxs("div",{children:[l.learnerData.firstName," ",l.learnerData.lastName," – Grade"," ",l.learnerData.grade,h.jsx("br",{}),h.jsxs("span",{className:"text-sm text-gray-600",children:["Status: ",l.status," | Payment:"," ",l.paymentReceived?"✅ Paid":"⏳ Pending"]})]})},l.id))})]})}function ZW(){const{user:t}=Mn(),[e,n]=y.useState("fees"),[r,s]=y.useState(""),[i,o]=y.useState(""),[a,l]=y.useState(!1),u={registration:"1000.00",fees:"2850.00"},d={registration:"Registration Fee",fees:"Tuition Fees"},f=async()=>{var p,g;l(!0);try{let S,v;if(e==="registration"||e==="fees")S=u[e],v=d[e];else{if(!r){alert("Please enter an amount for this payment type."),l(!1);return}S=parseFloat(r).toFixed(2),v=i||e.charAt(0).toUpperCase()+e.slice(1)}const x=await ep(ht(se,"registrations"),{parentId:t==null?void 0:t.uid,submittedBy:t==null?void 0:t.email,purpose:e,amount:S,itemName:v,status:"payment_pending",paymentReceived:!1,createdAt:tp()}),E=await fetch("/api/payfast-initiate",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({purpose:e,amount:S,itemName:v,regId:x.id,parent:{firstName:((p=t==null?void 0:t.displayName)==null?void 0:p.split(" ")[0])||"Parent",lastName:((g=t==null?void 0:t.displayName)==null?void 0:g.split(" ")[1])||"User",email:(t==null?void 0:t.email)||"parent@example.com"}})});if(!E.ok)throw new Error("Failed to initiate PayFast");const{redirectUrl:w}=await E.json();window.location.href=w}catch(S){console.error(S),alert("Could not start payment. Please try again.")}finally{l(!1)}};return h.jsxs("div",{className:"p-6 space-y-6",children:[h.jsxs("div",{className:"border rounded-lg p-4 bg-blue-50",children:[h.jsx("h2",{className:"font-semibold text-gray-800 mb-2",children:"Current School Fees Structure"}),h.jsxs("ul",{className:"text-sm text-gray-700 space-y-1",children:[h.jsx("li",{children:"Registration Fee: R1000.00"}),h.jsx("li",{children:"Tuition Fees: R2850.00"}),h.jsx("li",{children:"Event Ticket (average): R250.00"}),h.jsx("li",{children:"Donation: Any amount"})]})]}),h.jsxs("div",{className:"border rounded-lg p-4 bg-white space-y-4",children:[h.jsx("h3",{className:"font-semibold text-gray-800",children:"Make a Payment"}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm text-gray-600",children:"Payment Type"}),h.jsxs("select",{value:e,onChange:p=>n(p.target.value),className:"w-full border rounded p-2 mt-1",children:[h.jsx("option",{value:"registration",children:"Registration"}),h.jsx("option",{value:"fees",children:"Tuition Fees"}),h.jsx("option",{value:"donation",children:"Donation"}),h.jsx("option",{value:"event",children:"Event"}),h.jsx("option",{value:"other",children:"Other"})]})]}),!(e==="registration"||e==="fees")&&h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm text-gray-600",children:"Amount (ZAR)"}),h.jsx("input",{type:"number",step:"0.01",placeholder:"Enter custom amount",value:r,onChange:p=>s(p.target.value),className:"w-full border rounded p-2 mt-1",required:!0})]}),(e==="other"||e==="event"||e==="donation")&&h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm text-gray-600",children:"Item Name"}),h.jsx("input",{type:"text",placeholder:"E.g., Science Fair Donation",value:i,onChange:p=>o(p.target.value),className:"w-full border rounded p-2 mt-1"})]}),h.jsx("button",{onClick:f,disabled:a,className:`w-full ${a?"bg-gray-400":"bg-blue-600 hover:bg-blue-700"} text-white font-semibold py-2 rounded`,children:a?"Processing...":"Checkout with PayFast"})]})]})}function eH(t){let e=0;for(let r=0;r<t.length;r++)e=t.charCodeAt(r)+((e<<5)-e);const n=(e&16777215).toString(16).toUpperCase();return"#"+"00000".substring(0,6-n.length)+n}function tH(t,e){if(t){const n=t.split(" ");return n.length>1?n[0][0]+n[1][0]:n[0][0]}return e?e[0]:"?"}function AN(){const[t,e]=y.useState(""),[n,r]=y.useState(""),[s,i]=y.useState(""),[o,a]=y.useState(""),[l,u]=y.useState(""),[d,f]=y.useState(null),[p,g]=y.useState(!0),[S,v]=y.useState(!1),[x,E]=y.useState(!1),[w,T]=y.useState(!1),C=as.currentUser,D=P=>{switch(P){case"parent":return"parents";case"student":return"students";case"teacher":return"teachers";case"principal":return"principals";case"admin":return"admins";default:return null}};y.useEffect(()=>{if(!C)return;(async()=>{try{const O=Ae(se,"users",C.uid),N=await cn(O);if(N.exists()){const Q=N.data().role;f(Q);const q=D(Q);if(q){const B=Ae(se,q,C.uid),M=await cn(B);if(M.exists()){const F=M.data();e(F.name||""),r(F.contact||""),i(F.email||C.email||""),a(F.address||""),u(F.photoURL||"")}else i(C.email||"")}}}catch(O){console.error("Error loading profile:",O)}g(!1)})()},[C]);const L=async P=>{var O;if(!(!C||!d||!((O=P.target.files)!=null&&O[0]))){T(!0);try{const N=P.target.files[0],V=LT(MT,`profilePictures/${C.uid}`);await R8(V,N);const Q=await P8(V);u(Q);const q=D(d);q&&await Ct(Ae(se,q,C.uid),{photoURL:Q,updatedAt:new Date().toISOString()},{merge:!0}),await Ct(Ae(se,"users",C.uid),{photoURL:Q,updatedAt:new Date().toISOString()},{merge:!0})}catch(N){console.error("Error uploading picture:",N),alert("Failed to upload picture ❌")}T(!1)}},I=async()=>{if(!(!C||!d))try{const P=LT(MT,`profilePictures/${C.uid}`);await N8(P).catch(()=>{}),u("");const O=D(d);O&&await Ct(Ae(se,O,C.uid),{photoURL:"",updatedAt:new Date().toISOString()},{merge:!0}),await Ct(Ae(se,"users",C.uid),{photoURL:"",updatedAt:new Date().toISOString()},{merge:!0})}catch(P){console.error("Error removing picture:",P),alert("Failed to remove picture ❌")}},b=async()=>{if(!(!C||!d)){v(!0);try{const P=D(d);if(!P)return;const O=Ae(se,P,C.uid);await Ct(O,{name:t,contact:n,email:s,address:o,photoURL:l,updatedAt:new Date().toISOString()},{merge:!0}),await Ct(Ae(se,"users",C.uid),{name:t,contact:n,email:s,address:o,photoURL:l,updatedAt:new Date().toISOString()},{merge:!0}),alert("Profile updated successfully ✅"),E(!1)}catch(P){console.error("Error saving profile:",P),alert("Failed to save profile ❌")}v(!1)}};if(p)return h.jsx("p",{children:"Loading profile..."});const R=tH(t,s).toUpperCase(),k=eH(t||s);return h.jsxs("div",{className:"space-y-4 max-w-md border rounded-lg p-4 shadow bg-white",children:[h.jsx("h2",{className:"text-xl font-semibold",children:"⚙️ Profile Settings"}),d&&h.jsxs("p",{className:"text-sm text-gray-500",children:["Role: ",d]}),h.jsxs("div",{className:"flex flex-col items-center space-y-2",children:[l?h.jsx("img",{src:l,alt:"Profile",className:"w-24 h-24 rounded-full object-cover border"}):h.jsx("div",{className:"w-24 h-24 rounded-full flex items-center justify-center text-white text-xl font-bold",style:{backgroundColor:k},children:R}),x&&h.jsxs("div",{className:"flex gap-2",children:[h.jsxs("label",{className:"cursor-pointer px-3 py-1 bg-blue-500 text-white rounded hover:bg-blue-600",children:[w?"Uploading...":"Change Picture",h.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:L,disabled:w})]}),l&&h.jsx("button",{type:"button",onClick:I,className:"px-3 py-1 bg-red-500 text-white rounded hover:bg-red-600",children:"Remove"})]})]}),x?h.jsxs("form",{className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block font-medium",children:"Full Name"}),h.jsx("input",{className:"border p-2 w-full rounded",value:t,onChange:P=>e(P.target.value)})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block font-medium",children:"Contact Number"}),h.jsx("input",{className:"border p-2 w-full rounded",value:n,onChange:P=>r(P.target.value)})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block font-medium",children:"Email"}),h.jsx("input",{type:"email",className:"border p-2 w-full rounded bg-gray-100 text-gray-600 cursor-not-allowed",value:s,readOnly:!0}),h.jsx("p",{className:"text-xs text-gray-500",children:"Email is managed by your account and cannot be changed here."})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block font-medium",children:"Address"}),h.jsx("textarea",{className:"border p-2 w-full rounded",value:o,onChange:P=>a(P.target.value)})]}),h.jsxs("div",{className:"flex gap-2",children:[h.jsx("button",{type:"button",disabled:S,onClick:b,className:"px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700 disabled:opacity-50",children:S?"Saving...":"Save"}),h.jsx("button",{type:"button",onClick:()=>E(!1),className:"px-4 py-2 bg-gray-400 text-white rounded hover:bg-gray-500",children:"Cancel"})]})]}):h.jsxs("div",{className:"space-y-2",children:[h.jsxs("p",{children:[h.jsx("span",{className:"font-medium",children:"Full Name:"})," ",t||"—"]}),h.jsxs("p",{children:[h.jsx("span",{className:"font-medium",children:"Contact:"})," ",n||"—"]}),h.jsxs("p",{children:[h.jsx("span",{className:"font-medium",children:"Email:"})," ",s||"—"]}),h.jsxs("p",{children:[h.jsx("span",{className:"font-medium",children:"Address:"})," ",o||"—"]}),h.jsx("button",{type:"button",onClick:()=>E(!0),className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:"Edit Profile"})]})]})}function nH(){return h.jsx("div",{className:"p-4",children:h.jsx(AN,{})})}function rH({parentId:t}){const[e,n]=y.useState([]),[r,s]=y.useState([]),[i,o]=y.useState("teacher"),[a,l]=y.useState("");y.useEffect(()=>{const d=gr(ht(se,"announcements"),Bh("createdAt","desc")),f=Tn(d,p=>{const g=p.docs.map(S=>({id:S.id,...S.data()}));s(g)});return()=>f()},[]),y.useEffect(()=>{const d=gr(ht(se,"messages"),Bh("createdAt","asc")),f=Tn(d,p=>{const g=p.docs.map(S=>({id:S.id,...S.data()}));n(g.filter(S=>S.sender===t||S.recipient===t))});return()=>f()},[t]);const u=async()=>{a.trim()&&(await ep(ht(se,"messages"),{sender:t,recipient:i,text:a,createdAt:tp()}),l(""))};return h.jsxs("div",{className:"space-y-6",children:[h.jsxs("div",{className:"bg-blue-50 border border-blue-300 rounded-xl p-4 shadow-md",children:[h.jsx("h2",{className:"text-lg font-semibold text-blue-800 mb-3",children:"🎓 Subject Teacher Chat"}),h.jsx("div",{className:"space-y-2 max-h-40 overflow-y-auto border rounded p-2 bg-white",children:e.length>0?e.map(d=>h.jsxs("div",{className:"text-sm",children:[h.jsxs("span",{className:d.sender===t?"font-medium text-blue-600":"font-medium text-gray-700",children:[d.sender===t?"You":d.sender,":"]})," ",d.text]},d.id)):h.jsx("p",{className:"text-gray-500",children:"Any communications contact helpdesk at 076..."})}),h.jsxs("div",{className:"mt-3 flex gap-2",children:[h.jsxs("select",{value:i,onChange:d=>o(d.target.value),className:"border rounded p-1 text-sm",children:[h.jsx("option",{value:"teacher",children:"Subject Teacher"}),h.jsx("option",{value:"principal",children:"Principal"})]}),h.jsx("input",{type:"text",placeholder:"Type your message...",value:a,onChange:d=>l(d.target.value),className:"flex-1 border rounded p-1 text-sm"}),h.jsx("button",{onClick:u,className:"bg-blue-600 text-white px-3 py-1 rounded text-sm hover:bg-blue-700",children:"Send"})]})]}),h.jsxs("div",{className:"bg-green-50 border border-green-300 rounded-xl p-4 shadow-md",children:[h.jsx("h2",{className:"text-lg font-semibold text-green-800 mb-3",children:"🏫 School Announcements"}),h.jsx("div",{className:"space-y-2",children:r.length>0?r.map(d=>h.jsxs("div",{className:"bg-white rounded p-2 border",children:[h.jsx("p",{className:"font-medium",children:d.title}),h.jsx("p",{className:"text-sm text-gray-700",children:d.content})]},d.id)):h.jsx("p",{className:"text-gray-500",children:"Any technical issues contact helpdesk at (+27)65 656 4983"})})]})]})}function sH(){const{user:t}=Mn(),[e,n]=y.useState([]);y.useEffect(()=>{if(!t)return;(async()=>{const o=gr(ht(se,"registrations"),Lr("parentId","==",t.uid)),l=(await go(o)).docs.map(u=>({id:u.id,learnerData:u.data().learnerData||{firstName:"",lastName:"",grade:""},status:u.data().status||"pending",paymentReceived:u.data().paymentReceived||!1}));n(l)})()},[t]);const r=i=>{switch(i){case"pending":return"bg-yellow-100 text-yellow-800";case"payment_pending":return"bg-orange-100 text-orange-800";case"payment_failed":return"bg-red-100 text-red-800";case"awaiting_approval":return"bg-blue-100 text-blue-800";case"enrolled":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},s=i=>{switch(i.status){case"pending":return h.jsx(De,{size:"sm",className:"bg-yellow-600 hover:bg-yellow-700",children:h.jsx(ql,{to:`/registration/${i.id}`,children:"Continue Application"})});case"payment_pending":return h.jsx(De,{size:"sm",className:"bg-orange-600 hover:bg-orange-700",children:h.jsx(ql,{to:`/payments/${i.id}`,children:"Complete Payment"})});case"payment_failed":return h.jsx(De,{size:"sm",className:"bg-red-600 hover:bg-red-700",children:h.jsx(ql,{to:`/payments/${i.id}`,children:"Retry Payment"})});case"awaiting_approval":return h.jsx(De,{size:"sm",disabled:!0,className:"bg-blue-400 text-white",children:"Waiting Approval"});case"enrolled":return h.jsx(De,{size:"sm",className:"bg-green-600 hover:bg-green-700",children:h.jsx(ql,{to:`/registration/${i.id}`,children:"Review"})})}};return h.jsxs("div",{children:[h.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Overview of your registrations:"}),e.length===0?h.jsx("p",{className:"text-gray-600",children:"No registrations found."}):h.jsx("div",{className:"space-y-4",children:e.map(i=>h.jsxs(Pn,{className:"flex items-center justify-between p-4 border rounded-lg shadow-sm",children:[h.jsxs("div",{children:[h.jsxs("p",{className:"font-medium",children:[i.learnerData.firstName," ",i.learnerData.lastName," – Grade"," ",i.learnerData.grade]}),h.jsx("span",{className:`inline-block mt-1 px-2 py-1 rounded text-xs font-semibold ${r(i.status)}`,children:i.status==="pending"?"Application Incomplete":i.status==="payment_pending"?"Payment Pending":i.status==="payment_failed"?"Payment Failed":i.status==="awaiting_approval"?"Awaiting Principal Approval":"Enrolled"})]}),h.jsx("div",{children:s(i)})]},i.id))})]})}const iH=["Registration","Payments","Settings","Communications","Status"];function RN(){const[t,e]=y.useState(null),n=()=>{switch(t){case"Registration":return h.jsx(JW,{});case"Payments":return h.jsx(ZW,{});case"Settings":return h.jsx(nH,{});case"Communications":return h.jsx(rH,{});case"Status":return h.jsx(sH,{});default:return h.jsx("p",{children:"Select a card above to view details."})}};return h.jsxs("div",{className:"p-6 space-y-6",children:[h.jsx("h1",{className:"text-2xl font-bold",children:"Parent Dashboard"}),h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:iH.map(r=>h.jsxs(Pn,{className:"cursor-pointer hover:shadow-lg transition",onClick:()=>e(r),children:[h.jsx(bs,{children:h.jsx(Is,{children:r})}),h.jsx(Hn,{children:h.jsxs("p",{children:["Quick overview about ",r.toLowerCase(),"…"]})})]},r))}),h.jsx("div",{className:"mt-8",children:t&&h.jsxs(Pn,{className:"border",children:[h.jsx(bs,{children:h.jsxs(Is,{children:[t," Details"]})}),h.jsx(Hn,{children:n()})]})})]})}async function oH(t){return(await(await fetch("https://classroom.googleapis.com/v1/courses",{headers:{Authorization:`Bearer ${t}`}})).json()).courses??[]}async function aH(t,e){return(await(await fetch(`https://classroom.googleapis.com/v1/courses/${t}/courseWork`,{headers:{Authorization:`Bearer ${e}`}})).json()).courseWork??[]}async function lH(t,e,n){const r=await oH(e);for(const s of r){await Ct(Ae(se,`users/${t}/classroom/courses/${s.id}`),{id:s.id,name:s.name,section:s.section,room:s.room,alternateLink:s.alternateLink,updatedAt:new Date().toISOString()},{merge:!0});const i=await aH(s.id,e);for(const o of i)await Ct(Ae(se,`users/${t}/classroom/courses/${s.id}/coursework/${o.id}`),{id:o.id,title:o.title,workType:o.workType,dueDate:o.dueDate,state:o.state,maxPoints:o.maxPoints,updateTime:o.updateTime},{merge:!0})}}const PN=()=>{const{user:t,logout:e,linkClassroomScopes:n}=Mn(),[r,s]=y.useState(""),[i,o]=y.useState(!1),[a,l]=y.useState([]),[u,d]=y.useState([]),[f,p]=y.useState([]);y.useEffect(()=>{if(!(t!=null&&t.uid))return;const x=gr(ht(se,`users/${t.uid}/classroom/courses`),Bh("name")),E=Tn(x,L=>l(L.docs.map(I=>({id:I.id,...I.data()})))),w=gr(mT(se,"coursework"),Lr("ownerUid","==",t.uid)),T=Tn(w,L=>d(L.docs.map(I=>({id:I.id,...I.data()})))),C=gr(mT(se,"submissions"),Lr("ownerUid","==",t.uid)),D=Tn(C,L=>p(L.docs.map(I=>({id:I.id,...I.data()}))));return()=>{E(),T(),D()}},[t==null?void 0:t.uid]);const g=y.useMemo(()=>f.filter(x=>x.state==="TURNED_IN"&&x.assignedGrade==null),[f]),S=y.useRef(!1),v=async()=>{if(t&&!S.current){S.current=!0,s(""),o(!0);try{const x=await n(t,"teacher");if(!x)throw new Error("Failed to get Google Classroom token");await lH(t.uid,x,"teacher")}catch(x){s(x.message||"Failed to sync with Classroom")}finally{o(!1),S.current=!1}}};return h.jsxs("div",{className:"min-h-screen bg-gray-50",children:[h.jsx("div",{className:"bg-white shadow-sm border-b",children:h.jsxs("div",{className:"max-w-7xl mx-auto px-4 flex justify-between items-center py-4",children:[h.jsxs("div",{children:[h.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Teacher Dashboard"}),h.jsxs("p",{className:"text-gray-600",children:["Welcome back, ",(t==null?void 0:t.displayName)||"Teacher","!"]})]}),h.jsxs("div",{className:"flex gap-2",children:[h.jsx(De,{onClick:v,disabled:i,children:i?h.jsxs("span",{className:"inline-flex items-center gap-2",children:[h.jsx(aV,{className:"h-4 w-4 animate-spin"})," Syncing..."]}):"Connect / Sync Classroom"}),h.jsx(De,{onClick:e,className:"bg-red-600 hover:bg-red-700",children:"Logout"})]})]})}),r&&h.jsx("div",{className:"max-w-3xl mx-auto mt-4 px-4",children:h.jsx(ip,{variant:"destructive",children:h.jsx(op,{children:r})})}),h.jsx("div",{className:"max-w-7xl mx-auto px-4 py-8",children:h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[h.jsx(Pn,{className:"bg-orange-600 text-white",children:h.jsxs(Hn,{className:"p-6",children:[h.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Courses"}),h.jsx("p",{className:"text-3xl font-bold",children:a.length})]})}),h.jsx(Pn,{className:"bg-yellow-600 text-white",children:h.jsxs(Hn,{className:"p-6",children:[h.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Pending Grading"}),h.jsx("p",{className:"text-3xl font-bold",children:g.length})]})}),h.jsx(Pn,{className:"bg-blue-600 text-white",children:h.jsxs(Hn,{className:"p-6",children:[h.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Coursework"}),h.jsx("p",{className:"text-3xl font-bold",children:u.length})]})})]})})]})},cH=()=>{var N;const[t,e]=y.useState([]),[n,r]=y.useState([]),[s,i]=y.useState([]),[o,a]=y.useState([]),[l,u]=y.useState([]),[d,f]=y.useState([]),[p,g]=y.useState(!1),[S,v]=y.useState("helpdesk"),[x,E]=y.useState(""),[w,T]=y.useState([]),C=((N=as.currentUser)==null?void 0:N.uid)||"principal";y.useEffect(()=>{const V=[];return V.push(Tn(ht(se,"pendingStudents"),Q=>e(Q.docs.map(q=>q.data())))),V.push(Tn(ht(se,"pendingTeachers"),Q=>r(Q.docs.map(q=>q.data())))),V.push(Tn(ht(se,"students"),Q=>{const q=Q.docs.map(B=>B.data());i(q.filter(B=>B.status!=="suspended")),u(q.filter(B=>B.status==="suspended"))})),V.push(Tn(ht(se,"teachers"),Q=>{const q=Q.docs.map(B=>B.data());a(q.filter(B=>B.status!=="suspended")),f(q.filter(B=>B.status==="suspended"))})),()=>V.forEach(Q=>Q())},[]),y.useEffect(()=>{const V=gr(ht(se,"messages"),Bh("createdAt","asc")),Q=Tn(V,q=>{const B=q.docs.map(M=>({id:M.id,...M.data()}));T(B.filter(M=>M.sender===C||M.recipient===C||M.sender===S||M.recipient===S))});return()=>Q()},[C,S]);const D=async()=>{x.trim()&&(await ep(ht(se,"messages"),{sender:C,recipient:S,text:x,createdAt:tp()}),E(""))},L=async V=>{await Ct(Ae(se,"students",V.uid),{...V,role:"student",status:"approved",approvedAt:new Date().toISOString(),approvedBy:C}),await dd(Ae(se,"pendingStudents",V.uid))},I=async V=>{await dd(Ae(se,"pendingStudents",V.uid))},b=async V=>{await Ct(Ae(se,"teachers",V.uid),{...V,role:"teacher",status:"approved",approvedAt:new Date().toISOString(),approvedBy:C}),await dd(Ae(se,"pendingTeachers",V.uid))},R=async V=>{await dd(Ae(se,"pendingTeachers",V.uid))},k=async V=>{const Q=V.role==="teacher"?"teachers":"students";await Ct(Ae(se,Q,V.uid),{status:"suspended",suspendedAt:new Date().toISOString()},{merge:!0})},P=async V=>{const Q=V.role==="teacher"?"teachers":"students";await Ct(Ae(se,Q,V.uid),{status:"approved",reinstatedAt:new Date().toISOString()},{merge:!0})},O=(V,Q,q,B,M,F)=>h.jsxs(Pn,{className:"bg-white shadow-md",children:[h.jsx(bs,{children:h.jsx(Is,{children:V})}),h.jsxs(Hn,{children:[Q.length===0&&h.jsx("p",{className:"text-sm text-gray-500",children:"No records found."}),h.jsx("ul",{className:"space-y-3",children:Q.map(H=>h.jsxs("li",{className:"flex justify-between items-center p-2 border rounded-md",children:[h.jsxs("div",{children:[h.jsx("p",{className:"font-medium",children:H.name||H.email}),h.jsx("p",{className:"text-xs text-gray-500",children:H.email}),H.role==="teacher"&&H.subject&&h.jsxs("p",{className:"text-xs text-gray-400",children:["Subject: ",H.subject]}),h.jsxs("p",{className:"text-xs text-gray-400",children:["Status: ",H.status]})]}),q&&B?h.jsxs("div",{className:"flex gap-2",children:[h.jsx(De,{size:"sm",className:"bg-green-600 hover:bg-green-700",onClick:()=>q(H),children:"Approve"}),h.jsx(De,{size:"sm",variant:"destructive",onClick:()=>B(H),children:"Reject"})]}):M?h.jsx(De,{size:"sm",className:"bg-yellow-500 hover:bg-yellow-600",onClick:()=>k(H),children:"Suspend"}):F?h.jsx(De,{size:"sm",className:"bg-green-600 hover:bg-green-700",onClick:()=>P(H),children:"Reinstate"}):null]},H.uid))})]})]});return h.jsxs("div",{className:"min-h-screen bg-gray-50 p-6 relative",children:[h.jsx("h1",{className:"text-3xl font-bold mb-6 text-gray-800",children:"Principal Dashboard"}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[O("Pending Students",t,L,I),O("Pending Teachers",n,b,R),O("Approved Students",s,void 0,void 0,!0),O("Approved Teachers",o,void 0,void 0,!0),O("Suspended Students",l,void 0,void 0,!1,!0),O("Suspended Teachers",d,void 0,void 0,!1,!0)]}),h.jsx("div",{className:"fixed bottom-6 right-6",children:h.jsx("button",{onClick:()=>g(!p),className:"bg-blue-600 text-white rounded-full p-4 shadow-lg hover:bg-blue-700",children:"💬"})}),p&&h.jsxs("div",{className:"fixed bottom-20 right-6 w-80 bg-white border rounded-lg shadow-lg p-4",children:[h.jsx("h2",{className:"text-sm font-semibold mb-2",children:"Send a Message"}),h.jsxs("select",{value:S,onChange:V=>v(V.target.value),className:"w-full border rounded p-1 mb-2 text-sm",children:[h.jsx("option",{value:"helpdesk",children:"Helpdesk"}),o.map(V=>h.jsxs("option",{value:V.uid,children:["Teacher: ",V.name||V.email]},V.uid)),s.map(V=>h.jsxs("option",{value:V.parentId||V.uid,children:["Parent of: ",V.name||V.email]},V.uid))]}),h.jsx("div",{className:"max-h-40 overflow-y-auto border rounded p-2 mb-2",children:w.length>0?w.map(V=>h.jsxs("div",{className:"text-xs mb-1",children:[h.jsxs("span",{className:V.sender===C?"font-medium text-blue-600":"font-medium text-gray-700",children:[V.sender===C?"You":V.sender,":"]})," ",V.text]},V.id)):h.jsx("p",{className:"text-gray-400 text-xs",children:"No messages yet."})}),h.jsxs("div",{className:"flex gap-2",children:[h.jsx("input",{type:"text",placeholder:"Type message...",value:x,onChange:V=>E(V.target.value),className:"flex-1 border rounded p-1 text-sm"}),h.jsx("button",{onClick:D,className:"bg-blue-600 text-white px-3 py-1 rounded text-sm hover:bg-blue-700",children:"Send"})]})]})]})};var Om="rovingFocusGroup.onEntryFocus",uH={bubbles:!1,cancelable:!0},xu="RovingFocusGroup",[by,NN,dH]=Fv(xu),[hH,kN]=Fi(xu,[dH]),[fH,pH]=hH(xu),ON=y.forwardRef((t,e)=>h.jsx(by.Provider,{scope:t.__scopeRovingFocusGroup,children:h.jsx(by.Slot,{scope:t.__scopeRovingFocusGroup,children:h.jsx(mH,{...t,ref:e})})}));ON.displayName=xu;var mH=y.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:l,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...f}=t,p=y.useRef(null),g=ze(e,p),S=s_(i),[v,x]=qa({prop:o,defaultProp:a??null,onChange:l,caller:xu}),[E,w]=y.useState(!1),T=Kn(u),C=NN(n),D=y.useRef(!1),[L,I]=y.useState(0);return y.useEffect(()=>{const b=p.current;if(b)return b.addEventListener(Om,T),()=>b.removeEventListener(Om,T)},[T]),h.jsx(fH,{scope:n,orientation:r,dir:S,loop:s,currentTabStopId:v,onItemFocus:y.useCallback(b=>x(b),[x]),onItemShiftTab:y.useCallback(()=>w(!0),[]),onFocusableItemAdd:y.useCallback(()=>I(b=>b+1),[]),onFocusableItemRemove:y.useCallback(()=>I(b=>b-1),[]),children:h.jsx(_e.div,{tabIndex:E||L===0?-1:0,"data-orientation":r,...f,ref:g,style:{outline:"none",...t.style},onMouseDown:ue(t.onMouseDown,()=>{D.current=!0}),onFocus:ue(t.onFocus,b=>{const R=!D.current;if(b.target===b.currentTarget&&R&&!E){const k=new CustomEvent(Om,uH);if(b.currentTarget.dispatchEvent(k),!k.defaultPrevented){const P=C().filter(q=>q.focusable),O=P.find(q=>q.active),N=P.find(q=>q.id===v),Q=[O,N,...P].filter(Boolean).map(q=>q.ref.current);MN(Q,d)}}D.current=!1}),onBlur:ue(t.onBlur,()=>w(!1))})})}),DN="RovingFocusGroupItem",LN=y.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:i,children:o,...a}=t,l=vi(),u=i||l,d=pH(DN,n),f=d.currentTabStopId===u,p=NN(n),{onFocusableItemAdd:g,onFocusableItemRemove:S,currentTabStopId:v}=d;return y.useEffect(()=>{if(r)return g(),()=>S()},[r,g,S]),h.jsx(by.ItemSlot,{scope:n,id:u,focusable:r,active:s,children:h.jsx(_e.span,{tabIndex:f?0:-1,"data-orientation":d.orientation,...a,ref:e,onMouseDown:ue(t.onMouseDown,x=>{r?d.onItemFocus(u):x.preventDefault()}),onFocus:ue(t.onFocus,()=>d.onItemFocus(u)),onKeyDown:ue(t.onKeyDown,x=>{if(x.key==="Tab"&&x.shiftKey){d.onItemShiftTab();return}if(x.target!==x.currentTarget)return;const E=vH(x,d.orientation,d.dir);if(E!==void 0){if(x.metaKey||x.ctrlKey||x.altKey||x.shiftKey)return;x.preventDefault();let T=p().filter(C=>C.focusable).map(C=>C.ref.current);if(E==="last")T.reverse();else if(E==="prev"||E==="next"){E==="prev"&&T.reverse();const C=T.indexOf(x.currentTarget);T=d.loop?wH(T,C+1):T.slice(C+1)}setTimeout(()=>MN(T))}}),children:typeof o=="function"?o({isCurrentTabStop:f,hasTabStop:v!=null}):o})})});LN.displayName=DN;var gH={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function yH(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function vH(t,e,n){const r=yH(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return gH[r]}function MN(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function wH(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var _H=ON,EH=LN,dp="Tabs",[xH]=Fi(dp,[kN]),jN=kN(),[TH,l_]=xH(dp),VN=y.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,onValueChange:s,defaultValue:i,orientation:o="horizontal",dir:a,activationMode:l="automatic",...u}=t,d=s_(a),[f,p]=qa({prop:r,onChange:s,defaultProp:i??"",caller:dp});return h.jsx(TH,{scope:n,baseId:vi(),value:f,onValueChange:p,orientation:o,dir:d,activationMode:l,children:h.jsx(_e.div,{dir:d,"data-orientation":o,...u,ref:e})})});VN.displayName=dp;var FN="TabsList",UN=y.forwardRef((t,e)=>{const{__scopeTabs:n,loop:r=!0,...s}=t,i=l_(FN,n),o=jN(n);return h.jsx(_H,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:r,children:h.jsx(_e.div,{role:"tablist","aria-orientation":i.orientation,...s,ref:e})})});UN.displayName=FN;var $N="TabsTrigger",BN=y.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,disabled:s=!1,...i}=t,o=l_($N,n),a=jN(n),l=HN(o.baseId,r),u=qN(o.baseId,r),d=r===o.value;return h.jsx(EH,{asChild:!0,...a,focusable:!s,active:d,children:h.jsx(_e.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:l,...i,ref:e,onMouseDown:ue(t.onMouseDown,f=>{!s&&f.button===0&&f.ctrlKey===!1?o.onValueChange(r):f.preventDefault()}),onKeyDown:ue(t.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&o.onValueChange(r)}),onFocus:ue(t.onFocus,()=>{const f=o.activationMode!=="manual";!d&&!s&&f&&o.onValueChange(r)})})})});BN.displayName=$N;var zN="TabsContent",WN=y.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,forceMount:s,children:i,...o}=t,a=l_(zN,n),l=HN(a.baseId,r),u=qN(a.baseId,r),d=r===a.value,f=y.useRef(d);return y.useEffect(()=>{const p=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(p)},[]),h.jsx(jo,{present:s||d,children:({present:p})=>h.jsx(_e.div,{"data-state":d?"active":"inactive","data-orientation":a.orientation,role:"tabpanel","aria-labelledby":l,hidden:!p,id:u,tabIndex:0,...o,ref:e,style:{...t.style,animationDuration:f.current?"0s":void 0},children:p&&i})})});WN.displayName=zN;function HN(t,e){return`${t}-trigger-${e}`}function qN(t,e){return`${t}-content-${e}`}var SH=VN,GN=UN,KN=BN,QN=WN;const bH=SH,YN=y.forwardRef(({className:t,...e},n)=>h.jsx(GN,{ref:n,className:be("inline-flex h-10 items-center justify-center rounded-md bg-muted/50 p-1 text-muted-foreground",t),...e}));YN.displayName=GN.displayName;const ec=y.forwardRef(({className:t,...e},n)=>h.jsx(KN,{ref:n,className:be("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-primary data-[state=active]:shadow-sm hover:text-foreground",t),...e}));ec.displayName=KN.displayName;const Iy=y.forwardRef(({className:t,...e},n)=>h.jsx(QN,{ref:n,className:be("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary focus-visible:ring-offset-2 animate-in fade-in-0 data-[state=inactive]:animate-out data-[state=inactive]:fade-out-0 duration-200",t),...e}));Iy.displayName=QN.displayName;var hp="Dialog",[XN]=Fi(hp),[IH,xr]=XN(hp),JN=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:s,onOpenChange:i,modal:o=!0}=t,a=y.useRef(null),l=y.useRef(null),[u,d]=qa({prop:r,defaultProp:s??!1,onChange:i,caller:hp});return h.jsx(IH,{scope:e,triggerRef:a,contentRef:l,contentId:vi(),titleId:vi(),descriptionId:vi(),open:u,onOpenChange:d,onOpenToggle:y.useCallback(()=>d(f=>!f),[d]),modal:o,children:n})};JN.displayName=hp;var ZN="DialogTrigger",CH=y.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=xr(ZN,n),i=ze(e,s.triggerRef);return h.jsx(_e.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":d_(s.open),...r,ref:i,onClick:ue(t.onClick,s.onOpenToggle)})});CH.displayName=ZN;var c_="DialogPortal",[AH,ek]=XN(c_,{forceMount:void 0}),tk=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:s}=t,i=xr(c_,e);return h.jsx(AH,{scope:e,forceMount:n,children:y.Children.map(r,o=>h.jsx(jo,{present:n||i.open,children:h.jsx(xf,{asChild:!0,container:s,children:o})}))})};tk.displayName=c_;var Xh="DialogOverlay",nk=y.forwardRef((t,e)=>{const n=ek(Xh,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=xr(Xh,t.__scopeDialog);return i.modal?h.jsx(jo,{present:r||i.open,children:h.jsx(PH,{...s,ref:e})}):null});nk.displayName=Xh;var RH=Wa("DialogOverlay.RemoveScroll"),PH=y.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=xr(Xh,n);return h.jsx(o_,{as:RH,allowPinchZoom:!0,shards:[s.contentRef],children:h.jsx(_e.div,{"data-state":d_(s.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),Oo="DialogContent",rk=y.forwardRef((t,e)=>{const n=ek(Oo,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=xr(Oo,t.__scopeDialog);return h.jsx(jo,{present:r||i.open,children:i.modal?h.jsx(NH,{...s,ref:e}):h.jsx(kH,{...s,ref:e})})});rk.displayName=Oo;var NH=y.forwardRef((t,e)=>{const n=xr(Oo,t.__scopeDialog),r=y.useRef(null),s=ze(e,n.contentRef,r);return y.useEffect(()=>{const i=r.current;if(i)return LP(i)},[]),h.jsx(sk,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ue(t.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:ue(t.onPointerDownOutside,i=>{const o=i.detail.originalEvent,a=o.button===0&&o.ctrlKey===!0;(o.button===2||a)&&i.preventDefault()}),onFocusOutside:ue(t.onFocusOutside,i=>i.preventDefault())})}),kH=y.forwardRef((t,e)=>{const n=xr(Oo,t.__scopeDialog),r=y.useRef(!1),s=y.useRef(!1);return h.jsx(sk,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,a;(o=t.onCloseAutoFocus)==null||o.call(t,i),i.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),i.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:i=>{var l,u;(l=t.onInteractOutside)==null||l.call(t,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=i.target;((u=n.triggerRef.current)==null?void 0:u.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),sk=y.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:i,...o}=t,a=xr(Oo,n),l=y.useRef(null),u=ze(e,l);return kP(),h.jsxs(h.Fragment,{children:[h.jsx(i_,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:i,children:h.jsx(au,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":d_(a.open),...o,ref:u,onDismiss:()=>a.onOpenChange(!1)})}),h.jsxs(h.Fragment,{children:[h.jsx(OH,{titleId:a.titleId}),h.jsx(LH,{contentRef:l,descriptionId:a.descriptionId})]})]})}),u_="DialogTitle",ik=y.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=xr(u_,n);return h.jsx(_e.h2,{id:s.titleId,...r,ref:e})});ik.displayName=u_;var ok="DialogDescription",ak=y.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=xr(ok,n);return h.jsx(_e.p,{id:s.descriptionId,...r,ref:e})});ak.displayName=ok;var lk="DialogClose",ck=y.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=xr(lk,n);return h.jsx(_e.button,{type:"button",...r,ref:e,onClick:ue(t.onClick,()=>s.onOpenChange(!1))})});ck.displayName=lk;function d_(t){return t?"open":"closed"}var uk="DialogTitleWarning",[cq,dk]=VD(uk,{contentName:Oo,titleName:u_,docsSlug:"dialog"}),OH=({titleId:t})=>{const e=dk(uk),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return y.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},DH="DialogDescriptionWarning",LH=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${dk(DH).contentName}}.`;return y.useEffect(()=>{var i;const s=(i=t.current)==null?void 0:i.getAttribute("aria-describedby");e&&s&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},MH=JN,jH=tk,hk=nk,fk=rk,pk=ik,mk=ak,VH=ck;const eS=MH,FH=jH,gk=y.forwardRef(({className:t,...e},n)=>h.jsx(hk,{ref:n,className:be("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));gk.displayName=hk.displayName;const Cy=y.forwardRef(({className:t,children:e,...n},r)=>h.jsxs(FH,{children:[h.jsx(gk,{}),h.jsxs(fk,{ref:r,className:be("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border border-border/40 bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[e,h.jsxs(VH,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[h.jsx(HC,{className:"h-4 w-4"}),h.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Cy.displayName=fk.displayName;const Ay=({className:t,...e})=>h.jsx("div",{className:be("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});Ay.displayName="DialogHeader";const Ry=({className:t,...e})=>h.jsx("div",{className:be("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});Ry.displayName="DialogFooter";const Py=y.forwardRef(({className:t,...e},n)=>h.jsx(pk,{ref:n,className:be("text-lg font-semibold leading-none tracking-tight text-foreground",t),...e}));Py.displayName=pk.displayName;const UH=y.forwardRef(({className:t,...e},n)=>h.jsx(mk,{ref:n,className:be("text-sm text-muted-foreground",t),...e}));UH.displayName=mk.displayName;const Dm={teacher:"bg-blue-100 text-blue-800",student:"bg-green-100 text-green-800",parent:"bg-purple-100 text-purple-800",admin:"bg-red-100 text-red-800",principal:"bg-orange-100 text-orange-800"},yk=()=>{const{user:t,logout:e}=Mn(),[n,r]=y.useState("overview"),[s,i]=y.useState(null),[o,a]=y.useState(!0),[l,u]=y.useState([]),[d,f]=y.useState(""),[p,g]=y.useState(""),[S,v]=y.useState(1),x=10,[E,w]=y.useState("name"),[T,C]=y.useState("asc"),[D,L]=y.useState(!1),[I,b]=y.useState("teacher"),[R,k]=y.useState(""),[P,O]=y.useState(""),[N,V]=y.useState(""),[Q,q]=y.useState(""),[B,M]=y.useState(!1),[F,H]=y.useState(null);y.useEffect(()=>{if(!t){a(!1);return}const Y=Ae(se,"admins",t.uid);(async()=>{try{(await cn(Y)).exists()||await Ct(Y,{uid:t.uid,email:t.email,name:t.displayName||"Admin",role:"admin",createdAt:new Date().toISOString()});const je=await cn(Y);i(je.exists()?je.data():null)}catch(le){console.error("Error fetching admin doc:",le),i(null)}finally{a(!1)}})();const ae=Tn(Y,le=>i(le.exists()?le.data():null));return()=>ae()},[t]),y.useEffect(()=>{const Y=["teachers","students","parents","admins","principals"],me=[];return Y.forEach(ae=>{const le=ht(se,ae),je=Tn(le,Rt=>{u(Jn=>{const rn=Jn.filter(vn=>vn.role!==ae.slice(0,-1)),yn=Rt.docs.map(vn=>{const Ve=vn.data();return{uid:vn.id,name:Ve.name||"Unnamed",email:Ve.email||"No Email",role:ae.slice(0,-1),...Ve}});return[...rn,...yn]})});me.push(je)}),()=>me.forEach(ae=>ae())},[]);const Z=[...l.filter(Y=>{var le,je;const me=((le=Y.name)==null?void 0:le.toLowerCase().includes(d.toLowerCase()))||((je=Y.email)==null?void 0:je.toLowerCase().includes(d.toLowerCase())),ae=p?Y.role===p:!0;return me&&ae})].sort((Y,me)=>{const ae=(Y[E]||"").toLowerCase(),le=(me[E]||"").toLowerCase();return ae<le?T==="asc"?-1:1:ae>le?T==="asc"?1:-1:0}),ce=(S-1)*x,oe=Z.slice(ce,ce+x),Ne=async()=>{try{await _7(I,P,N,R,I==="teacher"?{subject:Q}:I==="student"?{grade:Q}:{}),alert(`${I} created successfully!`),L(!1),b("teacher"),k(""),O(""),V(""),q("")}catch(Y){alert(Y.message||"Failed to create user")}},Me=async(Y,me,ae)=>{if(window.confirm(`Delete ${me} "${ae}"?`))try{await E7(Y,me),alert(`${me} ${ae} deleted successfully!`)}catch(le){alert(le.message||"Failed to delete user")}},J=Y=>{H(Y),M(!0)},Ie=async()=>{if(!F)return;const Y=Ae(se,`${F.role}s`,F.uid);await Ct(Y,F,{merge:!0}),M(!1)};return o?h.jsx("div",{className:"p-6 text-center",children:"Loading dashboard..."}):s?h.jsxs("div",{className:"min-h-screen bg-gray-50",children:[h.jsx("div",{className:"bg-white shadow-sm border-b",children:h.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:h.jsxs("div",{className:"flex justify-between items-center py-4",children:[h.jsxs("div",{children:[h.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Admin Dashboard"}),h.jsx("p",{className:"text-gray-600",children:"System Administration & Management"})]}),h.jsx(De,{variant:"outline",onClick:e,children:"Logout"})]})})}),h.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:h.jsxs(bH,{value:n,onValueChange:r,className:"w-full",children:[h.jsxs(YN,{className:"grid w-full grid-cols-4 mb-8",children:[h.jsxs(ec,{value:"overview",children:[h.jsx(rV,{className:"w-4 h-4"})," Overview"]}),h.jsxs(ec,{value:"registrations",children:[h.jsx(dV,{className:"w-4 h-4"})," Registrations"]}),h.jsxs(ec,{value:"users",children:[h.jsx(hV,{className:"w-4 h-4"})," Users"]}),h.jsxs(ec,{value:"settings",children:[h.jsx(cV,{className:"w-4 h-4"})," Settings"]})]}),h.jsx(Iy,{value:"users",children:h.jsxs(Pn,{children:[h.jsxs(bs,{children:[h.jsx(Is,{children:"User Management"}),h.jsx(Hh,{children:"All system users"})]}),h.jsxs(Hn,{children:[h.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-4",children:[h.jsx("input",{type:"text",placeholder:"Search by name or email...",value:d,onChange:Y=>{f(Y.target.value),v(1)},className:"w-full sm:w-1/2 px-3 py-2 border rounded-lg"}),h.jsxs("div",{className:"flex gap-2 w-full sm:w-auto",children:[h.jsxs("select",{value:p,onChange:Y=>{g(Y.target.value),v(1)},className:"w-full sm:w-40 px-3 py-2 border rounded-lg",children:[h.jsx("option",{value:"",children:"All Roles"}),Object.keys(Dm).map(Y=>h.jsx("option",{value:Y,children:Y.charAt(0).toUpperCase()+Y.slice(1)},Y))]}),h.jsxs(De,{variant:"outline",onClick:()=>L(!0),children:[h.jsx(lV,{className:"w-4 h-4 mr-1"})," Create User"]})]})]}),h.jsx("div",{className:"overflow-x-auto",children:h.jsxs("table",{className:"min-w-full border rounded-lg",children:[h.jsx("thead",{className:"bg-gray-100",children:h.jsxs("tr",{children:[h.jsx("th",{className:"px-4 py-2",children:"Name"}),h.jsx("th",{className:"px-4 py-2",children:"Email"}),h.jsx("th",{className:"px-4 py-2",children:"Role"}),h.jsx("th",{className:"px-4 py-2 text-center",children:"Actions"})]})}),h.jsx("tbody",{children:oe.map(Y=>h.jsxs("tr",{className:"border-t",children:[h.jsx("td",{className:"px-4 py-2",children:Y.name}),h.jsx("td",{className:"px-4 py-2",children:Y.email}),h.jsx("td",{className:"px-4 py-2",children:h.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-semibold ${Dm[Y.role]||"bg-gray-100 text-gray-800"}`,children:Y.role})}),h.jsxs("td",{className:"px-4 py-2 text-center flex gap-2 justify-center",children:[h.jsx(De,{variant:"secondary",size:"sm",onClick:()=>J(Y),children:"Edit"}),h.jsx(De,{variant:"outline",size:"sm",onClick:()=>x7(Y.email),children:"Reset Password"}),h.jsxs(De,{variant:"destructive",size:"sm",onClick:()=>Me(Y.uid,Y.role,Y.name),children:[h.jsx(uV,{className:"w-4 h-4 mr-1"})," Delete"]})]})]},Y.uid))})]})})]})]})}),h.jsx(Iy,{value:"settings",children:h.jsxs(Pn,{children:[h.jsxs(bs,{children:[h.jsx(Is,{children:"Profile Settings"}),h.jsx(Hh,{children:"Update your admin profile information"})]}),h.jsx(Hn,{children:h.jsx(AN,{})})]})})]})}),h.jsx(eS,{open:D,onOpenChange:L,children:h.jsxs(Cy,{children:[h.jsx(Ay,{children:h.jsx(Py,{children:"Create New User"})}),h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx(Je,{children:"Role"}),h.jsx("select",{value:I,onChange:Y=>b(Y.target.value),className:"w-full px-3 py-2 border rounded-lg",children:Object.keys(Dm).map(Y=>h.jsx("option",{value:Y,children:Y.charAt(0).toUpperCase()+Y.slice(1)},Y))})]}),h.jsxs("div",{children:[h.jsx(Je,{children:"Full Name"}),h.jsx(Wt,{value:R,onChange:Y=>k(Y.target.value)})]}),h.jsxs("div",{children:[h.jsx(Je,{children:"Email"}),h.jsx(Wt,{type:"email",value:P,onChange:Y=>O(Y.target.value)})]}),h.jsxs("div",{children:[h.jsx(Je,{children:"Password"}),h.jsx(Wt,{type:"password",value:N,onChange:Y=>V(Y.target.value)})]}),(I==="teacher"||I==="student")&&h.jsxs("div",{children:[h.jsx(Je,{children:I==="teacher"?"Subject":"Grade"}),h.jsx(Wt,{value:Q,onChange:Y=>q(Y.target.value)})]})]}),h.jsxs(Ry,{children:[h.jsx(De,{onClick:()=>L(!1),variant:"outline",children:"Cancel"}),h.jsx(De,{onClick:Ne,children:"Create"})]})]})}),h.jsx(eS,{open:B,onOpenChange:M,children:h.jsxs(Cy,{children:[h.jsx(Ay,{children:h.jsx(Py,{children:"Edit User"})}),h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx(Je,{children:"Full Name"}),h.jsx(Wt,{value:(F==null?void 0:F.name)||"",onChange:Y=>H({...F,name:Y.target.value})})]}),h.jsxs("div",{children:[h.jsx(Je,{children:"Email"}),h.jsx(Wt,{type:"email",value:(F==null?void 0:F.email)||"",onChange:Y=>H({...F,email:Y.target.value})})]})]}),h.jsxs(Ry,{children:[h.jsx(De,{onClick:()=>M(!1),variant:"outline",children:"Cancel"}),h.jsx(De,{onClick:Ie,children:"Save"})]})]})})]}):h.jsxs("div",{className:"p-6 text-center",children:[h.jsx("p",{className:"text-red-600 font-semibold",children:"Access Denied"}),h.jsx("p",{className:"text-gray-600 mt-2",children:"No admin record found. Please contact system administrator."})]})},$H=()=>{const{user:t,loading:e}=Mn();if(e)return h.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-purple-50 flex items-center justify-center",children:h.jsxs("div",{className:"text-center",children:[h.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),h.jsx("p",{className:"text-gray-600",children:"Loading NextGen School Portal..."})]})});if(!t)return h.jsx(BT,{});switch(t.role){case"parent":return h.jsx(RN,{});case"teacher":return h.jsx(PN,{});case"principal":return h.jsx(cH,{});case"admin":return h.jsx(yk,{});default:return h.jsx(BT,{})}},BH=()=>h.jsx(_P,{children:h.jsxs("div",{className:"font-sans antialiased flex flex-col min-h-screen",children:[h.jsx("div",{id:"hero-section",className:"flex-1",children:h.jsxs("div",{className:"relative min-h-screen bg-gradient-to-br from-blue-600 via-purple-600 to-indigo-800",children:[h.jsx("div",{className:"absolute inset-0 bg-cover bg-center bg-no-repeat opacity-20",style:{backgroundImage:"url(https://d64gsuwffb70l.cloudfront.net/68c31a777600b687984e53d0_1757616805155_a5c804bd.webp)"}}),h.jsx("div",{className:"relative z-10 flex items-center justify-center min-h-screen px-4",children:h.jsxs("div",{className:"text-center text-white max-w-4xl mx-auto",children:[h.jsxs("h1",{className:"text-5xl md:text-7xl font-bold mb-6 leading-tight",children:["NextGen Independent Online",h.jsx("span",{className:"block text-yellow-300",children:"School Portal"})]}),h.jsx("p",{className:"text-xl md:text-2xl mb-8 text-blue-100 max-w-2xl mx-auto",children:"Transforming education through innovative technology. Connecting students, parents, teachers, and principals in one seamless platform."}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mt-12",children:[h.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-6 border border-white/20",children:[h.jsx("img",{src:"https://d64gsuwffb70l.cloudfront.net/68c31a777600b687984e53d0_1757616806119_aaaa43c4.webp",alt:"Parent Dashboard",className:"w-16 h-16 mx-auto mb-4 rounded-lg"}),h.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Parent Dashboard"}),h.jsx("p",{className:"text-sm text-blue-100",children:"Monitor your child's progress and manage school engagement."})]}),h.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-6 border border-white/20",children:[h.jsx("img",{src:"https://d64gsuwffb70l.cloudfront.net/68c31a777600b687984e53d0_1757616807613_5ea69d49.webp",alt:"Teacher Tools",className:"w-16 h-16 mx-auto mb-4 rounded-lg"}),h.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Teacher Tools"}),h.jsx("p",{className:"text-sm text-blue-100",children:"Manage classes, grade assignments, and communicate with parents."})]}),h.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-6 border border-white/20",children:[h.jsx("img",{src:"https://d64gsuwffb70l.cloudfront.net/68c31a777600b687984e53d0_1757616806868_c4dbdfd5.webp",alt:"Principal Dashboard",className:"w-16 h-16 mx-auto mb-4 rounded-lg"}),h.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Principal Dashboard"}),h.jsx("p",{className:"text-sm text-blue-100",children:"Approve teachers, oversee students, and ensure smooth school operations."})]})]})]})})]})}),h.jsx($H,{}),h.jsx("footer",{className:"bg-gray-100 text-center py-4 text-sm text-gray-500",children:h.jsx("button",{onClick:()=>window.location.href="/admin-login",className:"hover:text-blue-600",children:"© 2025 NextGen Independent Online School"})})]})}),zH={sidebarOpen:!1,toggleSidebar:()=>{}},WH=y.createContext(zH),HH=({children:t})=>{const[e,n]=y.useState(!1),r=()=>{n(s=>!s)};return h.jsx(WH.Provider,{value:{sidebarOpen:e,toggleSidebar:r},children:t})},qH=()=>h.jsx(HH,{children:h.jsx(BH,{})}),GH=()=>{const t=cl();return y.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",t.pathname)},[t.pathname]),h.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:h.jsxs("div",{className:"text-center p-8 rounded-lg border border-border bg-card shadow-md animate-slide-in",children:[h.jsx("h1",{className:"text-5xl font-bold mb-6 text-primary",children:"404"}),h.jsx("p",{className:"text-xl text-card-foreground mb-6",children:"Page not found"}),h.jsx("a",{href:"/",className:"text-primary hover:text-primary/80 underline transition-colors",children:"Return to Home"})]})})},KH=()=>{var o,a,l,u,d;const{user:t,logout:e}=Mn(),[n,r]=y.useState(!0),[s,i]=y.useState(null);return y.useEffect(()=>{(async()=>{if(t!=null&&t.uid)try{const p=Ae(se,"students",t.uid),g=await cn(p);if(!g.exists()){console.error("No student record found."),r(!1);return}const S=g.data(),v=gr(ht(se,"classes"),Lr("grade","==",S.grade),Lr("classSection","==",S.classSection)),E=(await go(v)).docs.map(b=>b.data()),w=gr(ht(se,"assignments"),Lr("grade","==",S.grade),Lr("classSection","==",S.classSection)),C=(await go(w)).docs.map(b=>b.data()),D=gr(ht(se,"exams"),Lr("grade","==",S.grade),Lr("classSection","==",S.classSection)),I=(await go(D)).docs.map(b=>b.data());i({...S,currentClasses:E,assignments:C,upcomingExams:I})}catch(p){console.error("Error fetching student dashboard:",p)}finally{r(!1)}})()},[t]),n?h.jsx("div",{className:"min-h-screen flex items-center justify-center text-gray-600",children:"Loading your dashboard..."}):s?h.jsxs("div",{className:"min-h-screen bg-gray-50",children:[h.jsx("div",{className:"bg-white shadow-sm border-b",children:h.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:h.jsxs("div",{className:"flex justify-between items-center py-4",children:[h.jsxs("div",{children:[h.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Student Dashboard"}),h.jsxs("p",{className:"text-gray-600",children:["Welcome back, ",s.name,"!"]}),h.jsxs("p",{className:"text-sm text-gray-500",children:[s.grade," - ",s.classSection]})]}),h.jsx("button",{onClick:e,className:"bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700 transition-colors",children:"Logout"})]})})}),h.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[h.jsxs("div",{className:"bg-blue-600 text-white rounded-xl p-6",children:[h.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Points"}),h.jsx("p",{className:"text-3xl font-bold",children:s.points||0})]}),h.jsxs("div",{className:"bg-green-600 text-white rounded-xl p-6",children:[h.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Attendance"}),h.jsxs("p",{className:"text-3xl font-bold",children:[s.attendance||0,"%"]})]}),h.jsxs("div",{className:"bg-orange-600 text-white rounded-xl p-6",children:[h.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Assignments"}),h.jsx("p",{className:"text-3xl font-bold",children:((o=s.assignments)==null?void 0:o.length)||0})]}),h.jsxs("div",{className:"bg-purple-600 text-white rounded-xl p-6",children:[h.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Grade"}),h.jsx("p",{className:"text-3xl font-bold",children:(a=s.grade)==null?void 0:a.replace("Grade ","")})]})]}),h.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[h.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[h.jsx("h2",{className:"text-xl font-bold mb-4",children:"Today's Classes"}),h.jsx("div",{className:"space-y-4",children:(l=s.currentClasses)==null?void 0:l.map((f,p)=>h.jsxs("div",{className:"flex items-center justify-between p-4 bg-blue-50 rounded-lg",children:[h.jsxs("div",{children:[h.jsx("h3",{className:"font-semibold text-gray-900",children:f.subject}),h.jsxs("p",{className:"text-sm text-gray-600",children:[f.time," - ",f.teacher]})]}),h.jsx("a",{href:f.meetLink||"#",target:"_blank",rel:"noopener noreferrer",className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"Join Class"})]},p))})]}),h.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[h.jsx("h2",{className:"text-xl font-bold mb-4",children:"Recent Assignments"}),h.jsx("div",{className:"space-y-4",children:(u=s.assignments)==null?void 0:u.map((f,p)=>h.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[h.jsxs("div",{children:[h.jsx("h3",{className:"font-semibold text-gray-900",children:f.title}),h.jsxs("p",{className:"text-sm text-gray-600",children:[f.subject," - Due: ",f.due]})]}),h.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${f.status==="submitted"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:f.status})]},p))})]})]}),h.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 mt-8",children:[h.jsx("h2",{className:"text-xl font-bold mb-4",children:"Upcoming Exams"}),h.jsx("div",{className:"space-y-4",children:(d=s.upcomingExams)==null?void 0:d.map((f,p)=>h.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[h.jsxs("div",{children:[h.jsx("h3",{className:"font-semibold text-gray-900",children:f.subject}),h.jsx("p",{className:"text-sm text-gray-600",children:f.type})]}),h.jsx("p",{className:"text-sm font-medium text-purple-600",children:f.date})]},p))})]})]})]}):h.jsx("div",{className:"min-h-screen flex items-center justify-center text-red-600",children:"No student data found. Contact your teacher or admin."})},QH=()=>h.jsxs("footer",{className:"w-full text-center text-gray-500 py-4 border-t",children:[h.jsx("span",{children:"© 2025 Nextgen"}),h.jsx(ql,{to:"/admin-login",className:"ml-2 cursor-pointer text-xs text-gray-400 hover:text-gray-700",children:"c 2025 Nextgen"})]}),YH=()=>{const{login:t,loginWithGoogle:e}=Mn(),n=Rf(),[r,s]=y.useState(""),[i,o]=y.useState(""),[a,l]=y.useState(""),[u,d]=y.useState(!1),f=async g=>{g.preventDefault(),l(""),d(!0);try{if((await(await t(r,i)).getIdTokenResult()).claims.role!=="admin")throw new Error("You are not authorized as admin.");n("/admin-dashboard")}catch(S){l(S.message)}finally{d(!1)}},p=async()=>{l(""),d(!0);try{if((await(await e()).getIdTokenResult()).claims.role!=="admin")throw new Error("You are not authorized as admin.");n("/admin-dashboard")}catch(g){l(g.message)}finally{d(!1)}};return h.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 p-4",children:h.jsxs(Pn,{className:"w-full max-w-md",children:[h.jsx(bs,{children:h.jsx(Is,{children:"Admin Login"})}),h.jsxs(Hn,{children:[a&&h.jsx(ip,{variant:"destructive",children:h.jsx(op,{children:a})}),h.jsxs("form",{onSubmit:f,className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx(Je,{children:"Email"}),h.jsx(Wt,{type:"email",value:r,onChange:g=>s(g.target.value),required:!0})]}),h.jsxs("div",{children:[h.jsx(Je,{children:"Password"}),h.jsx(Wt,{type:"password",value:i,onChange:g=>o(g.target.value),required:!0})]}),h.jsx(De,{type:"submit",disabled:u,className:"w-full",children:u?"Signing in...":"Sign In"})]}),h.jsx("div",{className:"my-4 text-center text-gray-500 text-sm",children:"or"}),h.jsx(De,{onClick:p,disabled:u,className:"w-full bg-red-600 hover:bg-red-700",children:u?"Signing in...":"Sign in with Google"})]})]})})},XH=()=>{const{logout:t}=Mn();return h.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-yellow-50 to-orange-100 p-4",children:h.jsxs(Pn,{className:"w-full max-w-md text-center",children:[h.jsx(bs,{children:h.jsx(Is,{className:"text-xl font-semibold text-gray-800",children:"⏳ Approval Pending"})}),h.jsxs(Hn,{className:"space-y-4",children:[h.jsx("p",{className:"text-gray-600",children:"Your account has been created, but it’s waiting for approval by the principal. You’ll be able to log in once your account is approved."}),h.jsx(De,{onClick:t,className:"bg-red-500 hover:bg-red-600 text-white",children:"Log Out"})]})]})})},JH=()=>h.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gray-100",children:[h.jsx("h1",{className:"text-3xl font-bold text-red-600 mb-4",children:"Account Suspended"}),h.jsx("p",{className:"text-gray-700 mb-6 max-w-md text-center",children:"Your account has been suspended by the school administration. Please contact your principal or school administrator for more details."}),h.jsx(De,{className:"bg-blue-600 hover:bg-blue-700",onClick:()=>as.signOut(),children:"Logout"})]}),ZH=new LD,Lm=({allowedRoles:t,children:e})=>{const{user:n,loading:r}=Mn();return r?h.jsx("div",{children:"Loading..."}):n?n.status==="pending"?h.jsx(XH,{}):n.status==="suspended"?h.jsx(JH,{}):t.includes(n.role)?h.jsx(h.Fragment,{children:e}):h.jsx("div",{children:"Access denied"}):h.jsx("div",{children:"Please log in"})},eq=()=>h.jsx(lD,{defaultTheme:"light",children:h.jsx(jD,{client:ZH,children:h.jsxs(Aj,{children:[h.jsx(gV,{}),h.jsx(WV,{}),h.jsx(B4,{children:h.jsx(_P,{children:h.jsxs(L4,{children:[h.jsx(ss,{path:"/",element:h.jsx(qH,{})}),h.jsx(ss,{path:"/admin-dashboard",element:h.jsx(j8,{allowedRoles:["admin"],children:h.jsx(yk,{})})}),h.jsx(ss,{path:"/teacher-dashboard",element:h.jsx(Lm,{allowedRoles:["teacher"],children:h.jsx(PN,{})})}),h.jsx(ss,{path:"/student-dashboard",element:h.jsx(Lm,{allowedRoles:["student"],children:h.jsx(KH,{})})}),h.jsx(ss,{path:"/parent-dashboard",element:h.jsx(Lm,{allowedRoles:["parent"],children:h.jsx(RN,{})})}),h.jsx(ss,{path:"/admin-login",element:h.jsx(YH,{})}),h.jsx(ss,{path:"/footer",element:h.jsx(QH,{})}),h.jsx(ss,{path:"*",element:h.jsx(GH,{})})]})})})]})})});SI(document.getElementById("root")).render(h.jsx(eq,{}));
